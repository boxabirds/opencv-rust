# Cargo Clippy Pedantic Assessment Report

**Date:** 2025-11-12 13:15  
**Command:** `cargo clippy -- -W clippy::pedantic`  
**Branch:** claude/clippy-pedantic-assessment-011CV44Tt92ugwqmM5KK3Wtg

## Executive Summary

This report contains the output of running `cargo clippy` with pedantic lints enabled on the opencv-rust codebase. The pedantic lint set includes additional style and code quality checks beyond the default clippy lints.

## Key Categories of Warnings

The analysis identified warnings in the following categories:

1. **Naming and Style Issues**
   - `many_single_char_names`: Multiple single-character variable names in scope
   - `similar_names`: Variable names that are too similar to each other
   - `doc_markdown`: Missing backticks in documentation

2. **Documentation Issues**
   - `missing_errors_doc`: Missing `# Errors` sections for functions returning `Result`
   - `missing_panics_doc`: Missing `# Panics` sections for functions that may panic
   - `must_use_candidate`: Methods that should have `#[must_use]` attribute

3. **Numeric and Type Issues**
   - `unreadable_literal`: Long numeric literals lacking separators
   - `cast_sign_loss`: Casts from signed to unsigned types that may lose sign
   - `cast_possible_truncation`: Casts that may truncate values
   - `cast_precision_loss`: Casts that may lose precision

4. **Code Complexity**
   - `too_many_lines`: Functions or modules exceeding line count thresholds
   - `module_name_repetitions`: Repetitive module naming patterns

## Detailed Warnings

warning: 6 bindings with single-character names in scope
   --> src/imgproc/color.rs:264:18
    |
264 |             let (r, g, b) = if is_bgr {
    |                  ^  ^  ^
...
275 |             let h = if delta == 0.0 {
    |                 ^
...
288 |             let s = if max == 0.0 { 0.0 } else { delta / max };
    |                 ^
...
291 |             let v = max;
    |                 ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names
    = note: `-W clippy::many-single-char-names` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::many_single_char_names)]`

warning: 9 bindings with single-character names in scope
   --> src/imgproc/color.rs:316:17
    |
316 |             let h = pixel[0] as f32 * 2.0; // Convert back from [0, 180] to [0, 360]
    |                 ^
317 |             let s = pixel[1] as f32 / 255.0;
    |                 ^
318 |             let v = pixel[2] as f32 / 255.0;
    |                 ^
319 |
320 |             let c = v * s;
    |                 ^
321 |             let x = c * (1.0 - ((h / 60.0) % 2.0 - 1.0).abs());
    |                 ^
322 |             let m = v - c;
    |                 ^
323 |
324 |             let (r, g, b) = if h < 60.0 {
    |                  ^  ^  ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: 9 bindings with single-character names in scope
   --> src/imgproc/color.rs:371:18
    |
371 |             let (r, g, b) = if is_bgr {
    |                  ^  ^  ^
...
382 |             let x = r_linear * 0.4124 + g_linear * 0.3576 + b_linear * 0.1805;
    |                 ^
383 |             let y = r_linear * 0.2126 + g_linear * 0.7152 + b_linear * 0.0722;
    |                 ^
384 |             let z = r_linear * 0.0193 + g_linear * 0.1192 + b_linear * 0.9505;
    |                 ^
...
392 |             let f = |t: f32| if t > 0.008856 { t.powf(1.0 / 3.0) } else { 7.787 * t + 16.0 / 116.0 };
    |                 ^
...
397 |             let l = 116.0 * fy - 16.0;
    |                 ^
398 |             let a = 500.0 * (fx - fy);
    |                 ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: long literal lacking separators
   --> src/imgproc/color.rs:387:26
    |
387 |             let xn = x / 0.950489;
    |                          ^^^^^^^^ help: consider: `0.950_489`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal
    = note: `-W clippy::unreadable-literal` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::unreadable_literal)]`

warning: long literal lacking separators
   --> src/imgproc/color.rs:392:37
    |
392 |             let f = |t: f32| if t > 0.008856 { t.powf(1.0 / 3.0) } else { 7.787 * t + 16.0 / 116.0 };
    |                                     ^^^^^^^^ help: consider: `0.008_856`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: 5 bindings with single-character names in scope
   --> src/imgproc/color.rs:424:17
    |
424 |             let l = pixel[0] as f32 / 2.55;
    |                 ^
425 |             let a = pixel[1] as f32 - 128.0;
    |                 ^
426 |             let b = pixel[2] as f32 - 128.0;
    |                 ^
...
444 |             let r = (gamma(r_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                 ^
445 |             let g = (gamma(g_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                 ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: long literal lacking separators
   --> src/imgproc/color.rs:433:41
    |
433 |             let f_inv = |t: f32| if t > 0.206897 { t.powi(3) } else { (t - 16.0 / 116.0) / 7.787 };
    |                                         ^^^^^^^^ help: consider: `0.206_897`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/imgproc/color.rs:434:34
    |
434 |             let xn = f_inv(fx) * 0.950489;
    |                                  ^^^^^^^^ help: consider: `0.950_489`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/imgproc/color.rs:443:41
    |
443 |             let gamma = |t: f32| if t > 0.0031308 { 1.055 * t.powf(1.0 / 2.4) - 0.055 } else { 12.92 * t };
    |                                         ^^^^^^^^^ help: consider: `0.003_130_8`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: binding's name is too similar to existing binding
   --> src/imgproc/edge.rs:229:9
    |
229 |     let grad_y_data = grad_y.data();
    |         ^^^^^^^^^^^
    |
note: existing binding defined here
   --> src/imgproc/edge.rs:228:9
    |
228 |     let grad_x_data = grad_x.data();
    |         ^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names
    = note: `-W clippy::similar-names` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::similar_names)]`

warning: 5 bindings with single-character names in scope
   --> src/imgproc/drawing.rs:180:10
    |
180 |     let (a, b) = axes;
    |          ^  ^
...
190 |         let t = start_angle + (i as f64 / num_points as f64) * angle_range;
    |             ^
...
202 |         let x = center.x + x_rot as i32;
    |             ^
203 |         let y = center.y + y_rot as i32;
    |             ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: binding's name is too similar to existing binding
  --> src/imgproc/advanced_filter.rs:34:17
   |
34 |             let dist = (i * i + j * j) as f64;
   |                 ^^^^
   |
note: existing binding defined here
  --> src/imgproc/advanced_filter.rs:10:5
   |
10 |     dst: &mut Mat,
   |     ^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/imgproc/advanced_filter.rs:204:13
    |
204 |     let mut dist = vec![vec![f32::MAX; src.cols()]; src.rows()];
    |             ^^^^
    |
note: existing binding defined here
   --> src/imgproc/advanced_filter.rs:191:5
    |
191 |     dst: &mut Mat,
    |     ^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/features2d/akaze.rs:145:29
    |
145 |                         let dy_val = dy.at_f32(row, col, 0)?;
    |                             ^^^^^^
    |
note: existing binding defined here
   --> src/features2d/akaze.rs:144:29
    |
144 |                         let dx_val = dx.at_f32(row, col, 0)?;
    |                             ^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/features2d/kaze.rs:134:29
    |
134 |                         let dy_val = dy.at_f32(row, col, 0)?;
    |                             ^^^^^^
    |
note: existing binding defined here
   --> src/features2d/kaze.rs:133:29
    |
133 |                         let dx_val = dx.at_f32(row, col, 0)?;
    |                             ^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/features2d/kaze.rs:424:29
    |
424 |                     let mut dy_sum = 0.0f32;
    |                             ^^^^^^
    |
note: existing binding defined here
   --> src/features2d/kaze.rs:423:29
    |
423 |                     let mut dx_sum = 0.0f32;
    |                             ^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/features2d/kaze.rs:426:29
    |
426 |                     let mut abs_dy_sum = 0.0f32;
    |                             ^^^^^^^^^^
    |
note: existing binding defined here
   --> src/features2d/kaze.rs:425:29
    |
425 |                     let mut abs_dx_sum = 0.0f32;
    |                             ^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/features2d/kaze.rs:445:33
    |
445 | ...                   let dy_rot = dx * sin_angle + dy * cos_angle;
    |                           ^^^^^^
    |
note: existing binding defined here
   --> src/features2d/kaze.rs:444:33
    |
444 | ...                   let dx_rot = dx * cos_angle - dy * sin_angle;
    |                           ^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: long literal lacking separators
   --> src/features2d/brief.rs:159:46
    |
159 |         self.state = self.state.wrapping_mul(1103515245).wrapping_add(12345);
    |                                              ^^^^^^^^^^ help: consider: `1_103_515_245`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: binding's name is too similar to existing binding
   --> src/video/optical_flow.rs:149:21
    |
149 |             let mut best_dy = 0;
    |                     ^^^^^^^
    |
note: existing binding defined here
   --> src/video/optical_flow.rs:148:21
    |
148 |             let mut best_dx = 0;
    |                     ^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/video/camshift.rs:276:21
    |
276 |                 let ixit = ix * it;
    |                     ^^^^
    |
note: existing binding defined here
   --> src/video/camshift.rs:275:21
    |
275 |                 let ixiy = ix * iy;
    |                     ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/video/advanced_tracking.rs:187:13
    |
187 |         let median_dy = displacements_y[displacements_y.len() / 2];
    |             ^^^^^^^^^
    |
note: existing binding defined here
   --> src/video/advanced_tracking.rs:186:13
    |
186 |         let median_dx = displacements_x[displacements_x.len() / 2];
    |             ^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: long literal lacking separators
   --> src/ml/random_forest.rs:229:35
    |
229 |     let mut x = seed.wrapping_mul(1664525).wrapping_add(1013904223);
    |                                   ^^^^^^^ help: consider: `1_664_525`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/ml/random_forest.rs:229:57
    |
229 |     let mut x = seed.wrapping_mul(1664525).wrapping_add(1013904223);
    |                                                         ^^^^^^^^^^ help: consider: `1_013_904_223`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/ml/random_forest.rs:230:24
    |
230 |     x = x.wrapping_mul(1664525).wrapping_add(1013904223);
    |                        ^^^^^^^ help: consider: `1_664_525`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/ml/random_forest.rs:230:46
    |
230 |     x = x.wrapping_mul(1664525).wrapping_add(1013904223);
    |                                              ^^^^^^^^^^ help: consider: `1_013_904_223`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/ml/ann.rs:282:44
    |
282 |         RAND_SEED = RAND_SEED.wrapping_mul(1103515245).wrapping_add(12345);
    |                                            ^^^^^^^^^^ help: consider: `1_103_515_245`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: binding's name is too similar to existing binding
   --> src/photo/denoising.rs:315:21
    |
315 |                 let dy_forward = result.at(row + 1, col)?[0] as f32 - center;
    |                     ^^^^^^^^^^
    |
note: existing binding defined here
   --> src/photo/denoising.rs:313:21
    |
313 |                 let dx_forward = result.at(row, col + 1)?[0] as f32 - center;
    |                     ^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
   --> src/photo/denoising.rs:316:21
    |
316 |                 let dy_backward = center - result.at(row - 1, col)?[0] as f32;
    |                     ^^^^^^^^^^^
    |
note: existing binding defined here
   --> src/photo/denoising.rs:314:21
    |
314 |                 let dx_backward = center - result.at(row, col - 1)?[0] as f32;
    |                     ^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: binding's name is too similar to existing binding
  --> src/calib3d/camera.rs:91:13
   |
91 |         let dy_tangential = self.p[0] * (r2 + 2.0 * y * y) + 2.0 * self.p[1] * x * y;
   |             ^^^^^^^^^^^^^
   |
note: existing binding defined here
  --> src/calib3d/camera.rs:90:13
   |
90 |         let dx_tangential = 2.0 * self.p[0] * x * y + self.p[1] * (r2 + 2.0 * x * x);
   |             ^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#similar_names

warning: 5 bindings with single-character names in scope
   --> src/calib3d/camera.rs:227:9
    |
227 |     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |         ^
228 |     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |         ^
229 |     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |         ^
...
239 |     let u = camera.fx * xd + camera.cx;
    |         ^
240 |     let v = camera.fy * yd + camera.cy;
    |         ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: 6 bindings with single-character names in scope
   --> src/calib3d/pnp.rs:203:9
    |
203 |     let n = object_points.len();
    |         ^
...
208 |         let u = img_pt.x as f64;
    |             ^
209 |         let v = img_pt.y as f64;
    |             ^
210 |
211 |         let x = obj_pt.x as f64;
    |             ^
212 |         let y = obj_pt.y as f64;
    |             ^
213 |         let z = obj_pt.z as f64;
    |             ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: 5 bindings with single-character names in scope
   --> src/calib3d/pnp.rs:320:9
    |
320 |     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
    |         ^
321 |     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
    |         ^
322 |     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
    |         ^
323 |
324 |     let u = camera.fx * x / z + camera.cx;
    |         ^
325 |     let v = camera.fy * y / z + camera.cy;
    |         ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: long literal lacking separators
   --> src/calib3d/homography.rs:360:46
    |
360 |         RAND_STATE = RAND_STATE.wrapping_mul(1664525).wrapping_add(1013904223);
    |                                              ^^^^^^^ help: consider: `1_664_525`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: long literal lacking separators
   --> src/calib3d/homography.rs:360:68
    |
360 |         RAND_STATE = RAND_STATE.wrapping_mul(1664525).wrapping_add(1013904223);
    |                                                                    ^^^^^^^^^^ help: consider: `1_013_904_223`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unreadable_literal

warning: 5 bindings with single-character names in scope
   --> src/calib3d/fisheye.rs:108:13
    |
108 |         let x = cam_point[0] / cam_point[2];
    |             ^
109 |         let y = cam_point[1] / cam_point[2];
    |             ^
...
112 |         let r = (x * x + y * y).sqrt();
    |             ^
...
133 |         let u = camera_matrix.fx * xd + camera_matrix.cx;
    |             ^
134 |         let v = camera_matrix.fy * yd + camera_matrix.cy;
    |             ^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#many_single_char_names

warning: item in documentation is missing backticks
 --> src/lib.rs:3:40
  |
3 | //! A pure Rust implementation of core OpenCV functionality.
  |                                        ^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
  = note: `-W clippy::doc-markdown` implied by `-W clippy::pedantic`
  = help: to override `-W clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
  |
3 - //! A pure Rust implementation of core OpenCV functionality.
3 + //! A pure Rust implementation of core `OpenCV` functionality.
  |

warning: item in documentation is missing backticks
 --> src/lib.rs:6:17
  |
6 | //! inspired by OpenCV, implemented entirely in Rust for safety and performance.
  |                 ^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
6 - //! inspired by OpenCV, implemented entirely in Rust for safety and performance.
6 + //! inspired by `OpenCV`, implemented entirely in Rust for safety and performance.
  |

warning: this method could have a `#[must_use]` attribute
  --> src/core/mat.rs:25:12
   |
25 |     pub fn size(&self) -> usize {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
   = note: `-W clippy::must-use-candidate` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::must_use_candidate)]`
help: add the attribute
   |
25 ~     #[must_use] 
26 ~     pub fn size(&self) -> usize {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat.rs:39:5
   |
39 |     pub fn new_rows_cols(rows: usize, cols: usize, channels: usize, depth: MatDepth) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc
   = note: `-W clippy::missing-errors-doc` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

warning: item in documentation is missing backticks
  --> src/core/mat.rs:60:31
   |
60 |     /// Convenience alias for new_rows_cols
   |                               ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
60 -     /// Convenience alias for new_rows_cols
60 +     /// Convenience alias for `new_rows_cols`
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat.rs:61:5
   |
61 |     pub fn new(rows: usize, cols: usize, channels: usize, depth: MatDepth) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat.rs:66:5
   |
66 |     pub fn new_size(size: Size, channels: usize, depth: MatDepth) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/core/mat.rs:67:29
   |
67 |         Self::new_rows_cols(size.height as usize, size.width as usize, channels, depth)
   |                             ^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss
   = note: `-W clippy::cast-sign-loss` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/core/mat.rs:67:51
   |
67 |         Self::new_rows_cols(size.height as usize, size.width as usize, channels, depth)
   |                                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat.rs:71:5
   |
71 | /     pub fn new_rows_cols_with_default(
72 | |         rows: usize,
73 | |         cols: usize,
74 | |         channels: usize,
75 | |         depth: MatDepth,
76 | |         value: Scalar,
77 | |     ) -> Result<Self> {
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat.rs:84:5
   |
84 | /     pub fn new_with_default(
85 | |         rows: usize,
86 | |         cols: usize,
87 | |         channels: usize,
88 | |         depth: MatDepth,
89 | |         value: Scalar,
90 | |     ) -> Result<Self> {
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:95:5
    |
 95 | /     pub fn new_size_with_default(
 96 | |         size: Size,
 97 | |         channels: usize,
 98 | |         depth: MatDepth,
 99 | |         value: Scalar,
100 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:102:13
    |
102 |             size.height as usize,
    |             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:103:13
    |
103 |             size.width as usize,
    |             ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:111:5
    |
111 | /     pub fn from_raw(
112 | |         data: Vec<u8>,
113 | |         rows: usize,
114 | |         cols: usize,
115 | |         channels: usize,
116 | |         depth: MatDepth,
117 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:137:5
    |
137 | /     pub fn from_slice(
138 | |         slice: &[u8],
139 | |         rows: usize,
140 | |         cols: usize,
141 | |         channels: usize,
142 | |         depth: MatDepth,
143 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:148:5
    |
148 | /     pub fn from_bytes(
149 | |         bytes: &[u8],
150 | |         rows: usize,
151 | |         cols: usize,
152 | |         channels: usize,
153 | |         depth: MatDepth,
154 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:159:5
    |
159 |     pub fn zeros(rows: usize, cols: usize, channels: usize, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:164:5
    |
164 |     pub fn zeros_size(size: Size, channels: usize, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:169:5
    |
169 |     pub fn ones(rows: usize, cols: usize, channels: usize, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:174:5
    |
174 |     pub fn ones_size(size: Size, channels: usize, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:179:5
    |
179 |     pub fn eye(rows: usize, cols: usize, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:211:5
    |
211 |     pub fn eye_size(size: Size, depth: MatDepth) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:212:19
    |
212 |         Self::eye(size.height as usize, size.width as usize, depth)
    |                   ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:212:41
    |
212 |         Self::eye(size.height as usize, size.width as usize, depth)
    |                                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:216:12
    |
216 |     pub fn size(&self) -> Size {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
216 ~     #[must_use] 
217 ~     pub fn size(&self) -> Size {
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:217:19
    |
217 |         Size::new(self.cols as i32, self.rows as i32)
    |                   ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
    = note: `-W clippy::cast-possible-truncation` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
    |
217 -         Size::new(self.cols as i32, self.rows as i32)
217 +         Size::new(i32::try_from(self.cols), self.rows as i32)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:217:19
    |
217 |         Size::new(self.cols as i32, self.rows as i32)
    |                   ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap
    = note: `-W clippy::cast-possible-wrap` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:217:37
    |
217 |         Size::new(self.cols as i32, self.rows as i32)
    |                                     ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
217 -         Size::new(self.cols as i32, self.rows as i32)
217 +         Size::new(self.cols as i32, i32::try_from(self.rows))
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:217:37
    |
217 |         Size::new(self.cols as i32, self.rows as i32)
    |                                     ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:220:12
    |
220 |     pub fn rows(&self) -> usize {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
220 ~     #[must_use] 
221 ~     pub fn rows(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:224:12
    |
224 |     pub fn cols(&self) -> usize {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
224 ~     #[must_use] 
225 ~     pub fn cols(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:229:12
    |
229 |     pub fn width(&self) -> usize {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
229 ~     #[must_use] 
230 ~     pub fn width(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:234:12
    |
234 |     pub fn height(&self) -> usize {
    |            ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
234 ~     #[must_use] 
235 ~     pub fn height(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:238:12
    |
238 |     pub fn channels(&self) -> usize {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
238 ~     #[must_use] 
239 ~     pub fn channels(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:242:12
    |
242 |     pub fn depth(&self) -> MatDepth {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
242 ~     #[must_use] 
243 ~     pub fn depth(&self) -> MatDepth {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:246:12
    |
246 |     pub fn is_empty(&self) -> bool {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
246 ~     #[must_use] 
247 ~     pub fn is_empty(&self) -> bool {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:251:12
    |
251 |     pub fn elem_size(&self) -> usize {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
251 ~     #[must_use] 
252 ~     pub fn elem_size(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:256:12
    |
256 |     pub fn elem_size1(&self) -> usize {
    |            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
256 ~     #[must_use] 
257 ~     pub fn elem_size1(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:261:12
    |
261 |     pub fn total(&self) -> usize {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
261 ~     #[must_use] 
262 ~     pub fn total(&self) -> usize {
    |

warning: item in documentation is missing backticks
   --> src/core/mat.rs:266:41
    |
266 |     /// Returns a value compatible with OpenCV's type system
    |                                         ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
266 -     /// Returns a value compatible with OpenCV's type system
266 +     /// Returns a value compatible with `OpenCV`'s type system
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:267:12
    |
267 |     pub fn type_(&self) -> i32 {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
267 ~     #[must_use] 
268 ~     pub fn type_(&self) -> i32 {
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:275:21
    |
275 |         depth_val + ((self.channels - 1) << 3) as i32
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
275 -         depth_val + ((self.channels - 1) << 3) as i32
275 +         depth_val + i32::try_from((self.channels - 1) << 3)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:275:21
    |
275 |         depth_val + ((self.channels - 1) << 3) as i32
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:279:12
    |
279 |     pub fn dims(&self) -> i32 {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
279 ~     #[must_use] 
280 ~     pub fn dims(&self) -> i32 {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:285:12
    |
285 |     pub fn is_continuous(&self) -> bool {
    |            ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
285 ~     #[must_use] 
286 ~     pub fn is_continuous(&self) -> bool {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:291:12
    |
291 |     pub fn step1(&self) -> usize {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
291 ~     #[must_use] 
292 ~     pub fn step1(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:296:12
    |
296 |     pub fn data(&self) -> &[u8] {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
296 ~     #[must_use] 
297 ~     pub fn data(&self) -> &[u8] {
    |

warning: docs for function which may panic missing `# Panics` section
   --> src/core/mat.rs:306:5
    |
306 |     pub fn at(&self, row: usize, col: usize) -> Result<&[u8]> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/core/mat.rs:307:9
    |
307 | /         assert!(
308 | |             row < self.rows && col < self.cols,
309 | |             "Index ({}, {}) out of range for {}x{} matrix",
310 | |             row, col, self.rows, self.cols
311 | |         );
    | |_________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc
    = note: `-W clippy::missing-panics-doc` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::missing_panics_doc)]`

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:306:5
    |
306 |     pub fn at(&self, row: usize, col: usize) -> Result<&[u8]> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/core/mat.rs:320:5
    |
320 |     pub fn at_mut(&mut self, row: usize, col: usize) -> Result<&mut [u8]> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/core/mat.rs:321:9
    |
321 | /         assert!(
322 | |             row < self.rows && col < self.cols,
323 | |             "Index ({}, {}) out of range for {}x{} matrix",
324 | |             row, col, self.rows, self.cols
325 | |         );
    | |_________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:320:5
    |
320 |     pub fn at_mut(&mut self, row: usize, col: usize) -> Result<&mut [u8]> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: you have declared `#[inline(always)]` on `at_unchecked`. This is usually a bad idea
   --> src/core/mat.rs:337:5
    |
337 |     #[inline(always)]
    |     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#inline_always
    = note: `-W clippy::inline-always` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::inline_always)]`

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:338:19
    |
338 |     pub unsafe fn at_unchecked(&self, row: usize, col: usize) -> &[u8] {
    |                   ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
338 ~     #[must_use] 
339 ~     pub unsafe fn at_unchecked(&self, row: usize, col: usize) -> &[u8] {
    |

warning: you have declared `#[inline(always)]` on `at_mut_unchecked`. This is usually a bad idea
   --> src/core/mat.rs:349:5
    |
349 |     #[inline(always)]
    |     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#inline_always

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:357:5
    |
357 |     pub fn set_to(&mut self, value: Scalar) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `u8` may truncate the value
   --> src/core/mat.rs:369:33
    |
369 |                     pixel[ch] = val as u8;
    |                                 ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/core/mat.rs:369:33
    |
369 |                     pixel[ch] = val as u8;
    |                                 ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:377:5
    |
377 |     pub fn roi(&self, rect: Rect) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:382:17
    |
382 |         let x = rect.x as usize;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:383:17
    |
383 |         let y = rect.y as usize;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:384:17
    |
384 |         let w = rect.width as usize;
    |                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/core/mat.rs:385:17
    |
385 |         let h = rect.height as usize;
    |                 ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:406:5
    |
406 |     pub fn roi_mut(&mut self, rect: Rect) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:411:5
    |
411 |     pub fn rowscols(&self, row_start: usize, row_end: usize, col_start: usize, col_end: usize) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:417:13
    |
417 |             col_start as i32,
    |             ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
417 -             col_start as i32,
417 +             i32::try_from(col_start),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:417:13
    |
417 |             col_start as i32,
    |             ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:418:13
    |
418 |             row_start as i32,
    |             ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
418 -             row_start as i32,
418 +             i32::try_from(row_start),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:418:13
    |
418 |             row_start as i32,
    |             ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:419:13
    |
419 |             (col_end - col_start) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
419 -             (col_end - col_start) as i32,
419 +             i32::try_from(col_end - col_start),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:419:13
    |
419 |             (col_end - col_start) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/core/mat.rs:420:13
    |
420 |             (row_end - row_start) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
420 -             (row_end - row_start) as i32,
420 +             i32::try_from(row_end - row_start),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/core/mat.rs:420:13
    |
420 |             (row_end - row_start) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:426:5
    |
426 |     pub fn rowscols_mut(&mut self, row_start: usize, row_end: usize, col_start: usize, col_end: usize) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:431:5
    |
431 |     pub fn copy_to(&self, dst: &mut Mat) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/core/mat.rs:443:12
    |
443 |     pub fn clone_mat(&self) -> Mat {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
443 ~     #[must_use] 
444 ~     pub fn clone_mat(&self) -> Mat {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/core/mat.rs:443:5
    |
443 | /     pub fn clone_mat(&self) -> Mat {
444 | |         Self {
445 | |             data: self.data.clone(),
446 | |             rows: self.rows,
...   |
451 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use
    = note: `-W clippy::return-self-not-must-use` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::return_self_not_must_use)]`

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:454:5
    |
454 |     pub fn to_array3(&self) -> Result<Array3<u8>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat.rs:467:5
    |
467 |     pub fn from_array3(arr: Array3<u8>) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
 --> src/core/mat_typed.rs:7:5
  |
7 |     pub fn at_f32(&self, row: usize, col: usize, channel: usize) -> Result<f32> {
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
  --> src/core/mat_typed.rs:15:42
   |
15 |               return Err(Error::OutOfRange(format!(
   |  __________________________________________^
16 | |                 "Index ({}, {}, {}) out of range",
17 | |                 row, col, channel
18 | |             )));
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args
   = note: `-W clippy::uninlined-format-args` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat_typed.rs:30:5
   |
30 |     pub fn set_f32(&mut self, row: usize, col: usize, channel: usize, value: f32) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
  --> src/core/mat_typed.rs:38:42
   |
38 |               return Err(Error::OutOfRange(format!(
   |  __________________________________________^
39 | |                 "Index ({}, {}, {}) out of range",
40 | |                 row, col, channel
41 | |             )));
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat_typed.rs:54:5
   |
54 |     pub fn at_f64(&self, row: usize, col: usize, channel: usize) -> Result<f64> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
  --> src/core/mat_typed.rs:62:42
   |
62 |               return Err(Error::OutOfRange(format!(
   |  __________________________________________^
63 | |                 "Index ({}, {}, {}) out of range",
64 | |                 row, col, channel
65 | |             )));
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/mat_typed.rs:80:5
   |
80 |     pub fn set_f64(&mut self, row: usize, col: usize, channel: usize, value: f64) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
  --> src/core/mat_typed.rs:88:42
   |
88 |               return Err(Error::OutOfRange(format!(
   |  __________________________________________^
89 | |                 "Index ({}, {}, {}) out of range",
90 | |                 row, col, channel
91 | |             )));
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat_typed.rs:104:5
    |
104 |     pub fn at_u16(&self, row: usize, col: usize, channel: usize) -> Result<u16> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
   --> src/core/mat_typed.rs:112:42
    |
112 |               return Err(Error::OutOfRange(format!(
    |  __________________________________________^
113 | |                 "Index ({}, {}, {}) out of range",
114 | |                 row, col, channel
115 | |             )));
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat_typed.rs:127:5
    |
127 |     pub fn set_u16(&mut self, row: usize, col: usize, channel: usize, value: u16) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
   --> src/core/mat_typed.rs:135:42
    |
135 |               return Err(Error::OutOfRange(format!(
    |  __________________________________________^
136 | |                 "Index ({}, {}, {}) out of range",
137 | |                 row, col, channel
138 | |             )));
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/mat_typed.rs:154:5
    |
154 |     pub fn convert_to(&self, target_depth: crate::core::MatDepth) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/core/mat_typed.rs:159:9
    |
159 |         use crate::core::MatDepth;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements
    = note: `-W clippy::items-after-statements` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/mat_typed.rs:168:29
    |
168 | ...                   (self.at(row, col)?[ch] as f64) / 255.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
    = note: `-W clippy::cast-lossless` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_lossless)]`
help: use `f64::from` instead
    |
168 -                             (self.at(row, col)?[ch] as f64) / 255.0
168 +                             f64::from(self.at(row, col)?[ch]) / 255.0
    |

warning: casts from `u16` to `f64` can be expressed infallibly using `From`
   --> src/core/mat_typed.rs:171:29
    |
171 | ...                   (self.at_u16(row, col, ch)? as f64) / 65535.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
171 -                             (self.at_u16(row, col, ch)? as f64) / 65535.0
171 +                             f64::from(self.at_u16(row, col, ch)?) / 65535.0
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/core/mat_typed.rs:174:29
    |
174 | ...                   self.at_f32(row, col, ch)? as f64
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
174 -                             self.at_f32(row, col, ch)? as f64
174 +                             f64::from(self.at_f32(row, col, ch)?)
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/core/mat_typed.rs:187:41
    |
187 | ...                   pixel[ch] = scaled.clamp(0.0, 255.0) as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/core/mat_typed.rs:187:41
    |
187 | ...                   pixel[ch] = scaled.clamp(0.0, 255.0) as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `u16` may truncate the value
   --> src/core/mat_typed.rs:192:58
    |
192 | ...                   result.set_u16(row, col, ch, scaled.clamp(0.0, 65535.0) as u16)?;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u16` may lose the sign of the value
   --> src/core/mat_typed.rs:192:58
    |
192 | ...                   result.set_u16(row, col, ch, scaled.clamp(0.0, 65535.0) as u16)?;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/core/mat_typed.rs:195:58
    |
195 | ...                   result.set_f32(row, col, ch, normalized_value as f32)?;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:11:12
   |
11 |     pub fn new(x: i32, y: i32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
11 ~     #[must_use] 
12 ~     pub fn new(x: i32, y: i32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:46:12
   |
46 |     pub fn new(x: f32, y: f32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
46 ~     #[must_use] 
47 ~     pub fn new(x: f32, y: f32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:60:12
   |
60 |     pub fn new(x: f32, y: f32, z: f32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
60 ~     #[must_use] 
61 ~     pub fn new(x: f32, y: f32, z: f32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:73:12
   |
73 |     pub fn new(width: i32, height: i32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
73 ~     #[must_use] 
74 ~     pub fn new(width: i32, height: i32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:77:12
   |
77 |     pub fn area(&self) -> i32 {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
77 ~     #[must_use] 
78 ~     pub fn area(&self) -> i32 {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:92:12
   |
92 |     pub fn new(x: i32, y: i32, width: i32, height: i32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
92 ~     #[must_use] 
93 ~     pub fn new(x: i32, y: i32, width: i32, height: i32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/core/types.rs:96:12
   |
96 |     pub fn area(&self) -> i32 {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
96 ~     #[must_use] 
97 ~     pub fn area(&self) -> i32 {
   |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:100:12
    |
100 |     pub fn top_left(&self) -> Point {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
100 ~     #[must_use] 
101 ~     pub fn top_left(&self) -> Point {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:104:12
    |
104 |     pub fn bottom_right(&self) -> Point {
    |            ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
104 ~     #[must_use] 
105 ~     pub fn bottom_right(&self) -> Point {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:108:12
    |
108 |     pub fn contains(&self, point: Point) -> bool {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
108 ~     #[must_use] 
109 ~     pub fn contains(&self, point: Point) -> bool {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:123:12
    |
123 |     pub fn new(v0: f64, v1: f64, v2: f64, v3: f64) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
123 ~     #[must_use] 
124 ~     pub fn new(v0: f64, v1: f64, v2: f64, v3: f64) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:127:12
    |
127 |     pub fn all(v: f64) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
127 ~     #[must_use] 
128 ~     pub fn all(v: f64) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:131:12
    |
131 |     pub fn from_rgb(r: u8, g: u8, b: u8) -> Self {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
131 ~     #[must_use] 
132 ~     pub fn from_rgb(r: u8, g: u8, b: u8) -> Self {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:133:19
    |
133 |             val: [r as f64, g as f64, b as f64, 0.0],
    |                   ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
133 -             val: [r as f64, g as f64, b as f64, 0.0],
133 +             val: [f64::from(r), g as f64, b as f64, 0.0],
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:133:29
    |
133 |             val: [r as f64, g as f64, b as f64, 0.0],
    |                             ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
133 -             val: [r as f64, g as f64, b as f64, 0.0],
133 +             val: [r as f64, f64::from(g), b as f64, 0.0],
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:133:39
    |
133 |             val: [r as f64, g as f64, b as f64, 0.0],
    |                                       ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
133 -             val: [r as f64, g as f64, b as f64, 0.0],
133 +             val: [r as f64, g as f64, f64::from(b), 0.0],
    |

warning: this method could have a `#[must_use]` attribute
   --> src/core/types.rs:137:12
    |
137 |     pub fn from_rgba(r: u8, g: u8, b: u8, a: u8) -> Self {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
137 ~     #[must_use] 
138 ~     pub fn from_rgba(r: u8, g: u8, b: u8, a: u8) -> Self {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:139:19
    |
139 |             val: [r as f64, g as f64, b as f64, a as f64],
    |                   ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
139 -             val: [r as f64, g as f64, b as f64, a as f64],
139 +             val: [f64::from(r), g as f64, b as f64, a as f64],
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:139:29
    |
139 |             val: [r as f64, g as f64, b as f64, a as f64],
    |                             ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
139 -             val: [r as f64, g as f64, b as f64, a as f64],
139 +             val: [r as f64, f64::from(g), b as f64, a as f64],
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:139:39
    |
139 |             val: [r as f64, g as f64, b as f64, a as f64],
    |                                       ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
139 -             val: [r as f64, g as f64, b as f64, a as f64],
139 +             val: [r as f64, g as f64, f64::from(b), a as f64],
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/types.rs:139:49
    |
139 |             val: [r as f64, g as f64, b as f64, a as f64],
    |                                                 ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
139 -             val: [r as f64, g as f64, b as f64, a as f64],
139 +             val: [r as f64, g as f64, b as f64, f64::from(a)],
    |

warning: docs for function returning `Result` missing `# Errors` section
 --> src/core/operations.rs:6:1
  |
6 | pub fn add(src1: &Mat, src2: &Mat, dst: &mut Mat) -> Result<()> {
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/operations.rs:43:1
   |
43 | pub fn subtract(src1: &Mat, src2: &Mat, dst: &mut Mat) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/core/operations.rs:74:1
   |
74 | pub fn multiply(src1: &Mat, src2: &Mat, dst: &mut Mat, scale: f64) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/core/operations.rs:90:28
   |
90 |                 let val = (p1[ch] as f64 * p2[ch] as f64 * scale).clamp(0.0, 255.0);
   |                            ^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
90 -                 let val = (p1[ch] as f64 * p2[ch] as f64 * scale).clamp(0.0, 255.0);
90 +                 let val = (f64::from(p1[ch]) * p2[ch] as f64 * scale).clamp(0.0, 255.0);
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/core/operations.rs:90:44
   |
90 |                 let val = (p1[ch] as f64 * p2[ch] as f64 * scale).clamp(0.0, 255.0);
   |                                            ^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
90 -                 let val = (p1[ch] as f64 * p2[ch] as f64 * scale).clamp(0.0, 255.0);
90 +                 let val = (p1[ch] as f64 * f64::from(p2[ch]) * scale).clamp(0.0, 255.0);
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/core/operations.rs:91:26
   |
91 |                 pd[ch] = val as u8;
   |                          ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/core/operations.rs:91:26
   |
91 |                 pd[ch] = val as u8;
   |                          ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:100:1
    |
100 | pub fn bitwise_and(src1: &Mat, src2: &Mat, dst: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:125:1
    |
125 | pub fn bitwise_or(src1: &Mat, src2: &Mat, dst: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:150:1
    |
150 | pub fn bitwise_not(src: &Mat, dst: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:168:1
    |
168 | pub fn split(src: &Mat) -> Result<Vec<Mat>> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:189:1
    |
189 | pub fn merge(channels: &[Mat], dst: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:230:1
    |
230 | pub fn mean(src: &Mat) -> Result<Scalar> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/operations.rs:238:29
    |
238 |                 sums[ch] += pixel[ch] as f64;
    |                             ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
238 -                 sums[ch] += pixel[ch] as f64;
238 +                 sums[ch] += f64::from(pixel[ch]);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/core/operations.rs:246:27
    |
246 |         result[i] = sum / count as f64;
    |                           ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
246 -         result[i] = sum / count as f64;
246 +         result[i] = sum / f64::from(count);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:253:1
    |
253 | pub fn min_max_loc(src: &Mat) -> Result<(f64, f64, (usize, usize), (usize, usize))> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/core/operations.rs:253:34
    |
253 | pub fn min_max_loc(src: &Mat) -> Result<(f64, f64, (usize, usize), (usize, usize))> {
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity
    = note: `#[warn(clippy::type_complexity)]` on by default

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/core/operations.rs:268:23
    |
268 |             let val = pixel[0] as f64;
    |                       ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
268 -             let val = pixel[0] as f64;
268 +             let val = f64::from(pixel[0]);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/core/operations.rs:285:1
    |
285 | pub fn abs_diff(src1: &Mat, src2: &Mat, dst: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i16` to `u8` may truncate the value
   --> src/core/operations.rs:301:26
    |
301 |                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
301 -                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
301 +                 pd[ch] = u8::try_from((p1[ch] as i16 - p2[ch] as i16).abs());
    |

warning: casting `i16` to `u8` may lose the sign of the value
   --> src/core/operations.rs:301:26
    |
301 |                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting the result of `i16::abs()` to u8
   --> src/core/operations.rs:301:26
    |
301 |                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with: `(p1[ch] as i16 - p2[ch] as i16).unsigned_abs()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_abs_to_unsigned
    = note: `#[warn(clippy::cast_abs_to_unsigned)]` on by default

warning: casts from `u8` to `i16` can be expressed infallibly using `From`
   --> src/core/operations.rs:301:27
    |
301 |                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
    |                           ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i16::from` instead
    |
301 -                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
301 +                 pd[ch] = (i16::from(p1[ch]) - p2[ch] as i16).abs() as u8;
    |

warning: casts from `u8` to `i16` can be expressed infallibly using `From`
   --> src/core/operations.rs:301:43
    |
301 |                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
    |                                           ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i16::from` instead
    |
301 -                 pd[ch] = (p1[ch] as i16 - p2[ch] as i16).abs() as u8;
301 +                 pd[ch] = (p1[ch] as i16 - i16::from(p2[ch])).abs() as u8;
    |

warning: item in documentation is missing backticks
 --> src/error.rs:3:5
  |
3 | /// OpenCV error types
  |     ^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
3 - /// OpenCV error types
3 + /// `OpenCV` error types
  |

warning: docs for function returning `Result` missing `# Errors` section
 --> src/imgcodecs/mod.rs:7:1
  |
7 | pub fn imread<P: AsRef<Path>>(path: P) -> Result<Mat> {
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgcodecs/mod.rs:37:1
   |
37 | pub fn imwrite<P: AsRef<Path>>(path: P, mat: &Mat) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:47:17
   |
47 |                 mat.cols() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
47 -                 mat.cols() as u32,
47 +                 u32::try_from(mat.cols()),
   |

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:48:17
   |
48 |                 mat.rows() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
48 -                 mat.rows() as u32,
48 +                 u32::try_from(mat.rows()),
   |

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:57:17
   |
57 |                 mat.cols() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
57 -                 mat.cols() as u32,
57 +                 u32::try_from(mat.cols()),
   |

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:58:17
   |
58 |                 mat.rows() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
58 -                 mat.rows() as u32,
58 +                 u32::try_from(mat.rows()),
   |

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:67:17
   |
67 |                 mat.cols() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
67 -                 mat.cols() as u32,
67 +                 u32::try_from(mat.cols()),
   |

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgcodecs/mod.rs:68:17
   |
68 |                 mat.rows() as u32,
   |                 ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -                 mat.rows() as u32,
68 +                 u32::try_from(mat.rows()),
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/color.rs:6:1
   |
 6 | / pub async fn cvt_color_async(
 7 | |     src: &Mat,
 8 | |     dst: &mut Mat,
 9 | |     code: ColorConversionCode,
10 | |     use_gpu: bool,
11 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/color.rs:47:1
   |
47 | pub fn cvt_color(src: &Mat, dst: &mut Mat, code: ColorConversionCode) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:119:28
    |
119 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:119:28
    |
119 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:119:37
    |
119 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                     ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
119 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
119 +                 let gray = (0.299 * f32::from(r) + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:119:56
    |
119 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                                        ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
119 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
119 +                 let gray = (0.299 * r as f32 + 0.587 * f32::from(g) + 0.114 * b as f32) as u8;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:119:75
    |
119 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                                                           ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
119 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
119 +                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * f32::from(b)) as u8;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:174:28
    |
174 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:174:28
    |
174 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:174:37
    |
174 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                     ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
174 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
174 +                 let gray = (0.299 * f32::from(r) + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:174:56
    |
174 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                                        ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
174 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
174 +                 let gray = (0.299 * r as f32 + 0.587 * f32::from(g) + 0.114 * b as f32) as u8;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:174:75
    |
174 |                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
    |                                                                           ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
174 -                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * b as f32) as u8;
174 +                 let gray = (0.299 * r as f32 + 0.587 * g as f32 + 0.114 * f32::from(b)) as u8;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:265:18
    |
265 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
265 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
265 +                 (f32::from(pixel[2]) / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:265:43
    |
265 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                                           ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
265 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
265 +                 (pixel[2] as f32 / 255.0, f32::from(pixel[1]) / 255.0, pixel[0] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:265:68
    |
265 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
265 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
265 +                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, f32::from(pixel[0]) / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:267:18
    |
267 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
267 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
267 +                 (f32::from(pixel[0]) / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:267:43
    |
267 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                                           ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
267 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
267 +                 (pixel[0] as f32 / 255.0, f32::from(pixel[1]) / 255.0, pixel[2] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:267:68
    |
267 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
267 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
267 +                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, f32::from(pixel[2]) / 255.0)
    |

warning: strict comparison of `f32` or `f64`
   --> src/imgproc/color.rs:277:23
    |
277 |             } else if max == r {
    |                       ^^^^^^^^ help: consider comparing them within some margin of error: `(max - r).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#float_cmp
    = note: `-W clippy::float-cmp` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::float_cmp)]`

warning: strict comparison of `f32` or `f64`
   --> src/imgproc/color.rs:279:23
    |
279 |             } else if max == g {
    |                       ^^^^^^^^ help: consider comparing them within some margin of error: `(max - g).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#float_cmp

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:294:28
    |
294 |             dst_pixel[0] = (h / 2.0) as u8; // OpenCV stores H in range [0, 180]
    |                            ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:294:28
    |
294 |             dst_pixel[0] = (h / 2.0) as u8; // OpenCV stores H in range [0, 180]
    |                            ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:295:28
    |
295 |             dst_pixel[1] = (s * 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:295:28
    |
295 |             dst_pixel[1] = (s * 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:296:28
    |
296 |             dst_pixel[2] = (v * 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:296:28
    |
296 |             dst_pixel[2] = (v * 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:316:21
    |
316 |             let h = pixel[0] as f32 * 2.0; // Convert back from [0, 180] to [0, 360]
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
316 -             let h = pixel[0] as f32 * 2.0; // Convert back from [0, 180] to [0, 360]
316 +             let h = f32::from(pixel[0]) * 2.0; // Convert back from [0, 180] to [0, 360]
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:317:21
    |
317 |             let s = pixel[1] as f32 / 255.0;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
317 -             let s = pixel[1] as f32 / 255.0;
317 +             let s = f32::from(pixel[1]) / 255.0;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:318:21
    |
318 |             let v = pixel[2] as f32 / 255.0;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
318 -             let v = pixel[2] as f32 / 255.0;
318 +             let v = f32::from(pixel[2]) / 255.0;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:338:21
    |
338 |             let r = ((r + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:338:21
    |
338 |             let r = ((r + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:339:21
    |
339 |             let g = ((g + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:339:21
    |
339 |             let g = ((g + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:340:21
    |
340 |             let b = ((b + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:340:21
    |
340 |             let b = ((b + m) * 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:372:18
    |
372 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
372 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
372 +                 (f32::from(pixel[2]) / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:372:43
    |
372 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                                           ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
372 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
372 +                 (pixel[2] as f32 / 255.0, f32::from(pixel[1]) / 255.0, pixel[0] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:372:68
    |
372 |                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
    |                                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
372 -                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[0] as f32 / 255.0)
372 +                 (pixel[2] as f32 / 255.0, pixel[1] as f32 / 255.0, f32::from(pixel[0]) / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:374:18
    |
374 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
374 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
374 +                 (f32::from(pixel[0]) / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:374:43
    |
374 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                                           ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
374 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
374 +                 (pixel[0] as f32 / 255.0, f32::from(pixel[1]) / 255.0, pixel[2] as f32 / 255.0)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:374:68
    |
374 |                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
    |                                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
374 -                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, pixel[2] as f32 / 255.0)
374 +                 (pixel[0] as f32 / 255.0, pixel[1] as f32 / 255.0, f32::from(pixel[2]) / 255.0)
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:402:28
    |
402 |             dst_pixel[0] = (l * 2.55).clamp(0.0, 255.0) as u8;  // L in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:402:28
    |
402 |             dst_pixel[0] = (l * 2.55).clamp(0.0, 255.0) as u8;  // L in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:403:28
    |
403 |             dst_pixel[1] = (a + 128.0).clamp(0.0, 255.0) as u8;  // a in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:403:28
    |
403 |             dst_pixel[1] = (a + 128.0).clamp(0.0, 255.0) as u8;  // a in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:404:28
    |
404 |             dst_pixel[2] = (b_lab + 128.0).clamp(0.0, 255.0) as u8;  // b in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:404:28
    |
404 |             dst_pixel[2] = (b_lab + 128.0).clamp(0.0, 255.0) as u8;  // b in [0, 255]
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:424:21
    |
424 |             let l = pixel[0] as f32 / 2.55;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
424 -             let l = pixel[0] as f32 / 2.55;
424 +             let l = f32::from(pixel[0]) / 2.55;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:425:21
    |
425 |             let a = pixel[1] as f32 - 128.0;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
425 -             let a = pixel[1] as f32 - 128.0;
425 +             let a = f32::from(pixel[1]) - 128.0;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:426:21
    |
426 |             let b = pixel[2] as f32 - 128.0;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
426 -             let b = pixel[2] as f32 - 128.0;
426 +             let b = f32::from(pixel[2]) - 128.0;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:444:21
    |
444 |             let r = (gamma(r_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:444:21
    |
444 |             let r = (gamma(r_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:445:21
    |
445 |             let g = (gamma(g_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:445:21
    |
445 |             let g = (gamma(g_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:446:25
    |
446 |             let b_rgb = (gamma(b_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:446:25
    |
446 |             let b_rgb = (gamma(b_linear) * 255.0).clamp(0.0, 255.0) as u8;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: item in documentation is missing backticks
   --> src/imgproc/color.rs:464:24
    |
464 | /// Convert RGB/BGR to YCrCb
    |                        ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
464 - /// Convert RGB/BGR to YCrCb
464 + /// Convert RGB/BGR to `YCrCb`
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:478:18
    |
478 |                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
478 -                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
478 +                 (f32::from(pixel[2]), pixel[1] as f32, pixel[0] as f32)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:478:35
    |
478 |                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
    |                                   ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
478 -                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
478 +                 (pixel[2] as f32, f32::from(pixel[1]), pixel[0] as f32)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:478:52
    |
478 |                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
    |                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
478 -                 (pixel[2] as f32, pixel[1] as f32, pixel[0] as f32)
478 +                 (pixel[2] as f32, pixel[1] as f32, f32::from(pixel[0]))
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:480:18
    |
480 |                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
480 -                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
480 +                 (f32::from(pixel[0]), pixel[1] as f32, pixel[2] as f32)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:480:35
    |
480 |                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
    |                                   ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
480 -                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
480 +                 (pixel[0] as f32, f32::from(pixel[1]), pixel[2] as f32)
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:480:52
    |
480 |                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
    |                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
480 -                 (pixel[0] as f32, pixel[1] as f32, pixel[2] as f32)
480 +                 (pixel[0] as f32, pixel[1] as f32, f32::from(pixel[2]))
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:489:28
    |
489 |             dst_pixel[0] = y.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:489:28
    |
489 |             dst_pixel[0] = y.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:490:28
    |
490 |             dst_pixel[1] = cr.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:490:28
    |
490 |             dst_pixel[1] = cr.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:491:28
    |
491 |             dst_pixel[2] = cb.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:491:28
    |
491 |             dst_pixel[2] = cb.clamp(0.0, 255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: item in documentation is missing backticks
   --> src/imgproc/color.rs:498:13
    |
498 | /// Convert YCrCb to RGB/BGR
    |             ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
498 - /// Convert YCrCb to RGB/BGR
498 + /// Convert `YCrCb` to RGB/BGR
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:511:21
    |
511 |             let y = pixel[0] as f32;
    |                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
511 -             let y = pixel[0] as f32;
511 +             let y = f32::from(pixel[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:512:22
    |
512 |             let cr = pixel[1] as f32 - 128.0;
    |                      ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
512 -             let cr = pixel[1] as f32 - 128.0;
512 +             let cr = f32::from(pixel[1]) - 128.0;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/color.rs:513:22
    |
513 |             let cb = pixel[2] as f32 - 128.0;
    |                      ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
513 -             let cb = pixel[2] as f32 - 128.0;
513 +             let cb = f32::from(pixel[2]) - 128.0;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:522:32
    |
522 |                 dst_pixel[0] = b.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:522:32
    |
522 |                 dst_pixel[0] = b.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:523:32
    |
523 |                 dst_pixel[1] = g.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:523:32
    |
523 |                 dst_pixel[1] = g.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:524:32
    |
524 |                 dst_pixel[2] = r.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:524:32
    |
524 |                 dst_pixel[2] = r.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:526:32
    |
526 |                 dst_pixel[0] = r.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:526:32
    |
526 |                 dst_pixel[0] = r.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:527:32
    |
527 |                 dst_pixel[1] = g.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:527:32
    |
527 |                 dst_pixel[1] = g.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/color.rs:528:32
    |
528 |                 dst_pixel[2] = b.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/color.rs:528:32
    |
528 |                 dst_pixel[2] = b.clamp(0.0, 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
 --> src/imgproc/filter.rs:9:1
  |
9 | pub fn gaussian_blur(src: &Mat, dst: &mut Mat, ksize: Size, sigma_x: f64) -> Result<()> {
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/filter.rs:44:1
   |
44 | pub async fn blur_async(src: &Mat, dst: &mut Mat, ksize: Size, use_gpu: bool) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/filter.rs:64:1
   |
64 | pub fn blur(src: &Mat, dst: &mut Mat, ksize: Size) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/filter.rs:72:41
   |
72 |     let kernel_x: Vec<f32> = vec![1.0 / ksize.width as f32; ksize.width as usize];
   |                                         ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss
   = note: `-W clippy::cast-precision-loss` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/filter.rs:72:61
   |
72 |     let kernel_x: Vec<f32> = vec![1.0 / ksize.width as f32; ksize.width as usize];
   |                                                             ^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/filter.rs:73:41
   |
73 |     let kernel_y: Vec<f32> = vec![1.0 / ksize.height as f32; ksize.height as usize];
   |                                         ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/filter.rs:73:62
   |
73 |     let kernel_y: Vec<f32> = vec![1.0 / ksize.height as f32; ksize.height as usize];
   |                                                              ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/filter.rs:79:1
   |
79 | pub fn median_blur(src: &Mat, dst: &mut Mat, ksize: i32) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:104:23
    |
104 |     let kernel_area = (ksize * ksize) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:122:33
    |
122 |                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:122:34
    |
122 |                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
122 -                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
122 +                         let r = (i32::try_from(row) + ky).max(0).min(rows as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:122:34
    |
122 |                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:122:62
    |
122 |                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
122 -                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
122 +                         let r = (row as i32 + ky).max(0).min(i32::try_from(rows) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:122:62
    |
122 |                         let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:124:37
    |
124 | ...                   let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:124:38
    |
124 | ...                   let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
124 -                             let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
124 +                             let c = (i32::try_from(col) + kx).max(0).min(cols as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:124:38
    |
124 | ...                   let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:124:66
    |
124 | ...                   let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
124 -                             let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
124 +                             let c = (col as i32 + kx).max(0).min(i32::try_from(cols) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:124:66
    |
124 | ...                   let c = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:156:17
    |
156 |         0.3 * ((size as f64 - 1.0) * 0.5 - 1.0) + 0.8
    |                 ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
156 -         0.3 * ((size as f64 - 1.0) * 0.5 - 1.0) + 0.8
156 +         0.3 * ((f64::from(size) - 1.0) * 0.5 - 1.0) + 0.8
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:162:41
    |
162 |     let mut kernel = Vec::with_capacity(size as usize);
    |                                         ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:166:17
    |
166 |         let x = i as f64;
    |                 ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
166 -         let x = i as f64;
166 +         let x = f64::from(i);
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/imgproc/filter.rs:168:21
    |
168 |         kernel.push(value as f32);
    |                     ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/imgproc/filter.rs:174:17
    |
174 |         *val /= sum as f32;
    |                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this function has too many lines (128/100)
   --> src/imgproc/filter.rs:181:1
    |
181 | / fn apply_separable_filter(
182 | |     src: &Mat,
183 | |     dst: &mut Mat,
184 | |     kernel_x: &[f32],
185 | |     kernel_y: &[f32],
186 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_lines
    = note: `-W clippy::too-many-lines` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:209:34
    |
209 |                     let offset = i as i32 - half_x as i32;
    |                                  ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
209 -                     let offset = i as i32 - half_x as i32;
209 +                     let offset = i32::try_from(i) - half_x as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:209:34
    |
209 |                     let offset = i as i32 - half_x as i32;
    |                                  ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:209:45
    |
209 |                     let offset = i as i32 - half_x as i32;
    |                                             ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
209 -                     let offset = i as i32 - half_x as i32;
209 +                     let offset = i as i32 - i32::try_from(half_x);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:209:45
    |
209 |                     let offset = i as i32 - half_x as i32;
    |                                             ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:210:29
    |
210 |                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:210:30
    |
210 |                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
210 -                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
210 +                     let c = (i32::try_from(col) + offset).max(0).min(cols as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:210:30
    |
210 |                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:210:62
    |
210 |                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
210 -                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
210 +                     let c = (col as i32 + offset).max(0).min(i32::try_from(cols) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:210:62
    |
210 |                     let c = (col as i32 + offset).max(0).min(cols as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:217:40
    |
217 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
217 -                             sums[0] += pixel[0] as f32 * k;
217 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:220:40
    |
220 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
220 -                             sums[0] += pixel[0] as f32 * k;
220 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:221:40
    |
221 | ...                   sums[1] += pixel[1] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
221 -                             sums[1] += pixel[1] as f32 * k;
221 +                             sums[1] += f32::from(pixel[1]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:222:40
    |
222 | ...                   sums[2] += pixel[2] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
222 -                             sums[2] += pixel[2] as f32 * k;
222 +                             sums[2] += f32::from(pixel[2]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:225:40
    |
225 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
225 -                             sums[0] += pixel[0] as f32 * k;
225 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:226:40
    |
226 | ...                   sums[1] += pixel[1] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
226 -                             sums[1] += pixel[1] as f32 * k;
226 +                             sums[1] += f32::from(pixel[1]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:227:40
    |
227 | ...                   sums[2] += pixel[2] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
227 -                             sums[2] += pixel[2] as f32 * k;
227 +                             sums[2] += f32::from(pixel[2]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:228:40
    |
228 | ...                   sums[3] += pixel[3] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
228 -                             sums[3] += pixel[3] as f32 * k;
228 +                             sums[3] += f32::from(pixel[3]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:232:45
    |
232 | ...                   sums[ch] += pixel[ch] as f32 * k;
    |                                   ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
232 -                                 sums[ch] += pixel[ch] as f32 * k;
232 +                                 sums[ch] += f32::from(pixel[ch]) * k;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:243:41
    |
243 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:243:41
    |
243 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:246:41
    |
246 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:246:41
    |
246 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:247:41
    |
247 |                         temp_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:247:41
    |
247 |                         temp_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:248:41
    |
248 |                         temp_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:248:41
    |
248 |                         temp_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:251:41
    |
251 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:251:41
    |
251 |                         temp_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:252:41
    |
252 |                         temp_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:252:41
    |
252 |                         temp_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:253:41
    |
253 |                         temp_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:253:41
    |
253 |                         temp_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:254:41
    |
254 |                         temp_pixel[3] = sums[3].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:254:41
    |
254 |                         temp_pixel[3] = sums[3].round().clamp(0.0, 255.0) as u8;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:258:46
    |
258 | ...                   temp_pixel[ch] = sums[ch].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:258:46
    |
258 | ...                   temp_pixel[ch] = sums[ch].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:283:34
    |
283 |                     let offset = i as i32 - half_y as i32;
    |                                  ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
283 -                     let offset = i as i32 - half_y as i32;
283 +                     let offset = i32::try_from(i) - half_y as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:283:34
    |
283 |                     let offset = i as i32 - half_y as i32;
    |                                  ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:283:45
    |
283 |                     let offset = i as i32 - half_y as i32;
    |                                             ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
283 -                     let offset = i as i32 - half_y as i32;
283 +                     let offset = i as i32 - i32::try_from(half_y);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:283:45
    |
283 |                     let offset = i as i32 - half_y as i32;
    |                                             ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/filter.rs:284:29
    |
284 |                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:284:30
    |
284 |                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
284 -                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
284 +                     let r = (i32::try_from(row) + offset).max(0).min(rows as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:284:30
    |
284 |                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/filter.rs:284:62
    |
284 |                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
284 -                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
284 +                     let r = (row as i32 + offset).max(0).min(i32::try_from(rows) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/filter.rs:284:62
    |
284 |                     let r = (row as i32 + offset).max(0).min(rows as i32 - 1) as usize;
    |                                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:291:40
    |
291 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
291 -                             sums[0] += pixel[0] as f32 * k;
291 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:294:40
    |
294 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
294 -                             sums[0] += pixel[0] as f32 * k;
294 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:295:40
    |
295 | ...                   sums[1] += pixel[1] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
295 -                             sums[1] += pixel[1] as f32 * k;
295 +                             sums[1] += f32::from(pixel[1]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:296:40
    |
296 | ...                   sums[2] += pixel[2] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
296 -                             sums[2] += pixel[2] as f32 * k;
296 +                             sums[2] += f32::from(pixel[2]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:299:40
    |
299 | ...                   sums[0] += pixel[0] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
299 -                             sums[0] += pixel[0] as f32 * k;
299 +                             sums[0] += f32::from(pixel[0]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:300:40
    |
300 | ...                   sums[1] += pixel[1] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
300 -                             sums[1] += pixel[1] as f32 * k;
300 +                             sums[1] += f32::from(pixel[1]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:301:40
    |
301 | ...                   sums[2] += pixel[2] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
301 -                             sums[2] += pixel[2] as f32 * k;
301 +                             sums[2] += f32::from(pixel[2]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:302:40
    |
302 | ...                   sums[3] += pixel[3] as f32 * k;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
302 -                             sums[3] += pixel[3] as f32 * k;
302 +                             sums[3] += f32::from(pixel[3]) * k;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/filter.rs:306:45
    |
306 | ...                   sums[ch] += pixel[ch] as f32 * k;
    |                                   ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
306 -                                 sums[ch] += pixel[ch] as f32 * k;
306 +                                 sums[ch] += f32::from(pixel[ch]) * k;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:317:40
    |
317 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:317:40
    |
317 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:320:40
    |
320 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:320:40
    |
320 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:321:40
    |
321 |                         dst_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:321:40
    |
321 |                         dst_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:322:40
    |
322 |                         dst_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:322:40
    |
322 |                         dst_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:325:40
    |
325 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:325:40
    |
325 |                         dst_pixel[0] = sums[0].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:326:40
    |
326 |                         dst_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:326:40
    |
326 |                         dst_pixel[1] = sums[1].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:327:40
    |
327 |                         dst_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:327:40
    |
327 |                         dst_pixel[2] = sums[2].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:328:40
    |
328 |                         dst_pixel[3] = sums[3].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:328:40
    |
328 |                         dst_pixel[3] = sums[3].round().clamp(0.0, 255.0) as u8;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/filter.rs:332:45
    |
332 | ...                   dst_pixel[ch] = sums[ch].round().clamp(0.0, 255.0) as u8;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/filter.rs:332:45
    |
332 | ...                   dst_pixel[ch] = sums[ch].round().clamp(0.0, 255.0) as u8;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
 --> src/imgproc/geometric.rs:9:1
  |
9 | pub fn resize(src: &Mat, dst: &mut Mat, dsize: Size, interpolation: InterpolationFlag) -> Result<()> {
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/geometric.rs:22:20
   |
22 |     let new_rows = dsize.height as usize;
   |                    ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/geometric.rs:23:20
   |
23 |     let new_cols = dsize.width as usize;
   |                    ^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: variables can be used directly in the `format!` string
  --> src/imgproc/geometric.rs:30:46
   |
30 |           _ => Err(Error::UnsupportedOperation(format!(
   |  ______________________________________________^
31 | |             "Interpolation method {:?} not yet implemented",
32 | |             interpolation
33 | |         ))),
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args

warning: this function's return value is unnecessary
  --> src/imgproc/geometric.rs:38:1
   |
38 | fn resize_nearest(src: &Mat, dst: &mut Mat) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
   = note: `-W clippy::unnecessary-wraps` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove the return type...
   |
38 - fn resize_nearest(src: &Mat, dst: &mut Mat) -> Result<()> {
38 + fn resize_nearest(src: &Mat, dst: &mut Mat) -> () {
   |
help: ...and then remove returned values
   |
68 -     Ok(())
   |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:39:19
   |
39 |     let x_ratio = src.cols() as f32 / dst.cols() as f32;
   |                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:39:39
   |
39 |     let x_ratio = src.cols() as f32 / dst.cols() as f32;
   |                                       ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:40:19
   |
40 |     let y_ratio = src.rows() as f32 / dst.rows() as f32;
   |                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:40:39
   |
40 |     let y_ratio = src.rows() as f32 / dst.rows() as f32;
   |                                       ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
  --> src/imgproc/geometric.rs:55:31
   |
55 |                 let src_row = ((dst_row as f32 * y_ratio) as usize).min(src_rows - 1);
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/imgproc/geometric.rs:55:31
   |
55 |                 let src_row = ((dst_row as f32 * y_ratio) as usize).min(src_rows - 1);
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:55:33
   |
55 |                 let src_row = ((dst_row as f32 * y_ratio) as usize).min(src_rows - 1);
   |                                 ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
  --> src/imgproc/geometric.rs:56:31
   |
56 |                 let src_col = ((dst_col as f32 * x_ratio) as usize).min(src_cols - 1);
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/imgproc/geometric.rs:56:31
   |
56 |                 let src_col = ((dst_col as f32 * x_ratio) as usize).min(src_cols - 1);
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:56:33
   |
56 |                 let src_col = ((dst_col as f32 * x_ratio) as usize).min(src_cols - 1);
   |                                 ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function's return value is unnecessary
  --> src/imgproc/geometric.rs:72:1
   |
72 | fn resize_bilinear(src: &Mat, dst: &mut Mat) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove the return type...
   |
72 - fn resize_bilinear(src: &Mat, dst: &mut Mat) -> Result<()> {
72 + fn resize_bilinear(src: &Mat, dst: &mut Mat) -> () {
   |
help: ...and then remove returned values
   |
172-     Ok(())
   |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:75:9
   |
75 |         (src.cols() - 1) as f32 / (dst.cols() - 1) as f32
   |         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:75:35
   |
75 |         (src.cols() - 1) as f32 / (dst.cols() - 1) as f32
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:80:9
   |
80 |         (src.rows() - 1) as f32 / (dst.rows() - 1) as f32
   |         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:80:35
   |
80 |         (src.rows() - 1) as f32 / (dst.rows() - 1) as f32
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/geometric.rs:99:29
   |
99 |                 let src_x = dst_col as f32 * x_ratio;
   |                             ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/geometric.rs:100:29
    |
100 |                 let src_y = dst_row as f32 * y_ratio;
    |                             ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/imgproc/geometric.rs:102:26
    |
102 |                 let x1 = src_x.floor() as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:102:26
    |
102 |                 let x1 = src_x.floor() as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/imgproc/geometric.rs:103:26
    |
103 |                 let y1 = src_y.floor() as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:103:26
    |
103 |                 let y1 = src_y.floor() as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/geometric.rs:107:34
    |
107 |                 let dx = src_x - x1 as f32;
    |                                  ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/geometric.rs:108:34
    |
108 |                 let dy = src_y - y1 as f32;
    |                                  ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:128:33
    |
128 |                         let v = src_data[idx11] as f32 * w1
    |                                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
128 -                         let v = src_data[idx11] as f32 * w1
128 +                         let v = f32::from(src_data[idx11]) * w1
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:129:31
    |
129 | ...                   + src_data[idx21] as f32 * w2
    |                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
129 -                             + src_data[idx21] as f32 * w2
129 +                             + f32::from(src_data[idx21]) * w2
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:130:31
    |
130 | ...                   + src_data[idx12] as f32 * w3
    |                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
130 -                             + src_data[idx12] as f32 * w3
130 +                             + f32::from(src_data[idx12]) * w3
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:131:31
    |
131 | ...                   + src_data[idx22] as f32 * w4;
    |                         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
131 -                             + src_data[idx22] as f32 * w4;
131 +                             + f32::from(src_data[idx22]) * w4;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/geometric.rs:132:40
    |
132 |                         dst_pixel[0] = (v + 0.5) as u8; // Fast rounding via add 0.5
    |                                        ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/geometric.rs:132:40
    |
132 |                         dst_pixel[0] = (v + 0.5) as u8; // Fast rounding via add 0.5
    |                                        ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: you have declared `#[inline(always)]` on `interp`. This is usually a bad idea
   --> src/imgproc/geometric.rs:136:25
    |
136 |                         #[inline(always)]
    |                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#inline_always

warning: this function has too many arguments (8/7)
   --> src/imgproc/geometric.rs:137:25
    |
137 |                         fn interp(v11: u8, v21: u8, v12: u8, v22: u8, w1: f32, w2: f32, w3: f32, w4: f32) -> u8 {
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_arguments
    = note: `#[warn(clippy::too_many_arguments)]` on by default

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/geometric.rs:138:29
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/geometric.rs:138:29
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:138:30
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                        ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
138 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
138 +                             (f32::from(v11) * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:138:48
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                          ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
138 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
138 +                             (v11 as f32 * w1 + f32::from(v21) * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:138:66
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                                            ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
138 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
138 +                             (v11 as f32 * w1 + v21 as f32 * w2 + f32::from(v12) * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:138:84
    |
138 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                                                              ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
138 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
138 +                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + f32::from(v22) * w4 + 0.5) as u8
    |

warning: you have declared `#[inline(always)]` on `interp`. This is usually a bad idea
   --> src/imgproc/geometric.rs:147:25
    |
147 |                         #[inline(always)]
    |                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#inline_always

warning: this function has too many arguments (8/7)
   --> src/imgproc/geometric.rs:148:25
    |
148 |                         fn interp(v11: u8, v21: u8, v12: u8, v22: u8, w1: f32, w2: f32, w3: f32, w4: f32) -> u8 {
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_arguments

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/geometric.rs:149:29
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/geometric.rs:149:29
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:149:30
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                        ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
149 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
149 +                             (f32::from(v11) * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:149:48
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                          ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
149 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
149 +                             (v11 as f32 * w1 + f32::from(v21) * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:149:66
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                                            ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
149 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
149 +                             (v11 as f32 * w1 + v21 as f32 * w2 + f32::from(v12) * w3 + v22 as f32 * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:149:84
    |
149 | ...                   (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
    |                                                                              ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
149 -                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + v22 as f32 * w4 + 0.5) as u8
149 +                             (v11 as f32 * w1 + v21 as f32 * w2 + v12 as f32 * w3 + f32::from(v22) * w4 + 0.5) as u8
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:160:37
    |
160 | ...                   let v = src_data[idx11 + ch] as f32 * w1
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
160 -                             let v = src_data[idx11 + ch] as f32 * w1
160 +                             let v = f32::from(src_data[idx11 + ch]) * w1
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:161:35
    |
161 | ...                   + src_data[idx21 + ch] as f32 * w2
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
161 -                                 + src_data[idx21 + ch] as f32 * w2
161 +                                 + f32::from(src_data[idx21 + ch]) * w2
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:162:35
    |
162 | ...                   + src_data[idx12 + ch] as f32 * w3
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
162 -                                 + src_data[idx12 + ch] as f32 * w3
162 +                                 + f32::from(src_data[idx12 + ch]) * w3
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:163:35
    |
163 | ...                   + src_data[idx22 + ch] as f32 * w4;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
163 -                                 + src_data[idx22 + ch] as f32 * w4;
163 +                                 + f32::from(src_data[idx22 + ch]) * w4;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/geometric.rs:164:45
    |
164 | ...                   dst_pixel[ch] = (v + 0.5) as u8; // Fast rounding
    |                                       ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/geometric.rs:164:45
    |
164 | ...                   dst_pixel[ch] = (v + 0.5) as u8; // Fast rounding
    |                                       ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:177:1
    |
177 | pub async fn flip_async(src: &Mat, dst: &mut Mat, flip_code: i32, use_gpu: bool) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:197:1
    |
197 | pub fn flip(src: &Mat, dst: &mut Mat, flip_code: i32) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:242:1
    |
242 | / pub fn warp_affine(
243 | |     src: &Mat,
244 | |     dst: &mut Mat,
245 | |     m: &[[f64; 3]; 2],
246 | |     dsize: Size,
247 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:248:21
    |
248 |     *dst = Mat::new(dsize.height as usize, dsize.width as usize, src.channels(), src.depth())?;
    |                     ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:248:44
    |
248 |     *dst = Mat::new(dsize.height as usize, dsize.width as usize, src.channels(), src.depth())?;
    |                                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/imgproc/geometric.rs:252:21
    |
252 |             let x = col as f64;
    |                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/imgproc/geometric.rs:253:21
    |
253 |             let y = row as f64;
    |                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/geometric.rs:259:27
    |
259 |             let src_col = src_x as i32;
    |                           ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/geometric.rs:260:27
    |
260 |             let src_row = src_y as i32;
    |                           ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/geometric.rs:262:42
    |
262 |             if src_row >= 0 && src_row < src.rows() as i32
    |                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
262 -             if src_row >= 0 && src_row < src.rows() as i32
262 +             if src_row >= 0 && src_row < i32::try_from(src.rows())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/geometric.rs:262:42
    |
262 |             if src_row >= 0 && src_row < src.rows() as i32
    |                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/geometric.rs:263:46
    |
263 |                 && src_col >= 0 && src_col < src.cols() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
263 -                 && src_col >= 0 && src_col < src.cols() as i32
263 +                 && src_col >= 0 && src_col < i32::try_from(src.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/geometric.rs:263:46
    |
263 |                 && src_col >= 0 && src_col < src.cols() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:265:40
    |
265 |                 let src_pixel = src.at(src_row as usize, src_col as usize)?;
    |                                        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:265:58
    |
265 |                 let src_pixel = src.at(src_row as usize, src_col as usize)?;
    |                                                          ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:276:1
    |
276 | / pub fn warp_perspective(
277 | |     src: &Mat,
278 | |     dst: &mut Mat,
279 | |     m: &[[f64; 3]; 3],
280 | |     dsize: Size,
281 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:282:21
    |
282 |     *dst = Mat::new(dsize.height as usize, dsize.width as usize, src.channels(), src.depth())?;
    |                     ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:282:44
    |
282 |     *dst = Mat::new(dsize.height as usize, dsize.width as usize, src.channels(), src.depth())?;
    |                                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/imgproc/geometric.rs:286:21
    |
286 |             let x = col as f64;
    |                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/imgproc/geometric.rs:287:21
    |
287 |             let y = row as f64;
    |                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/geometric.rs:299:27
    |
299 |             let src_col = src_x as i32;
    |                           ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/geometric.rs:300:27
    |
300 |             let src_row = src_y as i32;
    |                           ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/geometric.rs:302:42
    |
302 |             if src_row >= 0 && src_row < src.rows() as i32
    |                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
302 -             if src_row >= 0 && src_row < src.rows() as i32
302 +             if src_row >= 0 && src_row < i32::try_from(src.rows())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/geometric.rs:302:42
    |
302 |             if src_row >= 0 && src_row < src.rows() as i32
    |                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/geometric.rs:303:46
    |
303 |                 && src_col >= 0 && src_col < src.cols() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
303 -                 && src_col >= 0 && src_col < src.cols() as i32
303 +                 && src_col >= 0 && src_col < i32::try_from(src.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/geometric.rs:303:46
    |
303 |                 && src_col >= 0 && src_col < src.cols() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:305:40
    |
305 |                 let src_pixel = src.at(src_row as usize, src_col as usize)?;
    |                                        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/geometric.rs:305:58
    |
305 |                 let src_pixel = src.at(src_row as usize, src_col as usize)?;
    |                                                          ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/geometric.rs:316:8
    |
316 | pub fn get_rotation_matrix_2d(center: Point2f, angle: f64, scale: f64) -> [[f64; 3]; 2] {
    |        ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
316 + #[must_use] 
317 | pub fn get_rotation_matrix_2d(center: Point2f, angle: f64, scale: f64) -> [[f64; 3]; 2] {
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:321:39
    |
321 |         [alpha, beta, (1.0 - alpha) * center.x as f64 - beta * center.y as f64],
    |                                       ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -         [alpha, beta, (1.0 - alpha) * center.x as f64 - beta * center.y as f64],
321 +         [alpha, beta, (1.0 - alpha) * f64::from(center.x) - beta * center.y as f64],
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:321:64
    |
321 |         [alpha, beta, (1.0 - alpha) * center.x as f64 - beta * center.y as f64],
    |                                                                ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -         [alpha, beta, (1.0 - alpha) * center.x as f64 - beta * center.y as f64],
321 +         [alpha, beta, (1.0 - alpha) * center.x as f64 - beta * f64::from(center.y)],
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:322:31
    |
322 |         [-beta, alpha, beta * center.x as f64 + (1.0 - alpha) * center.y as f64],
    |                               ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -         [-beta, alpha, beta * center.x as f64 + (1.0 - alpha) * center.y as f64],
322 +         [-beta, alpha, beta * f64::from(center.x) + (1.0 - alpha) * center.y as f64],
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:322:65
    |
322 |         [-beta, alpha, beta * center.x as f64 + (1.0 - alpha) * center.y as f64],
    |                                                                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -         [-beta, alpha, beta * center.x as f64 + (1.0 - alpha) * center.y as f64],
322 +         [-beta, alpha, beta * center.x as f64 + (1.0 - alpha) * f64::from(center.y)],
    |

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/geometric.rs:327:8
    |
327 | pub fn get_affine_transform(src: &[Point2f; 3], dst: &[Point2f; 3]) -> [[f64; 3]; 2] {
    |        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
327 + #[must_use] 
328 | pub fn get_affine_transform(src: &[Point2f; 3], dst: &[Point2f; 3]) -> [[f64; 3]; 2] {
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:328:14
    |
328 |     let x0 = src[0].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
328 -     let x0 = src[0].x as f64;
328 +     let x0 = f64::from(src[0].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:329:14
    |
329 |     let y0 = src[0].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
329 -     let y0 = src[0].y as f64;
329 +     let y0 = f64::from(src[0].y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:330:14
    |
330 |     let x1 = src[1].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
330 -     let x1 = src[1].x as f64;
330 +     let x1 = f64::from(src[1].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:331:14
    |
331 |     let y1 = src[1].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
331 -     let y1 = src[1].y as f64;
331 +     let y1 = f64::from(src[1].y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:332:14
    |
332 |     let x2 = src[2].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
332 -     let x2 = src[2].x as f64;
332 +     let x2 = f64::from(src[2].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:333:14
    |
333 |     let y2 = src[2].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
333 -     let y2 = src[2].y as f64;
333 +     let y2 = f64::from(src[2].y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:335:14
    |
335 |     let u0 = dst[0].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
335 -     let u0 = dst[0].x as f64;
335 +     let u0 = f64::from(dst[0].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:336:14
    |
336 |     let v0 = dst[0].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
336 -     let v0 = dst[0].y as f64;
336 +     let v0 = f64::from(dst[0].y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:337:14
    |
337 |     let u1 = dst[1].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
337 -     let u1 = dst[1].x as f64;
337 +     let u1 = f64::from(dst[1].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:338:14
    |
338 |     let v1 = dst[1].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
338 -     let v1 = dst[1].y as f64;
338 +     let v1 = f64::from(dst[1].y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:339:14
    |
339 |     let u2 = dst[2].x as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
339 -     let u2 = dst[2].x as f64;
339 +     let u2 = f64::from(dst[2].x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/geometric.rs:340:14
    |
340 |     let v2 = dst[2].y as f64;
    |              ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
340 -     let v2 = dst[2].y as f64;
340 +     let v2 = f64::from(dst[2].y);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:361:1
    |
361 | / pub async fn rotate_async(
362 | |     src: &Mat,
363 | |     dst: &mut Mat,
364 | |     rotate_code: RotateCode,
365 | |     use_gpu: bool,
366 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/geometric.rs:391:1
    |
391 | pub fn rotate(src: &Mat, dst: &mut Mat, rotate_code: RotateCode) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/threshold.rs:9:1
   |
 9 | / pub fn threshold(
10 | |     src: &Mat,
11 | |     dst: &mut Mat,
12 | |     thresh: f64,
13 | |     maxval: f64,
14 | |     thresh_type: ThresholdType,
15 | | ) -> Result<f64> {
   | |________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/threshold.rs:24:21
   |
24 |     let thresh_u8 = thresh as u8;
   |                     ^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/threshold.rs:24:21
   |
24 |     let thresh_u8 = thresh as u8;
   |                     ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/threshold.rs:25:21
   |
25 |     let maxval_u8 = maxval as u8;
   |                     ^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/threshold.rs:25:21
   |
25 |     let maxval_u8 = maxval as u8;
   |                     ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/threshold.rs:71:1
   |
71 | / pub async fn adaptive_threshold_async(
72 | |     src: &Mat,
73 | |     dst: &mut Mat,
74 | |     maxval: f64,
...  |
79 | |     use_gpu: bool,
80 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this function has too many arguments (8/7)
  --> src/imgproc/threshold.rs:71:1
   |
71 | / pub async fn adaptive_threshold_async(
72 | |     src: &Mat,
73 | |     dst: &mut Mat,
74 | |     maxval: f64,
...  |
79 | |     use_gpu: bool,
80 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_arguments

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/threshold.rs:100:1
    |
100 | / pub fn adaptive_threshold(
101 | |     src: &Mat,
102 | |     dst: &mut Mat,
103 | |     maxval: f64,
...   |
107 | |     c: f64,
108 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/threshold.rs:136:18
    |
136 |     let maxval = maxval as u8;
    |                  ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/threshold.rs:136:18
    |
136 |     let maxval = maxval as u8;
    |                  ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/threshold.rs:150:29
    |
150 |                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/threshold.rs:150:30
    |
150 |                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
150 -                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
150 +                     let r = (i32::try_from(row) + ky).max(0).min(rows as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/threshold.rs:150:30
    |
150 |                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/threshold.rs:150:58
    |
150 |                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
150 -                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
150 +                     let r = (row as i32 + ky).max(0).min(i32::try_from(rows) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/threshold.rs:150:58
    |
150 |                     let r = (row as i32 + ky).max(0).min(rows as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/threshold.rs:152:40
    |
152 |                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/threshold.rs:152:41
    |
152 |                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                         ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
152 -                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
152 +                         let c_offset = (i32::try_from(col) + kx).max(0).min(cols as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/threshold.rs:152:41
    |
152 |                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/threshold.rs:152:69
    |
152 |                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                                                     ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
152 -                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
152 +                         let c_offset = (col as i32 + kx).max(0).min(i32::try_from(cols) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/threshold.rs:152:69
    |
152 |                         let c_offset = (col as i32 + kx).max(0).min(cols as i32 - 1) as usize;
    |                                                                     ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `u32` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:155:32
    |
155 |                         sum += src_data[src_idx] as u32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `u32::from` instead
    |
155 -                         sum += src_data[src_idx] as u32;
155 +                         sum += u32::from(src_data[src_idx]);
    |

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:161:55
    |
161 |                     AdaptiveThresholdMethod::Mean => (sum as f64 / count as f64) - c,
    |                                                       ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
161 -                     AdaptiveThresholdMethod::Mean => (sum as f64 / count as f64) - c,
161 +                     AdaptiveThresholdMethod::Mean => (f64::from(sum) / count as f64) - c,
    |

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:161:68
    |
161 |                     AdaptiveThresholdMethod::Mean => (sum as f64 / count as f64) - c,
    |                                                                    ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
161 -                     AdaptiveThresholdMethod::Mean => (sum as f64 / count as f64) - c,
161 +                     AdaptiveThresholdMethod::Mean => (sum as f64 / f64::from(count)) - c,
    |

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:164:26
    |
164 |                         (sum as f64 / count as f64) - c
    |                          ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
164 -                         (sum as f64 / count as f64) - c
164 +                         (f64::from(sum) / count as f64) - c
    |

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:164:39
    |
164 |                         (sum as f64 / count as f64) - c
    |                                       ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
164 -                         (sum as f64 / count as f64) - c
164 +                         (sum as f64 / f64::from(count)) - c
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:173:28
    |
173 |                         if value as f64 > local_thresh {
    |                            ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
173 -                         if value as f64 > local_thresh {
173 +                         if f64::from(value) > local_thresh {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/threshold.rs:180:28
    |
180 |                         if value as f64 > local_thresh {
    |                            ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
180 -                         if value as f64 > local_thresh {
180 +                         if f64::from(value) > local_thresh {
    |

warning: this function could have a `#[must_use]` attribute
  --> src/imgproc/morphology.rs:29:8
   |
29 | pub fn get_structuring_element(shape: MorphShape, ksize: Size) -> Vec<Vec<bool>> {
   |        ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
29 + #[must_use] 
30 | pub fn get_structuring_element(shape: MorphShape, ksize: Size) -> Vec<Vec<bool>> {
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/morphology.rs:30:16
   |
30 |     let rows = ksize.height as usize;
   |                ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/morphology.rs:31:16
   |
31 |     let cols = ksize.width as usize;
   |                ^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:53:21
   |
53 |             let a = center_x as f64;
   |                     ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:54:21
   |
54 |             let b = center_y as f64;
   |                     ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:58:31
   |
58 |                     let dx = (x as f64 - center_x as f64) / a;
   |                               ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:58:42
   |
58 |                     let dx = (x as f64 - center_x as f64) / a;
   |                                          ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:59:31
   |
59 |                     let dy = (y as f64 - center_y as f64) / b;
   |                               ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/morphology.rs:59:42
   |
59 |                     let dy = (y as f64 - center_y as f64) / b;
   |                                          ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/morphology.rs:70:1
   |
70 | pub fn erode(src: &Mat, dst: &mut Mat, kernel: &[Vec<bool>]) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:98:29
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
98 -                     let y = row as i32 + ky as i32 - half_h as i32;
98 +                     let y = i32::try_from(row) + ky as i32 - half_h as i32;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:98:29
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:98:42
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                                          ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
98 -                     let y = row as i32 + ky as i32 - half_h as i32;
98 +                     let y = row as i32 + i32::try_from(ky) - half_h as i32;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:98:42
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                                          ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:98:54
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                                                      ^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
98 -                     let y = row as i32 + ky as i32 - half_h as i32;
98 +                     let y = row as i32 + ky as i32 - i32::try_from(half_h);
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:98:54
   |
98 |                     let y = row as i32 + ky as i32 - half_h as i32;
   |                                                      ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:99:29
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
99 -                     let x = col as i32 + kx as i32 - half_w as i32;
99 +                     let x = i32::try_from(col) + kx as i32 - half_w as i32;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:99:29
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:99:42
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                                          ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
99 -                     let x = col as i32 + kx as i32 - half_w as i32;
99 +                     let x = col as i32 + i32::try_from(kx) - half_w as i32;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:99:42
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                                          ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/morphology.rs:99:54
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                                                      ^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
99 -                     let x = col as i32 + kx as i32 - half_w as i32;
99 +                     let x = col as i32 + kx as i32 - i32::try_from(half_w);
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/morphology.rs:99:54
   |
99 |                     let x = col as i32 + kx as i32 - half_w as i32;
   |                                                      ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:101:38
    |
101 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
101 -                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
101 +                     if y >= 0 && y < i32::try_from(src.rows()) && x >= 0 && x < src.cols() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:101:38
    |
101 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:101:73
    |
101 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
101 -                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
101 +                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < i32::try_from(src.cols()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:101:73
    |
101 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/morphology.rs:102:44
    |
102 |                         let pixel = src.at(y as usize, x as usize)?;
    |                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/morphology.rs:102:56
    |
102 |                         let pixel = src.at(y as usize, x as usize)?;
    |                                                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/morphology.rs:121:1
    |
121 | pub fn dilate(src: &Mat, dst: &mut Mat, kernel: &[Vec<bool>]) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `ky` is used to index `kernel`
   --> src/imgproc/morphology.rs:143:23
    |
143 |             for ky in 0..k_height {
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
    = note: `#[warn(clippy::needless_range_loop)]` on by default
help: consider using an iterator and enumerate()
    |
143 -             for ky in 0..k_height {
143 +             for (ky, <item>) in kernel.iter().enumerate().take(k_height) {
    |

warning: the loop variable `kx` is used to index `kernel`
   --> src/imgproc/morphology.rs:144:27
    |
144 |                 for kx in 0..k_width {
    |                           ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
144 -                 for kx in 0..k_width {
144 +                 for (kx, <item>) in kernel.iter().enumerate().take(k_width) {
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:149:29
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
149 -                     let y = row as i32 + ky as i32 - half_h as i32;
149 +                     let y = i32::try_from(row) + ky as i32 - half_h as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:149:29
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:149:42
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                                          ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
149 -                     let y = row as i32 + ky as i32 - half_h as i32;
149 +                     let y = row as i32 + i32::try_from(ky) - half_h as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:149:42
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                                          ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:149:54
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                                                      ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
149 -                     let y = row as i32 + ky as i32 - half_h as i32;
149 +                     let y = row as i32 + ky as i32 - i32::try_from(half_h);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:149:54
    |
149 |                     let y = row as i32 + ky as i32 - half_h as i32;
    |                                                      ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:150:29
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
150 -                     let x = col as i32 + kx as i32 - half_w as i32;
150 +                     let x = i32::try_from(col) + kx as i32 - half_w as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:150:29
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:150:42
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                                          ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
150 -                     let x = col as i32 + kx as i32 - half_w as i32;
150 +                     let x = col as i32 + i32::try_from(kx) - half_w as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:150:42
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                                          ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:150:54
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                                                      ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
150 -                     let x = col as i32 + kx as i32 - half_w as i32;
150 +                     let x = col as i32 + kx as i32 - i32::try_from(half_w);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:150:54
    |
150 |                     let x = col as i32 + kx as i32 - half_w as i32;
    |                                                      ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:152:38
    |
152 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
152 -                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
152 +                     if y >= 0 && y < i32::try_from(src.rows()) && x >= 0 && x < src.cols() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:152:38
    |
152 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/morphology.rs:152:73
    |
152 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
152 -                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
152 +                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < i32::try_from(src.cols()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/morphology.rs:152:73
    |
152 |                     if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/morphology.rs:153:44
    |
153 |                         let pixel = src.at(y as usize, x as usize)?;
    |                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/morphology.rs:153:56
    |
153 |                         let pixel = src.at(y as usize, x as usize)?;
    |                                                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/morphology.rs:172:1
    |
172 | / pub fn morphology_ex(
173 | |     src: &Mat,
174 | |     dst: &mut Mat,
175 | |     op: MorphType,
176 | |     kernel: &[Vec<bool>],
177 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: item in documentation is missing backticks
   --> src/imgproc/morphology.rs:259:63
    |
259 | /// For simple rectangular kernels, uses GPU if available and use_gpu is true
    |                                                               ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
259 - /// For simple rectangular kernels, uses GPU if available and use_gpu is true
259 + /// For simple rectangular kernels, uses GPU if available and `use_gpu` is true
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/morphology.rs:260:1
    |
260 | / pub async fn erode_async(
261 | |     src: &Mat,
262 | |     dst: &mut Mat,
263 | |     kernel: &[Vec<bool>],
264 | |     use_gpu: bool,
265 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: item in documentation is missing backticks
   --> src/imgproc/morphology.rs:289:63
    |
289 | /// For simple rectangular kernels, uses GPU if available and use_gpu is true
    |                                                               ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
289 - /// For simple rectangular kernels, uses GPU if available and use_gpu is true
289 + /// For simple rectangular kernels, uses GPU if available and `use_gpu` is true
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/morphology.rs:290:1
    |
290 | / pub async fn dilate_async(
291 | |     src: &Mat,
292 | |     dst: &mut Mat,
293 | |     kernel: &[Vec<bool>],
294 | |     use_gpu: bool,
295 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: item in documentation is missing backticks
   --> src/imgproc/morphology.rs:318:22
    |
318 | /// Async version of morphology_ex with optional GPU acceleration
    |                      ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
318 - /// Async version of morphology_ex with optional GPU acceleration
318 + /// Async version of `morphology_ex` with optional GPU acceleration
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/morphology.rs:319:1
    |
319 | / pub async fn morphology_ex_async(
320 | |     src: &Mat,
321 | |     dst: &mut Mat,
322 | |     op: MorphType,
323 | |     kernel: &[Vec<bool>],
324 | |     use_gpu: bool,
325 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/edge.rs:8:1
   |
 8 | / pub async fn sobel_async(
 9 | |     src: &Mat,
10 | |     dst: &mut Mat,
11 | |     dx: i32,
...  |
14 | |     use_gpu: bool,
15 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/edge.rs:35:1
   |
35 | / pub fn sobel(
36 | |     src: &Mat,
37 | |     dst: &mut Mat,
38 | |     dx: i32,
39 | |     dy: i32,
40 | |     ksize: i32,
41 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `col` is used to index `dst_row`
  --> src/imgproc/edge.rs:86:24
   |
86 |             for col in 1..cols - 1 {
   |                        ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
86 -             for col in 1..cols - 1 {
86 +             for (col, <item>) in dst_row.iter_mut().enumerate().take(cols - 1).skip(1) {
   |

warning: the loop variable `ky` is used to index `kernel_x`
  --> src/imgproc/edge.rs:90:31
   |
90 |                     for ky in 0..3 {
   |                               ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
90 -                     for ky in 0..3 {
90 +                     for (ky, <item>) in kernel_x.iter().enumerate() {
   |

warning: the loop variable `kx` is used to index `kernel_x`
  --> src/imgproc/edge.rs:91:35
   |
91 |                         for kx in 0..3 {
   |                                   ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
91 -                         for kx in 0..3 {
91 +                         for (kx, <item>) in kernel_x.iter().enumerate() {
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/edge.rs:95:36
   |
95 | ...                   sum += src_data[src_idx] as f64 * kernel_x[ky][kx];
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
95 -                             sum += src_data[src_idx] as f64 * kernel_x[ky][kx];
95 +                             sum += f64::from(src_data[src_idx]) * kernel_x[ky][kx];
   |

warning: the loop variable `ky` is used to index `kernel_y`
   --> src/imgproc/edge.rs:101:31
    |
101 |                     for ky in 0..3 {
    |                               ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
101 -                     for ky in 0..3 {
101 +                     for (ky, <item>) in kernel_y.iter().enumerate() {
    |

warning: the loop variable `kx` is used to index `kernel_y`
   --> src/imgproc/edge.rs:102:35
    |
102 |                         for kx in 0..3 {
    |                                   ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
102 -                         for kx in 0..3 {
102 +                         for (kx, <item>) in kernel_y.iter().enumerate() {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:106:36
    |
106 | ...                   sum += src_data[src_idx] as f64 * kernel_y[ky][kx];
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
106 -                             sum += src_data[src_idx] as f64 * kernel_y[ky][kx];
106 +                             sum += f64::from(src_data[src_idx]) * kernel_y[ky][kx];
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/edge.rs:111:27
    |
111 |                 let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:111:27
    |
111 |                 let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/edge.rs:121:1
    |
121 | / pub async fn laplacian_async(
122 | |     src: &Mat,
123 | |     dst: &mut Mat,
124 | |     ksize: i32,
125 | |     use_gpu: bool,
126 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/edge.rs:146:1
    |
146 | pub fn laplacian(src: &Mat, dst: &mut Mat, ksize: i32) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `ky` is used to index `kernel`
   --> src/imgproc/edge.rs:172:23
    |
172 |             for ky in 0..3 {
    |                       ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
172 -             for ky in 0..3 {
172 +             for (ky, <item>) in kernel.iter().enumerate() {
    |

warning: the loop variable `kx` is used to index `kernel`
   --> src/imgproc/edge.rs:173:27
    |
173 |                 for kx in 0..3 {
    |                           ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
173 -                 for kx in 0..3 {
173 +                 for (kx, <item>) in kernel.iter().enumerate() {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:177:28
    |
177 |                     sum += pixel[0] as f64 * kernel[ky][kx];
    |                            ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
177 -                     sum += pixel[0] as f64 * kernel[ky][kx];
177 +                     sum += f64::from(pixel[0]) * kernel[ky][kx];
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/edge.rs:181:23
    |
181 |             let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:181:23
    |
181 |             let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/edge.rs:191:1
    |
191 | / pub fn canny(
192 | |     src: &Mat,
193 | |     dst: &mut Mat,
194 | |     threshold1: f64,
195 | |     threshold2: f64,
196 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/edge.rs:210:5
    |
210 |     use crate::imgproc::gaussian_blur;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/edge.rs:211:5
    |
211 |     use crate::core::types::Size;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:242:30
    |
242 |                     let gx = grad_x_data[idx] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
242 -                     let gx = grad_x_data[idx] as f32;
242 +                     let gx = f32::from(grad_x_data[idx]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:243:30
    |
243 |                     let gy = grad_y_data[idx] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
243 -                     let gy = grad_y_data[idx] as f32;
243 +                     let gy = f32::from(grad_y_data[idx]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/edge.rs:246:36
    |
246 |                     mag_row[col] = mag.min(255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:246:36
    |
246 |                     mag_row[col] = mag.min(255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: manual `!Range::contains` implementation
   --> src/imgproc/edge.rs:275:39
    |
275 |                     let (n1, n2) = if angle_deg < 22.5 || angle_deg >= 157.5 {
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `!(22.5..157.5).contains(&angle_deg)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_range_contains
    = note: `#[warn(clippy::manual_range_contains)]` on by default

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/edge.rs:297:25
    |
297 |     let low_threshold = threshold1 as u8;
    |                         ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:297:25
    |
297 |     let low_threshold = threshold1 as u8;
    |                         ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/edge.rs:298:26
    |
298 |     let high_threshold = threshold2 as u8;
    |                          ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:298:26
    |
298 |     let high_threshold = threshold2 as u8;
    |                          ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/edge.rs:340:1
    |
340 | / pub async fn scharr_async(
341 | |     src: &Mat,
342 | |     dst: &mut Mat,
343 | |     dx: i32,
344 | |     dy: i32,
345 | |     use_gpu: bool,
346 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/edge.rs:366:1
    |
366 | pub fn scharr(src: &Mat, dst: &mut Mat, dx: i32, dy: i32) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `ky` is used to index `kernel_x`
   --> src/imgproc/edge.rs:392:27
    |
392 |                 for ky in 0..3 {
    |                           ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
392 -                 for ky in 0..3 {
392 +                 for (ky, <item>) in kernel_x.iter().enumerate() {
    |

warning: the loop variable `kx` is used to index `kernel_x`
   --> src/imgproc/edge.rs:393:31
    |
393 |                     for kx in 0..3 {
    |                               ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
393 -                     for kx in 0..3 {
393 +                     for (kx, <item>) in kernel_x.iter().enumerate() {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:397:32
    |
397 |                         sum += pixel[0] as f64 * kernel_x[ky][kx];
    |                                ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
397 -                         sum += pixel[0] as f64 * kernel_x[ky][kx];
397 +                         sum += f64::from(pixel[0]) * kernel_x[ky][kx];
    |

warning: the loop variable `ky` is used to index `kernel_y`
   --> src/imgproc/edge.rs:403:27
    |
403 |                 for ky in 0..3 {
    |                           ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
403 -                 for ky in 0..3 {
403 +                 for (ky, <item>) in kernel_y.iter().enumerate() {
    |

warning: the loop variable `kx` is used to index `kernel_y`
   --> src/imgproc/edge.rs:404:31
    |
404 |                     for kx in 0..3 {
    |                               ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
404 -                     for kx in 0..3 {
404 +                     for (kx, <item>) in kernel_y.iter().enumerate() {
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/edge.rs:408:32
    |
408 |                         sum += pixel[0] as f64 * kernel_y[ky][kx];
    |                                ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
408 -                         sum += pixel[0] as f64 * kernel_y[ky][kx];
408 +                         sum += f64::from(pixel[0]) * kernel_y[ky][kx];
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/edge.rs:413:23
    |
413 |             let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/edge.rs:413:23
    |
413 |             let val = sum.abs().clamp(0.0, 255.0) as u8;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/drawing.rs:6:1
   |
 6 | / pub fn line(
 7 | |     img: &mut Mat,
 8 | |     pt1: Point,
 9 | |     pt2: Point,
10 | |     color: Scalar,
11 | |     thickness: i32,
12 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/drawing.rs:35:35
   |
35 |         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
   |                                   ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
35 -         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
35 +         } else if x0 >= 0 && x0 < i32::try_from(img.cols()) && y0 >= 0 && y0 < img.rows() as i32 {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/drawing.rs:35:35
   |
35 |         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
   |                                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/drawing.rs:35:72
   |
35 |         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
   |                                                                        ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
35 -         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
35 +         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < i32::try_from(img.rows()) {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/drawing.rs:35:72
   |
35 |         } else if x0 >= 0 && x0 < img.cols() as i32 && y0 >= 0 && y0 < img.rows() as i32 {
   |                                                                        ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/drawing.rs:37:36
   |
37 |             let pixel = img.at_mut(y0 as usize, x0 as usize)?;
   |                                    ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/drawing.rs:37:49
   |
37 |             let pixel = img.at_mut(y0 as usize, x0 as usize)?;
   |                                                 ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
  --> src/imgproc/drawing.rs:38:23
   |
38 |             for ch in 0..num_channels.min(4) {
   |                       ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
38 -             for ch in 0..num_channels.min(4) {
38 +             for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/drawing.rs:39:29
   |
39 |                 pixel[ch] = color.val[ch] as u8;
   |                             ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/drawing.rs:39:29
   |
39 |                 pixel[ch] = color.val[ch] as u8;
   |                             ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/drawing.rs:62:1
   |
62 | pub fn rectangle(img: &mut Mat, rect: Rect, color: Scalar, thickness: i32) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/drawing.rs:68:34
   |
68 |                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
   |                                  ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
68 +                 if y >= 0 && y < i32::try_from(img.rows()) && x >= 0 && x < img.cols() as i32 {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/drawing.rs:68:34
   |
68 |                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
   |                                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/drawing.rs:68:69
   |
68 |                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
   |                                                                     ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
68 +                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < i32::try_from(img.cols()) {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/drawing.rs:68:69
   |
68 |                 if y >= 0 && y < img.rows() as i32 && x >= 0 && x < img.cols() as i32 {
   |                                                                     ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/drawing.rs:69:44
   |
69 |                     let pixel = img.at_mut(y as usize, x as usize)?;
   |                                            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/drawing.rs:69:56
   |
69 |                     let pixel = img.at_mut(y as usize, x as usize)?;
   |                                                        ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
  --> src/imgproc/drawing.rs:70:31
   |
70 |                     for ch in 0..num_channels.min(4) {
   |                               ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
70 -                     for ch in 0..num_channels.min(4) {
70 +                     for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/drawing.rs:71:37
   |
71 |                         pixel[ch] = color.val[ch] as u8;
   |                                     ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/drawing.rs:71:37
   |
71 |                         pixel[ch] = color.val[ch] as u8;
   |                                     ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/drawing.rs:93:1
   |
93 | pub fn circle(img: &mut Mat, center: Point, radius: i32, color: Scalar) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:120:32
    |
120 |             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
120 -             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
120 +             if px >= 0 && px < i32::try_from(img.cols()) && py >= 0 && py < img.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:120:32
    |
120 |             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:120:69
    |
120 |             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
120 -             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
120 +             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < i32::try_from(img.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:120:69
    |
120 |             if px >= 0 && px < img.cols() as i32 && py >= 0 && py < img.rows() as i32 {
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:121:40
    |
121 |                 let pixel = img.at_mut(py as usize, px as usize)?;
    |                                        ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:121:53
    |
121 |                 let pixel = img.at_mut(py as usize, px as usize)?;
    |                                                     ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
   --> src/imgproc/drawing.rs:122:27
    |
122 |                 for ch in 0..num_channels.min(4) {
    |                           ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
122 -                 for ch in 0..num_channels.min(4) {
122 +                 for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/drawing.rs:123:33
    |
123 |                     pixel[ch] = color.val[ch] as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/drawing.rs:123:33
    |
123 |                     pixel[ch] = color.val[ch] as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/drawing.rs:141:1
    |
141 | pub fn circle_filled(img: &mut Mat, center: Point, radius: i32, color: Scalar) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:151:34
    |
151 |                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                  ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
151 -                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
151 +                 if x >= 0 && x < i32::try_from(img.cols()) && y >= 0 && y < img.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:151:34
    |
151 |                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                  ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:151:69
    |
151 |                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
151 -                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
151 +                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < i32::try_from(img.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:151:69
    |
151 |                 if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:152:44
    |
152 |                     let pixel = img.at_mut(y as usize, x as usize)?;
    |                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:152:56
    |
152 |                     let pixel = img.at_mut(y as usize, x as usize)?;
    |                                                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
   --> src/imgproc/drawing.rs:153:31
    |
153 |                     for ch in 0..num_channels.min(4) {
    |                               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
153 -                     for ch in 0..num_channels.min(4) {
153 +                     for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/drawing.rs:154:37
    |
154 |                         pixel[ch] = color.val[ch] as u8;
    |                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/drawing.rs:154:37
    |
154 |                         pixel[ch] = color.val[ch] as u8;
    |                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/drawing.rs:165:1
    |
165 | / pub fn ellipse(
166 | |     img: &mut Mat,
167 | |     center: Point,
168 | |     axes: (i32, i32),
...   |
172 | |     color: Scalar,
173 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:190:32
    |
190 |         let t = start_angle + (i as f64 / num_points as f64) * angle_range;
    |                                ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
190 -         let t = start_angle + (i as f64 / num_points as f64) * angle_range;
190 +         let t = start_angle + (f64::from(i) / num_points as f64) * angle_range;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:190:43
    |
190 |         let t = start_angle + (i as f64 / num_points as f64) * angle_range;
    |                                           ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
190 -         let t = start_angle + (i as f64 / num_points as f64) * angle_range;
190 +         let t = start_angle + (i as f64 / f64::from(num_points)) * angle_range;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:194:23
    |
194 |         let x_local = a as f64 * t_rad.cos();
    |                       ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
194 -         let x_local = a as f64 * t_rad.cos();
194 +         let x_local = f64::from(a) * t_rad.cos();
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:195:23
    |
195 |         let y_local = b as f64 * t_rad.sin();
    |                       ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
195 -         let y_local = b as f64 * t_rad.sin();
195 +         let y_local = f64::from(b) * t_rad.sin();
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/drawing.rs:202:28
    |
202 |         let x = center.x + x_rot as i32;
    |                            ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/drawing.rs:203:28
    |
203 |         let y = center.y + y_rot as i32;
    |                            ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:206:26
    |
206 |         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
206 -         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
206 +         if x >= 0 && x < i32::try_from(img.cols()) && y >= 0 && y < img.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:206:26
    |
206 |         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:206:61
    |
206 |         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
206 -         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
206 +         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < i32::try_from(img.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:206:61
    |
206 |         if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:207:36
    |
207 |             let pixel = img.at_mut(y as usize, x as usize)?;
    |                                    ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:207:48
    |
207 |             let pixel = img.at_mut(y as usize, x as usize)?;
    |                                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
   --> src/imgproc/drawing.rs:208:23
    |
208 |             for ch in 0..num_channels.min(4) {
    |                       ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
208 -             for ch in 0..num_channels.min(4) {
208 +             for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/drawing.rs:209:29
    |
209 |                 pixel[ch] = color.val[ch] as u8;
    |                             ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/drawing.rs:209:29
    |
209 |                 pixel[ch] = color.val[ch] as u8;
    |                             ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/drawing.rs:218:1
    |
218 | / pub fn polylines(
219 | |     img: &mut Mat,
220 | |     pts: &[Point],
221 | |     is_closed: bool,
222 | |     color: Scalar,
223 | |     thickness: i32,
224 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/drawing.rs:241:1
    |
241 | pub fn fill_poly(img: &mut Mat, pts: &[Point], color: Scalar) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/drawing.rs:269:32
    |
269 |                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:269:33
    |
269 |                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
    |                                 ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
269 -                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
269 +                 let x = p1.x + (f64::from(y - p1.y) / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:269:53
    |
269 |                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
    |                                                     ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
269 -                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
269 +                 let x = p1.x + ((y - p1.y) as f64 / f64::from(p2.y - p1.y) * (p2.x - p1.x) as f64) as i32;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/drawing.rs:269:76
    |
269 |                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
    |                                                                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
269 -                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * (p2.x - p1.x) as f64) as i32;
269 +                 let x = p1.x + ((y - p1.y) as f64 / (p2.y - p1.y) as f64 * f64::from(p2.x - p1.x)) as i32;
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:279:38
    |
279 |                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
279 -                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
279 +                     if x >= 0 && x < i32::try_from(img.cols()) && y >= 0 && y < img.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:279:38
    |
279 |                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:279:73
    |
279 |                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
279 -                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
279 +                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < i32::try_from(img.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:279:73
    |
279 |                     if x >= 0 && x < img.cols() as i32 && y >= 0 && y < img.rows() as i32 {
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:280:48
    |
280 |                         let pixel = img.at_mut(y as usize, x as usize)?;
    |                                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/drawing.rs:280:60
    |
280 |                         let pixel = img.at_mut(y as usize, x as usize)?;
    |                                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `ch` is used to index `pixel`
   --> src/imgproc/drawing.rs:281:35
    |
281 |                         for ch in 0..num_channels.min(4) {
    |                                   ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
281 -                         for ch in 0..num_channels.min(4) {
281 +                         for (ch, <item>) in pixel.iter_mut().enumerate().take(num_channels.min(4)) {
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/drawing.rs:282:41
    |
282 | ...                   pixel[ch] = color.val[ch] as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/drawing.rs:282:41
    |
282 | ...                   pixel[ch] = color.val[ch] as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/drawing.rs:294:1
    |
294 | / pub fn put_text(
295 | |     img: &mut Mat,
296 | |     text: &str,
297 | |     org: Point,
298 | |     font_scale: f64,
299 | |     color: Scalar,
300 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/drawing.rs:302:22
    |
302 |     let char_width = (8.0 * font_scale) as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/drawing.rs:303:23
    |
303 |     let char_height = (12.0 * font_scale) as i32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/drawing.rs:306:25
    |
306 |         let x = org.x + i as i32 * char_width;
    |                         ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
306 -         let x = org.x + i as i32 * char_width;
306 +         let x = org.x + i32::try_from(i) * char_width;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/drawing.rs:306:25
    |
306 |         let x = org.x + i as i32 * char_width;
    |                         ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/contours.rs:27:1
   |
27 | / pub fn find_contours(
28 | |     image: &Mat,
29 | |     mode: RetrievalMode,
30 | |     method: ChainApproxMode,
31 | | ) -> Result<Vec<Contour>> {
   | |_________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:87:33
   |
87 |         contour.push(Point::new(col as i32, row as i32));
   |                                 ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
87 -         contour.push(Point::new(col as i32, row as i32));
87 +         contour.push(Point::new(i32::try_from(col), row as i32));
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:87:33
   |
87 |         contour.push(Point::new(col as i32, row as i32));
   |                                 ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:87:45
   |
87 |         contour.push(Point::new(col as i32, row as i32));
   |                                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
87 -         contour.push(Point::new(col as i32, row as i32));
87 +         contour.push(Point::new(col as i32, i32::try_from(row)));
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:87:45
   |
87 |         contour.push(Point::new(col as i32, row as i32));
   |                                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:96:26
   |
96 |                 let ny = row as i32 + dy;
   |                          ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
96 -                 let ny = row as i32 + dy;
96 +                 let ny = i32::try_from(row) + dy;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:96:26
   |
96 |                 let ny = row as i32 + dy;
   |                          ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:97:26
   |
97 |                 let nx = col as i32 + dx;
   |                          ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
97 -                 let nx = col as i32 + dx;
97 +                 let nx = i32::try_from(col) + dx;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:97:26
   |
97 |                 let nx = col as i32 + dx;
   |                          ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:99:35
   |
99 |                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
   |                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
99 -                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
99 +                 if ny > 0 && ny < i32::try_from(image.rows()) - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:99:35
   |
99 |                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
   |                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/contours.rs:99:77
   |
99 |                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
   |                                                                             ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
99 -                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
99 +                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < i32::try_from(image.cols()) - 1 {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/contours.rs:99:77
   |
99 |                 if ny > 0 && ny < image.rows() as i32 - 1 && nx > 0 && nx < image.cols() as i32 - 1 {
   |                                                                             ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/contours.rs:100:30
    |
100 |                     let ny = ny as usize;
    |                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/contours.rs:101:30
    |
101 |                     let nx = nx as usize;
    |                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:115:8
    |
115 | pub fn contour_area(contour: &Contour) -> f64 {
    |        ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
115 + #[must_use] 
116 | pub fn contour_area(contour: &Contour) -> f64 {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:127:17
    |
127 |         area += (p1.x * p2.y - p2.x * p1.y) as f64;
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
127 -         area += (p1.x * p2.y - p2.x * p1.y) as f64;
127 +         area += f64::from(p1.x * p2.y - p2.x * p1.y);
    |

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:134:8
    |
134 | pub fn arc_length(contour: &Contour, closed: bool) -> f64 {
    |        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
134 + #[must_use] 
135 | pub fn arc_length(contour: &Contour, closed: bool) -> f64 {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:145:18
    |
145 |         let dx = (p2.x - p1.x) as f64;
    |                  ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
145 -         let dx = (p2.x - p1.x) as f64;
145 +         let dx = f64::from(p2.x - p1.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:146:18
    |
146 |         let dy = (p2.y - p1.y) as f64;
    |                  ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
146 -         let dy = (p2.y - p1.y) as f64;
146 +         let dy = f64::from(p2.y - p1.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:155:18
    |
155 |         let dx = (p2.x - p1.x) as f64;
    |                  ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
155 -         let dx = (p2.x - p1.x) as f64;
155 +         let dx = f64::from(p2.x - p1.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:156:18
    |
156 |         let dy = (p2.y - p1.y) as f64;
    |                  ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
156 -         let dy = (p2.y - p1.y) as f64;
156 +         let dy = f64::from(p2.y - p1.y);
    |

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:165:8
    |
165 | pub fn approx_poly_dp(contour: &Contour, epsilon: f64, closed: bool) -> Contour {
    |        ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
165 + #[must_use] 
166 | pub fn approx_poly_dp(contour: &Contour, epsilon: f64, closed: bool) -> Contour {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:204:14
    |
204 |     let dx = (line_end.x - line_start.x) as f64;
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
204 -     let dx = (line_end.x - line_start.x) as f64;
204 +     let dx = f64::from(line_end.x - line_start.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:205:14
    |
205 |     let dy = (line_end.y - line_start.y) as f64;
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
205 -     let dy = (line_end.y - line_start.y) as f64;
205 +     let dy = f64::from(line_end.y - line_start.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:207:15
    |
207 |       let num = ((line_end.y - line_start.y) * point.x - (line_end.x - line_start.x) * point.y
    |  _______________^
208 | |         + line_end.x * line_start.y
209 | |         - line_end.y * line_start.x)
210 | |         .abs() as f64;
    | |_____________________^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
207 ~     let num = f64::from(((line_end.y - line_start.y) * point.x - (line_end.x - line_start.x) * point.y
208 +         + line_end.x * line_start.y
209 +         - line_end.y * line_start.x)
210 ~         .abs());
    |

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:222:8
    |
222 | pub fn bounding_rect(contour: &Contour) -> crate::core::types::Rect {
    |        ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
222 + #[must_use] 
223 | pub fn bounding_rect(contour: &Contour) -> crate::core::types::Rect {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:253:12
    |
253 |     pub fn centroid(&self) -> (f64, f64) {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
253 ~     #[must_use] 
254 ~     pub fn centroid(&self) -> (f64, f64) {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/imgproc/contours.rs:262:8
    |
262 | pub fn moments(contour: &Contour) -> Moments {
    |        ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
262 + #[must_use] 
263 | pub fn moments(contour: &Contour) -> Moments {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:271:17
    |
271 |         let x = point.x as f64;
    |                 ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
271 -         let x = point.x as f64;
271 +         let x = f64::from(point.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/contours.rs:272:17
    |
272 |         let y = point.y as f64;
    |                 ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
272 -         let y = point.y as f64;
272 +         let y = f64::from(point.y);
    |

warning: docs for function returning `Result` missing `# Errors` section
 --> src/imgproc/histogram.rs:5:1
  |
5 | / pub fn calc_hist(
6 | |     image: &Mat,
7 | |     hist_size: usize,
8 | |     ranges: (f32, f32),
9 | | ) -> Result<Vec<f32>> {
  | |_____________________^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/imgproc/histogram.rs:25:29
   |
25 |     let bin_width = range / hist_size as f32;
   |                             ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/imgproc/histogram.rs:30:23
   |
30 |             let val = pixel[0] as f32;
   |                       ^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
30 -             let val = pixel[0] as f32;
30 +             let val = f32::from(pixel[0]);
   |

warning: casting `f32` to `usize` may truncate the value
  --> src/imgproc/histogram.rs:33:27
   |
33 |                 let bin = ((val - min_val) / bin_width) as usize;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/imgproc/histogram.rs:33:27
   |
33 |                 let bin = ((val - min_val) / bin_width) as usize;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: used `cloned` where `copied` could be used instead
  --> src/imgproc/histogram.rs:45:31
   |
45 |     let min_val = hist.iter().cloned().fold(f32::INFINITY, f32::min);
   |                               ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cloned_instead_of_copied
   = note: `-W clippy::cloned-instead-of-copied` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::cloned_instead_of_copied)]`

warning: used `cloned` where `copied` could be used instead
  --> src/imgproc/histogram.rs:46:31
   |
46 |     let max_val = hist.iter().cloned().fold(f32::NEG_INFINITY, f32::max);
   |                               ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cloned_instead_of_copied

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/histogram.rs:56:1
   |
56 | pub fn equalize_hist(src: &Mat, dst: &mut Mat) -> Result<()> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `u32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/histogram.rs:89:24
   |
89 |     let total_pixels = (src.rows() * src.cols()) as u32;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
89 -     let total_pixels = (src.rows() * src.cols()) as u32;
89 +     let total_pixels = u32::try_from(src.rows() * src.cols());
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/histogram.rs:96:22
   |
96 |             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/histogram.rs:96:22
   |
96 |             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/histogram.rs:96:24
   |
96 |             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
96 -             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
96 +             lut[i] = ((f64::from((cdf[i].saturating_sub(cdf_min))) / (total_pixels - cdf_min) as f64) * 255.0) as u8;
   |

warning: casts from `u32` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/histogram.rs:96:66
   |
96 |             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
   |                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
96 -             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / (total_pixels - cdf_min) as f64) * 255.0) as u8;
96 +             lut[i] = (((cdf[i].saturating_sub(cdf_min)) as f64 / f64::from(total_pixels - cdf_min)) * 255.0) as u8;
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/histogram.rs:125:1
    |
125 | pub fn compare_hist(h1: &[f32], h2: &[f32], method: HistCompMethod) -> Result<f64> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/histogram.rs:135:55
    |
135 |             let mean1: f32 = h1.iter().sum::<f32>() / h1.len() as f32;
    |                                                       ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/histogram.rs:136:55
    |
136 |             let mean2: f32 = h2.iter().sum::<f32>() / h2.len() as f32;
    |                                                       ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/histogram.rs:152:17
    |
152 |                 (num / (den1 * den2).sqrt()) as f64
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
152 -                 (num / (den1 * den2).sqrt()) as f64
152 +                 f64::from(num / (den1 * den2).sqrt())
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/histogram.rs:167:13
    |
167 |             sum as f64
    |             ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
167 -             sum as f64
167 +             f64::from(sum)
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/histogram.rs:176:13
    |
176 |             sum as f64
    |             ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
176 -             sum as f64
176 +             f64::from(sum)
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/histogram.rs:190:13
    |
190 |             (-bc.ln()).max(0.0) as f64
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
190 -             (-bc.ln()).max(0.0) as f64
190 +             f64::from((-bc.ln()).max(0.0))
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/histogram.rs:198:1
    |
198 | / pub fn calc_back_project(
199 | |     image: &Mat,
200 | |     hist: &[f32],
201 | |     ranges: (f32, f32),
202 | |     dst: &mut Mat,
203 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/histogram.rs:214:29
    |
214 |     let bin_width = range / hist.len() as f32;
    |                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: used `cloned` where `copied` could be used instead
   --> src/imgproc/histogram.rs:217:32
    |
217 |     let max_hist = hist.iter().cloned().fold(f32::NEG_INFINITY, f32::max);
    |                                ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cloned_instead_of_copied

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/histogram.rs:222:23
    |
222 |             let val = pixel[0] as f32;
    |                       ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
222 -             let val = pixel[0] as f32;
222 +             let val = f32::from(pixel[0]);
    |

warning: casting `f32` to `usize` may truncate the value
   --> src/imgproc/histogram.rs:225:27
    |
225 |                 let bin = ((val - min_val) / bin_width) as usize;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/imgproc/histogram.rs:225:27
    |
225 |                 let bin = ((val - min_val) / bin_width) as usize;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/histogram.rs:229:21
    |
229 |                     ((hist[bin] / max_hist) * 255.0) as u8
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/histogram.rs:229:21
    |
229 |                     ((hist[bin] / max_hist) * 255.0) as u8
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/hough.rs:7:1
   |
 7 | / pub fn hough_lines(
 8 | |     image: &Mat,
 9 | |     rho: f64,
10 | |     theta: f64,
11 | |     threshold: i32,
12 | | ) -> Result<Vec<(f64, f64)>> {
   | |____________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:26:19
   |
26 |     let max_rho = ((image.rows() * image.rows() + image.cols() * image.cols()) as f64).sqrt();
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
  --> src/imgproc/hough.rs:27:19
   |
27 |     let num_rho = (2.0 * max_rho / rho) as usize + 1;
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
  --> src/imgproc/hough.rs:27:19
   |
27 |     let num_rho = (2.0 * max_rho / rho) as usize + 1;
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `usize` may truncate the value
  --> src/imgproc/hough.rs:28:21
   |
28 |     let num_theta = (PI / theta) as usize;
   |                     ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
  --> src/imgproc/hough.rs:28:21
   |
28 |     let num_theta = (PI / theta) as usize;
   |                     ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:40:25
   |
40 |                 let x = col as f64;
   |                         ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:41:25
   |
41 |                 let y = row as f64;
   |                         ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the loop variable `t_idx` is used to index `accumulator`
  --> src/imgproc/hough.rs:43:30
   |
43 |                 for t_idx in 0..num_theta {
   |                              ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
43 -                 for t_idx in 0..num_theta {
43 +                 for (t_idx, <item>) in accumulator.iter_mut().enumerate().take(num_theta) {
   |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:44:33
   |
44 |                     let angle = t_idx as f64 * theta;
   |                                 ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
  --> src/imgproc/hough.rs:46:33
   |
46 |                     let r_idx = ((r + max_rho) / rho) as usize;
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
  --> src/imgproc/hough.rs:46:33
   |
46 |                     let r_idx = ((r + max_rho) / rho) as usize;
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `r_idx` is used to index `accumulator`
  --> src/imgproc/hough.rs:59:18
   |
59 |     for r_idx in 0..num_rho {
   |                  ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
59 -     for r_idx in 0..num_rho {
59 +     for (r_idx, <item>) in accumulator.iter().enumerate().take(num_rho) {
   |

warning: the loop variable `t_idx` is used to index `accumulator`
  --> src/imgproc/hough.rs:60:22
   |
60 |         for t_idx in 0..num_theta {
   |                      ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
60 -         for t_idx in 0..num_theta {
60 +         for (t_idx, <item>) in accumulator.iter().enumerate().take(num_theta) {
   |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:62:25
   |
62 |                 let r = r_idx as f64 * rho - max_rho;
   |                         ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/imgproc/hough.rs:63:25
   |
63 |                 let t = t_idx as f64 * theta;
   |                         ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/hough.rs:73:1
   |
73 | / pub fn hough_lines_p(
74 | |     image: &Mat,
75 | |     rho: f64,
76 | |     theta: f64,
...  |
79 | |     max_line_gap: f64,
80 | | ) -> Result<Vec<(Point, Point)>> {
   | |________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/hough.rs:94:45
   |
94 |                 edge_points.push(Point::new(col as i32, row as i32));
   |                                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
94 -                 edge_points.push(Point::new(col as i32, row as i32));
94 +                 edge_points.push(Point::new(i32::try_from(col), row as i32));
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/hough.rs:94:45
   |
94 |                 edge_points.push(Point::new(col as i32, row as i32));
   |                                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/hough.rs:94:57
   |
94 |                 edge_points.push(Point::new(col as i32, row as i32));
   |                                                         ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
94 -                 edge_points.push(Point::new(col as i32, row as i32));
94 +                 edge_points.push(Point::new(col as i32, i32::try_from(row)));
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/hough.rs:94:57
   |
94 |                 edge_points.push(Point::new(col as i32, row as i32));
   |                                                         ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:120:22
    |
120 |             let dx = (p2.x - p1.x) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
120 -             let dx = (p2.x - p1.x) as f64;
120 +             let dx = f64::from(p2.x - p1.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:121:22
    |
121 |             let dy = (p2.y - p1.y) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
121 -             let dy = (p2.y - p1.y) as f64;
121 +             let dy = f64::from(p2.y - p1.y);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/hough.rs:143:1
    |
143 | / pub fn hough_circles(
144 | |     image: &Mat,
145 | |     method: HoughCirclesMethod,
146 | |     dp: f64,
...   |
151 | |     max_radius: i32,
152 | | ) -> Result<Vec<Circle>> {
    | |________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this function has too many arguments (8/7)
   --> src/imgproc/hough.rs:143:1
    |
143 | / pub fn hough_circles(
144 | |     image: &Mat,
145 | |     method: HoughCirclesMethod,
146 | |     dp: f64,
...   |
151 | |     max_radius: i32,
152 | | ) -> Result<Vec<Circle>> {
    | |________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_arguments

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/hough.rs:166:5
    |
166 |     use crate::imgproc::canny;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:174:16
    |
174 |     for row in (min_radius as usize)..(image.rows() - min_radius as usize) {
    |                ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:174:55
    |
174 |     for row in (min_radius as usize)..(image.rows() - min_radius as usize) {
    |                                                       ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:175:20
    |
175 |         for col in (min_radius as usize)..(image.cols() - min_radius as usize) {
    |                    ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:175:59
    |
175 |         for col in (min_radius as usize)..(image.cols() - min_radius as usize) {
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/hough.rs:180:35
    |
180 |                 let num_samples = (2.0 * PI * r as f64) as i32;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:180:47
    |
180 |                 let num_samples = (2.0 * PI * r as f64) as i32;
    |                                               ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
180 -                 let num_samples = (2.0 * PI * r as f64) as i32;
180 +                 let num_samples = (2.0 * PI * f64::from(r)) as i32;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:183:44
    |
183 |                     let angle = 2.0 * PI * i as f64 / num_samples as f64;
    |                                            ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
183 -                     let angle = 2.0 * PI * i as f64 / num_samples as f64;
183 +                     let angle = 2.0 * PI * f64::from(i) / num_samples as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:183:55
    |
183 |                     let angle = 2.0 * PI * i as f64 / num_samples as f64;
    |                                                       ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
183 -                     let angle = 2.0 * PI * i as f64 / num_samples as f64;
183 +                     let angle = 2.0 * PI * i as f64 / f64::from(num_samples);
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:184:29
    |
184 |                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
184 -                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
184 +                     let x = i32::try_from(col) + (r as f64 * angle.cos()) as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:184:29
    |
184 |                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/hough.rs:184:42
    |
184 |                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:184:43
    |
184 |                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
    |                                           ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
184 -                     let x = col as i32 + (r as f64 * angle.cos()) as i32;
184 +                     let x = col as i32 + (f64::from(r) * angle.cos()) as i32;
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:185:29
    |
185 |                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
185 -                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
185 +                     let y = i32::try_from(row) + (r as f64 * angle.sin()) as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:185:29
    |
185 |                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `i32` may truncate the value
   --> src/imgproc/hough.rs:185:42
    |
185 |                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:185:43
    |
185 |                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
    |                                           ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
185 -                     let y = row as i32 + (r as f64 * angle.sin()) as i32;
185 +                     let y = row as i32 + (f64::from(r) * angle.sin()) as i32;
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:187:38
    |
187 |                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
187 -                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
187 +                     if x >= 0 && x < i32::try_from(image.cols()) && y >= 0 && y < image.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:187:38
    |
187 |                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:187:75
    |
187 |                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
    |                                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
187 -                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
187 +                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < i32::try_from(image.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:187:75
    |
187 |                     if x >= 0 && x < image.cols() as i32 && y >= 0 && y < image.rows() as i32 {
    |                                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:188:46
    |
188 |                         let pixel = edges.at(y as usize, x as usize)?;
    |                                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/hough.rs:188:58
    |
188 |                         let pixel = edges.at(y as usize, x as usize)?;
    |                                                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:195:34
    |
195 |                 let vote_ratio = votes as f64 / num_samples as f64;
    |                                  ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
195 -                 let vote_ratio = votes as f64 / num_samples as f64;
195 +                 let vote_ratio = f64::from(votes) / num_samples as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:195:49
    |
195 |                 let vote_ratio = votes as f64 / num_samples as f64;
    |                                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
195 -                 let vote_ratio = votes as f64 / num_samples as f64;
195 +                 let vote_ratio = votes as f64 / f64::from(num_samples);
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:199:44
    |
199 |                         center: Point::new(col as i32, row as i32),
    |                                            ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
199 -                         center: Point::new(col as i32, row as i32),
199 +                         center: Point::new(i32::try_from(col), row as i32),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:199:44
    |
199 |                         center: Point::new(col as i32, row as i32),
    |                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/hough.rs:199:56
    |
199 |                         center: Point::new(col as i32, row as i32),
    |                                                        ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
199 -                         center: Point::new(col as i32, row as i32),
199 +                         center: Point::new(col as i32, i32::try_from(row)),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/hough.rs:199:56
    |
199 |                         center: Point::new(col as i32, row as i32),
    |                                                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:217:22
    |
217 |             let dx = (circle.center.x - existing.center.x) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
217 -             let dx = (circle.center.x - existing.center.x) as f64;
217 +             let dx = f64::from(circle.center.x - existing.center.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/hough.rs:218:22
    |
218 |             let dy = (circle.center.y - existing.center.y) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
218 -             let dy = (circle.center.y - existing.center.y) as f64;
218 +             let dy = f64::from(circle.center.y - existing.center.y);
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/imgproc/advanced_filter.rs:8:1
   |
 8 | / pub fn bilateral_filter(
 9 | |     src: &Mat,
10 | |     dst: &mut Mat,
11 | |     d: i32,
12 | |     sigma_color: f64,
13 | |     sigma_space: f64,
14 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:29:48
   |
29 |     let mut spatial_kernel = vec![vec![0.0f64; (2 * radius + 1) as usize]; (2 * radius + 1) as usize];
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:29:76
   |
29 |     let mut spatial_kernel = vec![vec![0.0f64; (2 * radius + 1) as usize]; (2 * radius + 1) as usize];
   |                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/advanced_filter.rs:34:24
   |
34 |             let dist = (i * i + j * j) as f64;
   |                        ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
34 -             let dist = (i * i + j * j) as f64;
34 +             let dist = f64::from(i * i + j * j);
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:35:28
   |
35 |             spatial_kernel[(i + radius) as usize][(j + radius) as usize] =
   |                            ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:35:51
   |
35 |             spatial_kernel[(i + radius) as usize][(j + radius) as usize] =
   |                                                   ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: it looks like you're manually copying between slices
  --> src/imgproc/advanced_filter.rs:56:17
   |
56 | /                 for ch in 0..channels {
57 | |                     center[ch] = src_data[center_idx + ch];
58 | |                 }
   | |_________________^ help: try replacing the loop by: `center[..channels].copy_from_slice(&src_data[center_idx..(channels + center_idx)]);`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_memcpy
   = note: `#[warn(clippy::manual_memcpy)]` on by default

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:65:29
   |
65 |                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/advanced_filter.rs:65:30
   |
65 |                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
   |                              ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
65 -                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
65 +                     let y = (i32::try_from(row) + i).max(0).min(rows as i32 - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/advanced_filter.rs:65:30
   |
65 |                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
   |                              ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/advanced_filter.rs:65:57
   |
65 |                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
   |                                                         ^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
65 -                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
65 +                     let y = (row as i32 + i).max(0).min(i32::try_from(rows) - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/advanced_filter.rs:65:57
   |
65 |                     let y = (row as i32 + i).max(0).min(rows as i32 - 1) as usize;
   |                                                         ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:67:33
   |
67 |                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/advanced_filter.rs:67:34
   |
67 |                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
   |                                  ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
67 -                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
67 +                         let x = (i32::try_from(col) + j).max(0).min(cols as i32 - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/advanced_filter.rs:67:34
   |
67 |                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
   |                                  ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/imgproc/advanced_filter.rs:67:61
   |
67 |                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
   |                                                             ^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
67 -                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
67 +                         let x = (col as i32 + j).max(0).min(i32::try_from(cols) - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/imgproc/advanced_filter.rs:67:61
   |
67 |                         let x = (col as i32 + j).max(0).min(cols as i32 - 1) as usize;
   |                                                             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/advanced_filter.rs:74:40
   |
74 | ...                   let diff = center[ch] as f64 - src_data[neighbor_idx + ch] as f64;
   |                                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
74 -                             let diff = center[ch] as f64 - src_data[neighbor_idx + ch] as f64;
74 +                             let diff = f64::from(center[ch]) - src_data[neighbor_idx + ch] as f64;
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/advanced_filter.rs:74:60
   |
74 | ...                   let diff = center[ch] as f64 - src_data[neighbor_idx + ch] as f64;
   |                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
74 -                             let diff = center[ch] as f64 - src_data[neighbor_idx + ch] as f64;
74 +                             let diff = center[ch] as f64 - f64::from(src_data[neighbor_idx + ch]);
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:79:53
   |
79 |                         let weight = spatial_kernel[(i + radius) as usize][(j + radius) as usize]
   |                                                     ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:79:76
   |
79 |                         let weight = spatial_kernel[(i + radius) as usize][(j + radius) as usize]
   |                                                                            ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/imgproc/advanced_filter.rs:83:40
   |
83 | ...                   sum[ch] += src_data[neighbor_idx + ch] as f64 * weight;
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
83 -                             sum[ch] += src_data[neighbor_idx + ch] as f64 * weight;
83 +                             sum[ch] += f64::from(src_data[neighbor_idx + ch]) * weight;
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/imgproc/advanced_filter.rs:92:45
   |
92 |                     dst_row[dst_idx + ch] = (sum[ch] / weight_sum) as u8;
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/imgproc/advanced_filter.rs:92:45
   |
92 |                     dst_row[dst_idx + ch] = (sum[ch] / weight_sum) as u8;
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:102:1
    |
102 | / pub fn guided_filter(
103 | |     src: &Mat,
104 | |     guide: &Mat,
105 | |     dst: &mut Mat,
106 | |     radius: i32,
107 | |     eps: f64,
108 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:135:23
    |
135 |             let val = guide.at(row, col)?[0] as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
135 -             let val = guide.at(row, col)?[0] as f64;
135 +             let val = f64::from(guide.at(row, col)?[0]);
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:137:29
    |
137 |             corr_pixel[0] = ((val * val) / 255.0) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:137:29
    |
137 |             corr_pixel[0] = ((val * val) / 255.0) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:147:28
    |
147 |             let mean_val = mean_i.at(row, col)?[0] as f64;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
147 -             let mean_val = mean_i.at(row, col)?[0] as f64;
147 +             let mean_val = f64::from(mean_i.at(row, col)?[0]);
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:148:27
    |
148 |             let mean_sq = mean_ii.at(row, col)?[0] as f64;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
148 -             let mean_sq = mean_ii.at(row, col)?[0] as f64;
148 +             let mean_sq = f64::from(mean_ii.at(row, col)?[0]);
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:152:28
    |
152 |             var_pixel[0] = variance.max(0.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:152:28
    |
152 |             var_pixel[0] = variance.max(0.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:159:23
    |
159 |             let var = var_i.at(row, col)?[0] as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
159 -             let var = var_i.at(row, col)?[0] as f64;
159 +             let var = f64::from(var_i.at(row, col)?[0]);
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:160:30
    |
160 |             let mean_guide = mean_i.at(row, col)?[0] as f64;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
160 -             let mean_guide = mean_i.at(row, col)?[0] as f64;
160 +             let mean_guide = f64::from(mean_i.at(row, col)?[0]);
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:163:28
    |
163 |             let mean_src = mean_p.at(row, col)?[0] as f64;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
163 -             let mean_src = mean_p.at(row, col)?[0] as f64;
163 +             let mean_src = f64::from(mean_p.at(row, col)?[0]);
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:167:29
    |
167 |             let guide_val = guide.at(row, col)?[0] as f64;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
167 -             let guide_val = guide.at(row, col)?[0] as f64;
167 +             let guide_val = f64::from(guide.at(row, col)?[0]);
    |

warning: the loop variable `ch` is only used to index `dst_pixel`
   --> src/imgproc/advanced_filter.rs:171:23
    |
171 |             for ch in 0..src.channels() {
    |                       ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator
    |
171 -             for ch in 0..src.channels() {
171 +             for <item> in dst_pixel.iter_mut().take(src.channels()) {
    |

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:172:33
    |
172 |                 dst_pixel[ch] = result.clamp(0.0, 255.0) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:172:33
    |
172 |                 dst_pixel[ch] = result.clamp(0.0, 255.0) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:189:1
    |
189 | / pub fn distance_transform(
190 | |     src: &Mat,
191 | |     dst: &mut Mat,
192 | |     distance_type: DistanceType,
193 | |     mask_size: i32,
194 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `row` is used to index `dist`
   --> src/imgproc/advanced_filter.rs:207:16
    |
207 |     for row in 0..src.rows() {
    |                ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
207 -     for row in 0..src.rows() {
207 +     for (row, <item>) in dist.iter_mut().enumerate().take(src.rows()) {
    |

warning: the loop variable `col` is used to index `dist`
   --> src/imgproc/advanced_filter.rs:208:20
    |
208 |         for col in 0..src.cols() {
    |                    ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
208 -         for col in 0..src.cols() {
208 +         for (col, <item>) in dist.iter_mut().enumerate().take(src.cols()) {
    |

warning: the loop variable `row` is used to index `dist`
   --> src/imgproc/advanced_filter.rs:247:16
    |
247 |     for row in 0..src.rows() {
    |                ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
247 -     for row in 0..src.rows() {
247 +     for (row, <item>) in dist.iter().enumerate().take(src.rows()) {
    |

warning: the loop variable `col` is used to index `dist`
   --> src/imgproc/advanced_filter.rs:248:20
    |
248 |         for col in 0..src.cols() {
    |                    ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
248 -         for col in 0..src.cols() {
248 +         for (col, <item>) in dist.iter().enumerate().take(src.cols()) {
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:251:32
    |
251 |                 dst_pixel[0] = ((dist[row][col] / max_dist) * 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:251:32
    |
251 |                 dst_pixel[0] = ((dist[row][col] / max_dist) * 255.0) as u8;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:269:1
    |
269 | pub fn watershed(image: &Mat, markers: &mut Mat) -> Result<()> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/advanced_filter.rs:283:5
    |
283 |     use crate::imgproc::sobel;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/advanced_filter.rs:284:5
    |
284 |     use crate::imgproc::cvt_color;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/imgproc/advanced_filter.rs:285:5
    |
285 |     use crate::core::types::ColorConversionCode;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:298:22
    |
298 |             let gx = grad_x.at(row, col)?[0] as f32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
298 -             let gx = grad_x.at(row, col)?[0] as f32;
298 +             let gx = f32::from(grad_x.at(row, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:299:22
    |
299 |             let gy = grad_y.at(row, col)?[0] as f32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
299 -             let gy = grad_y.at(row, col)?[0] as f32;
299 +             let gy = f32::from(grad_y.at(row, col)?[0]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:303:29
    |
303 |             grad_pixel[0] = mag.min(255.0) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:303:29
    |
303 |             grad_pixel[0] = mag.min(255.0) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:322:34
    |
322 |                         let ny = (row as i32 + dy) as usize;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:322:35
    |
322 |                         let ny = (row as i32 + dy) as usize;
    |                                   ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
322 -                         let ny = (row as i32 + dy) as usize;
322 +                         let ny = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:322:35
    |
322 |                         let ny = (row as i32 + dy) as usize;
    |                                   ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:323:34
    |
323 |                         let nx = (col as i32 + dx) as usize;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:323:35
    |
323 |                         let nx = (col as i32 + dx) as usize;
    |                                   ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
323 -                         let nx = (col as i32 + dx) as usize;
323 +                         let nx = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:323:35
    |
323 |                         let nx = (col as i32 + dx) as usize;
    |                                   ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:353:26
    |
353 |                 let ny = row as i32 + dy;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
353 -                 let ny = row as i32 + dy;
353 +                 let ny = i32::try_from(row) + dy;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:353:26
    |
353 |                 let ny = row as i32 + dy;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:354:26
    |
354 |                 let nx = col as i32 + dx;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
354 -                 let nx = col as i32 + dx;
354 +                 let nx = i32::try_from(col) + dx;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:354:26
    |
354 |                 let nx = col as i32 + dx;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:356:36
    |
356 |                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
    |                                    ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
356 -                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
356 +                 if ny >= 0 && ny < i32::try_from(markers.rows()) && nx >= 0 && nx < markers.cols() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:356:36
    |
356 |                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
    |                                    ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:356:77
    |
356 |                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
    |                                                                             ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
356 -                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
356 +                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < i32::try_from(markers.cols()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:356:77
    |
356 |                 if ny >= 0 && ny < markers.rows() as i32 && nx >= 0 && nx < markers.cols() as i32 {
    |                                                                             ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:357:30
    |
357 |                     let ny = ny as usize;
    |                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:358:30
    |
358 |                     let nx = nx as usize;
    |                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:382:1
    |
382 | / pub fn gabor_filter(
383 | |     src: &Mat,
384 | |     dst: &mut Mat,
385 | |     ksize: i32,
...   |
390 | |     psi: f64,
391 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this function has too many arguments (8/7)
   --> src/imgproc/advanced_filter.rs:382:1
    |
382 | / pub fn gabor_filter(
383 | |     src: &Mat,
384 | |     dst: &mut Mat,
385 | |     ksize: i32,
...   |
390 | |     psi: f64,
391 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#too_many_arguments

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:412:29
    |
412 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:412:30
    |
412 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
412 -                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
412 +                     let y = (i32::try_from(row) + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:412:30
    |
412 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:412:58
    |
412 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
412 -                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
412 +                     let y = (row as i32 + ky).max(0).min(i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:412:58
    |
412 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:413:29
    |
413 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:413:30
    |
413 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
413 -                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
413 +                     let x = (i32::try_from(col) + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:413:30
    |
413 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:413:58
    |
413 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
413 -                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
413 +                     let x = (col as i32 + kx).max(0).min(i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:413:58
    |
413 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:415:33
    |
415 |                     let pixel = src.at(y, x)?[0] as f64;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
415 -                     let pixel = src.at(y, x)?[0] as f64;
415 +                     let pixel = f64::from(src.at(y, x)?[0]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:416:40
    |
416 |                     let k_val = kernel[(ky + half) as usize][(kx + half) as usize];
    |                                        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:416:62
    |
416 |                     let k_val = kernel[(ky + half) as usize][(kx + half) as usize];
    |                                                              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:423:28
    |
423 |             dst_pixel[0] = sum.abs().min(255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:423:28
    |
423 |             dst_pixel[0] = sum.abs().min(255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:439:37
    |
439 |     let mut kernel = vec![vec![0.0; ksize as usize]; ksize as usize];
    |                                     ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:439:54
    |
439 |     let mut kernel = vec![vec![0.0; ksize as usize]; ksize as usize];
    |                                                      ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:446:27
    |
446 |             let x_theta = x as f64 * theta.cos() + y as f64 * theta.sin();
    |                           ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
446 -             let x_theta = x as f64 * theta.cos() + y as f64 * theta.sin();
446 +             let x_theta = f64::from(x) * theta.cos() + y as f64 * theta.sin();
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:446:52
    |
446 |             let x_theta = x as f64 * theta.cos() + y as f64 * theta.sin();
    |                                                    ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
446 -             let x_theta = x as f64 * theta.cos() + y as f64 * theta.sin();
446 +             let x_theta = x as f64 * theta.cos() + f64::from(y) * theta.sin();
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:447:27
    |
447 |             let y_theta = -x as f64 * theta.sin() + y as f64 * theta.cos();
    |                           ^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
447 -             let y_theta = -x as f64 * theta.sin() + y as f64 * theta.cos();
447 +             let y_theta = f64::from(-x) * theta.sin() + y as f64 * theta.cos();
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:447:53
    |
447 |             let y_theta = -x as f64 * theta.sin() + y as f64 * theta.cos();
    |                                                     ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
447 -             let y_theta = -x as f64 * theta.sin() + y as f64 * theta.cos();
447 +             let y_theta = -x as f64 * theta.sin() + f64::from(y) * theta.cos();
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:455:20
    |
455 |             kernel[(y + half) as usize][(x + half) as usize] = gaussian * sinusoid;
    |                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:455:41
    |
455 |             kernel[(y + half) as usize][(x + half) as usize] = gaussian * sinusoid;
    |                                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: item in documentation is missing backticks
   --> src/imgproc/advanced_filter.rs:462:28
    |
462 | /// Laplacian of Gaussian (LoG) filter for blob detection
    |                            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
462 - /// Laplacian of Gaussian (LoG) filter for blob detection
462 + /// Laplacian of Gaussian (`LoG`) filter for blob detection
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:463:1
    |
463 | / pub fn laplacian_of_gaussian(
464 | |     src: &Mat,
465 | |     dst: &mut Mat,
466 | |     ksize: i32,
467 | |     sigma: f64,
468 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:489:29
    |
489 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:489:30
    |
489 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
489 -                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
489 +                     let y = (i32::try_from(row) + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:489:30
    |
489 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:489:58
    |
489 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
489 -                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
489 +                     let y = (row as i32 + ky).max(0).min(i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:489:58
    |
489 |                     let y = (row as i32 + ky).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:490:29
    |
490 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:490:30
    |
490 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
490 -                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
490 +                     let x = (i32::try_from(col) + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:490:30
    |
490 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:490:58
    |
490 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
490 -                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
490 +                     let x = (col as i32 + kx).max(0).min(i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:490:58
    |
490 |                     let x = (col as i32 + kx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:492:33
    |
492 |                     let pixel = src.at(y, x)?[0] as f64;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
492 -                     let pixel = src.at(y, x)?[0] as f64;
492 +                     let pixel = f64::from(src.at(y, x)?[0]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:493:40
    |
493 |                     let k_val = kernel[(ky + half) as usize][(kx + half) as usize];
    |                                        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:493:62
    |
493 |                     let k_val = kernel[(ky + half) as usize][(kx + half) as usize];
    |                                                              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:501:28
    |
501 |             dst_pixel[0] = sum.abs().min(255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:501:28
    |
501 |             dst_pixel[0] = sum.abs().min(255.0) as u8;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:510:37
    |
510 |     let mut kernel = vec![vec![0.0; ksize as usize]; ksize as usize];
    |                                     ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:510:54
    |
510 |     let mut kernel = vec![vec![0.0; ksize as usize]; ksize as usize];
    |                                                      ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:517:22
    |
517 |             let x2 = (x * x) as f64;
    |                      ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
517 -             let x2 = (x * x) as f64;
517 +             let x2 = f64::from(x * x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:518:22
    |
518 |             let y2 = (y * y) as f64;
    |                      ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
518 -             let y2 = (y * y) as f64;
518 +             let y2 = f64::from(y * y);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:524:20
    |
524 |             kernel[(y + half) as usize][(x + half) as usize] =
    |                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:524:41
    |
524 |             kernel[(y + half) as usize][(x + half) as usize] =
    |                                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:533:1
    |
533 | / pub fn non_local_means_denoising(
534 | |     src: &Mat,
535 | |     dst: &mut Mat,
536 | |     h: f32,
537 | |     template_window_size: i32,
538 | |     search_window_size: i32,
539 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:560:38
    |
560 |                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:560:39
    |
560 |                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
560 -                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
560 +                     let search_row = (i32::try_from(row) + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:560:39
    |
560 |                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:560:67
    |
560 |                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
560 -                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
560 +                     let search_row = (row as i32 + sy).max(0).min(i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:560:67
    |
560 |                     let search_row = (row as i32 + sy).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:561:38
    |
561 |                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:561:39
    |
561 |                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
561 -                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
561 +                     let search_col = (i32::try_from(col) + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:561:39
    |
561 |                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:561:67
    |
561 |                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
561 -                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
561 +                     let search_col = (col as i32 + sx).max(0).min(i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:561:67
    |
561 |                     let search_col = (col as i32 + sx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:569:38
    |
569 | ...                   let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:569:39
    |
569 | ...                   let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
569 -                             let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
569 +                             let r1 = (i32::try_from(row) + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:569:39
    |
569 | ...                   let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:569:67
    |
569 | ...                   let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
569 -                             let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
569 +                             let r1 = (row as i32 + ty).max(0).min(i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:569:67
    |
569 | ...                   let r1 = (row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:570:38
    |
570 | ...                   let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:570:39
    |
570 | ...                   let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
570 -                             let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
570 +                             let c1 = (i32::try_from(col) + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:570:39
    |
570 | ...                   let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:570:67
    |
570 | ...                   let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
570 -                             let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
570 +                             let c1 = (col as i32 + tx).max(0).min(i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:570:67
    |
570 | ...                   let c1 = (col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:572:38
    |
572 | ...                   let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:572:39
    |
572 | ...                   let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
572 -                             let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
572 +                             let r2 = (i32::try_from(search_row) + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:572:39
    |
572 | ...                   let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:572:74
    |
572 | ...                   let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
572 -                             let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
572 +                             let r2 = (search_row as i32 + ty).max(0).min(i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:572:74
    |
572 | ...                   let r2 = (search_row as i32 + ty).max(0).min(src.rows() as i32 - 1) as usize;
    |                                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:573:38
    |
573 | ...                   let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:573:39
    |
573 | ...                   let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
573 -                             let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
573 +                             let c2 = (i32::try_from(search_col) + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:573:39
    |
573 | ...                   let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/imgproc/advanced_filter.rs:573:74
    |
573 | ...                   let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
573 -                             let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
573 +                             let c2 = (search_col as i32 + tx).max(0).min(i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/imgproc/advanced_filter.rs:573:74
    |
573 | ...                   let c2 = (search_col as i32 + tx).max(0).min(src.cols() as i32 - 1) as usize;
    |                                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:579:44
    |
579 | ...                   let diff = p1[ch] as f32 - p2[ch] as f32;
    |                                  ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
579 -                                 let diff = p1[ch] as f32 - p2[ch] as f32;
579 +                                 let diff = f32::from(p1[ch]) - p2[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:579:60
    |
579 | ...                   let diff = p1[ch] as f32 - p2[ch] as f32;
    |                                                  ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
579 -                                 let diff = p1[ch] as f32 - p2[ch] as f32;
579 +                                 let diff = p1[ch] as f32 - f32::from(p2[ch]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/imgproc/advanced_filter.rs:586:35
    |
586 |                     patch_dist /= patch_count as f32;
    |                                   ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:593:36
    |
593 |                         sum[ch] += search_pixel[ch] as f32 * weight;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
593 -                         sum[ch] += search_pixel[ch] as f32 * weight;
593 +                         sum[ch] += f32::from(search_pixel[ch]) * weight;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:601:33
    |
601 |                 dst_pixel[ch] = (sum[ch] / weight_sum) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:601:33
    |
601 |                 dst_pixel[ch] = (sum[ch] / weight_sum) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/imgproc/advanced_filter.rs:610:1
    |
610 | / pub fn anisotropic_diffusion(
611 | |     src: &Mat,
612 | |     dst: &mut Mat,
613 | |     num_iterations: usize,
614 | |     kappa: f32,
615 | |     lambda: f32,
616 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:640:30
    |
640 |                 let center = current.at(row, col)?[0] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
640 -                 let center = current.at(row, col)?[0] as f32;
640 +                 let center = f32::from(current.at(row, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:643:25
    |
643 |                 let n = current.at(row - 1, col)?[0] as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
643 -                 let n = current.at(row - 1, col)?[0] as f32;
643 +                 let n = f32::from(current.at(row - 1, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:644:25
    |
644 |                 let s = current.at(row + 1, col)?[0] as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
644 -                 let s = current.at(row + 1, col)?[0] as f32;
644 +                 let s = f32::from(current.at(row + 1, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:645:25
    |
645 |                 let e = current.at(row, col + 1)?[0] as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
645 -                 let e = current.at(row, col + 1)?[0] as f32;
645 +                 let e = f32::from(current.at(row, col + 1)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/imgproc/advanced_filter.rs:646:25
    |
646 |                 let w = current.at(row, col - 1)?[0] as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
646 -                 let w = current.at(row, col - 1)?[0] as f32;
646 +                 let w = f32::from(current.at(row, col - 1)?[0]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/imgproc/advanced_filter.rs:663:44
    |
663 |                 dst.at_mut(row, col)?[0] = new_val.clamp(0.0, 255.0) as u8;
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/imgproc/advanced_filter.rs:663:44
    |
663 |                 dst.at_mut(row, col)?[0] = new_val.clamp(0.0, 255.0) as u8;
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: item in documentation is missing backticks
 --> src/features2d/keypoints.rs:8:5
  |
8 | /// KeyPoint structure representing a feature point
  |     ^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
8 - /// KeyPoint structure representing a feature point
8 + /// `KeyPoint` structure representing a feature point
  |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/keypoints.rs:19:12
   |
19 |     pub fn new(pt: Point, size: f32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
19 ~     #[must_use] 
20 ~     pub fn new(pt: Point, size: f32) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/keypoints.rs:31:1
   |
31 | / pub fn harris_corners(
32 | |     src: &Mat,
33 | |     block_size: i32,
34 | |     ksize: i32,
35 | |     k: f64,
36 | |     threshold: f64,
37 | | ) -> Result<Vec<KeyPoint>> {
   | |__________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> src/features2d/keypoints.rs:51:5
   |
51 |     use crate::imgproc::sobel;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/features2d/keypoints.rs:65:22
   |
65 |             let gx = grad_x.at(row, col)?[0] as f64;
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
65 -             let gx = grad_x.at(row, col)?[0] as f64;
65 +             let gx = f64::from(grad_x.at(row, col)?[0]);
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/features2d/keypoints.rs:66:22
   |
66 |             let gy = grad_y.at(row, col)?[0] as f64;
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
66 -             let gy = grad_y.at(row, col)?[0] as f64;
66 +             let gy = f64::from(grad_y.at(row, col)?[0]);
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:78:16
   |
78 |     for row in half_block as usize..(src.rows() - half_block as usize) {
   |                ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:78:51
   |
78 |     for row in half_block as usize..(src.rows() - half_block as usize) {
   |                                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:79:20
   |
79 |         for col in half_block as usize..(src.cols() - half_block as usize) {
   |                    ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:79:55
   |
79 |         for col in half_block as usize..(src.cols() - half_block as usize) {
   |                                                       ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:87:29
   |
87 |                     let y = (row as i32 + by) as usize;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/keypoints.rs:87:30
   |
87 |                     let y = (row as i32 + by) as usize;
   |                              ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
87 -                     let y = (row as i32 + by) as usize;
87 +                     let y = (i32::try_from(row) + by) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/keypoints.rs:87:30
   |
87 |                     let y = (row as i32 + by) as usize;
   |                              ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/keypoints.rs:88:29
   |
88 |                     let x = (col as i32 + bx) as usize;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/keypoints.rs:88:30
   |
88 |                     let x = (col as i32 + bx) as usize;
   |                              ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
88 -                     let x = (col as i32 + bx) as usize;
88 +                     let x = (i32::try_from(col) + bx) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/keypoints.rs:88:30
   |
88 |                     let x = (col as i32 + bx) as usize;
   |                              ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:103:36
    |
103 |                     pt: Point::new(col as i32, row as i32),
    |                                    ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
103 -                     pt: Point::new(col as i32, row as i32),
103 +                     pt: Point::new(i32::try_from(col), row as i32),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:103:36
    |
103 |                     pt: Point::new(col as i32, row as i32),
    |                                    ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:103:48
    |
103 |                     pt: Point::new(col as i32, row as i32),
    |                                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
103 -                     pt: Point::new(col as i32, row as i32),
103 +                     pt: Point::new(col as i32, i32::try_from(row)),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:103:48
    |
103 |                     pt: Point::new(col as i32, row as i32),
    |                                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/keypoints.rs:104:27
    |
104 |                     size: block_size as f32,
    |                           ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/keypoints.rs:106:31
    |
106 |                     response: response as f32,
    |                               ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function which may panic missing `# Panics` section
   --> src/features2d/keypoints.rs:117:1
    |
117 | / pub fn good_features_to_track(
118 | |     src: &Mat,
119 | |     max_corners: usize,
120 | |     quality_level: f64,
121 | |     min_distance: f64,
122 | |     block_size: i32,
123 | | ) -> Result<Vec<KeyPoint>> {
    | |__________________________^
    |
note: first possible panic found here
   --> src/features2d/keypoints.rs:128:28
    |
128 |     corners.sort_by(|a, b| b.response.partial_cmp(&a.response).unwrap());
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/keypoints.rs:117:1
    |
117 | / pub fn good_features_to_track(
118 | |     src: &Mat,
119 | |     max_corners: usize,
120 | |     quality_level: f64,
121 | |     min_distance: f64,
122 | |     block_size: i32,
123 | | ) -> Result<Vec<KeyPoint>> {
    | |__________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/keypoints.rs:137:22
    |
137 |             let dx = (corner.pt.x - existing.pt.x) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
137 -             let dx = (corner.pt.x - existing.pt.x) as f64;
137 +             let dx = f64::from(corner.pt.x - existing.pt.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/keypoints.rs:138:22
    |
138 |             let dy = (corner.pt.y - existing.pt.y) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
138 -             let dy = (corner.pt.y - existing.pt.y) as f64;
138 +             let dy = f64::from(corner.pt.y - existing.pt.y);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/keypoints.rs:159:1
    |
159 | / pub fn fast(
160 | |     src: &Mat,
161 | |     threshold: i32,
162 | |     nonmax_suppression: bool,
163 | | ) -> Result<Vec<KeyPoint>> {
    | |__________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/keypoints.rs:190:34
    |
190 |                 let center_val = src_data[center_idx] as i32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
190 -                 let center_val = src_data[center_idx] as i32;
190 +                 let center_val = i32::from(src_data[center_idx]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/keypoints.rs:197:29
    |
197 |                     let y = (row as i32 + dy) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:197:30
    |
197 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
197 -                     let y = (row as i32 + dy) as usize;
197 +                     let y = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:197:30
    |
197 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/keypoints.rs:198:29
    |
198 |                     let x = (col as i32 + dx) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:198:30
    |
198 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
198 -                     let x = (col as i32 + dx) as usize;
198 +                     let x = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:198:30
    |
198 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/keypoints.rs:200:40
    |
200 |                     circle_values[i] = src_data[idx] as i32;
    |                                        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
200 -                     circle_values[i] = src_data[idx] as i32;
200 +                     circle_values[i] = i32::from(src_data[idx]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/keypoints.rs:229:36
    |
229 |                     let response = (max_consecutive_brighter.max(max_consecutive_darker)) as f32;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:232:40
    |
232 |                         pt: Point::new(col as i32, row as i32),
    |                                        ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
232 -                         pt: Point::new(col as i32, row as i32),
232 +                         pt: Point::new(i32::try_from(col), row as i32),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:232:40
    |
232 |                         pt: Point::new(col as i32, row as i32),
    |                                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/keypoints.rs:232:52
    |
232 |                         pt: Point::new(col as i32, row as i32),
    |                                                    ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
232 -                         pt: Point::new(col as i32, row as i32),
232 +                         pt: Point::new(col as i32, i32::try_from(row)),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/keypoints.rs:232:52
    |
232 |                         pt: Point::new(col as i32, row as i32),
    |                                                    ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/descriptors.rs:16:12
   |
16 |     pub fn new(n_features: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
16 ~     #[must_use] 
17 ~     pub fn new(n_features: usize) -> Self {
   |

warning: docs for function which may panic missing `# Panics` section
  --> src/features2d/descriptors.rs:24:5
   |
24 | /     pub fn detect_and_compute(
25 | |         &self,
26 | |         image: &Mat,
27 | |     ) -> Result<(Vec<KeyPoint>, Vec<Descriptor>)> {
   | |_________________________________________________^
   |
note: first possible panic found here
  --> src/features2d/descriptors.rs:39:34
   |
39 |         keypoints.sort_by(|a, b| b.response.partial_cmp(&a.response).unwrap());
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/descriptors.rs:24:5
   |
24 | /     pub fn detect_and_compute(
25 | |         &self,
26 | |         image: &Mat,
27 | |     ) -> Result<(Vec<KeyPoint>, Vec<Descriptor>)> {
   | |_________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> src/features2d/descriptors.rs:35:9
   |
35 |         use crate::features2d::fast;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/descriptors.rs:73:40
   |
73 |                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
   |                                        ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
73 -                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
73 +                     if x1 >= 0 && x1 < i32::try_from(image.cols()) && y1 >= 0 && y1 < image.rows() as i32
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/descriptors.rs:73:40
   |
73 |                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
   |                                        ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/descriptors.rs:73:79
   |
73 |                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
   |                                                                               ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
73 -                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
73 +                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < i32::try_from(image.rows())
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/descriptors.rs:73:79
   |
73 |                     if x1 >= 0 && x1 < image.cols() as i32 && y1 >= 0 && y1 < image.rows() as i32
   |                                                                               ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/descriptors.rs:74:44
   |
74 |                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
   |                                            ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
74 -                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
74 +                         && x2 >= 0 && x2 < i32::try_from(image.cols()) && y2 >= 0 && y2 < image.rows() as i32
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/descriptors.rs:74:44
   |
74 |                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
   |                                            ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/descriptors.rs:74:83
   |
74 |                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
   |                                                                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
74 -                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
74 +                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < i32::try_from(image.rows())
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/descriptors.rs:74:83
   |
74 |                         && x2 >= 0 && x2 < image.cols() as i32 && y2 >= 0 && y2 < image.rows() as i32
   |                                                                                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/descriptors.rs:76:45
   |
76 |                         let val1 = image.at(y1 as usize, x1 as usize)?[0];
   |                                             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/descriptors.rs:76:58
   |
76 |                         let val1 = image.at(y1 as usize, x1 as usize)?[0];
   |                                                          ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/descriptors.rs:77:45
   |
77 |                         let val2 = image.at(y2 as usize, x2 as usize)?[0];
   |                                             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/descriptors.rs:77:58
   |
77 |                         let val2 = image.at(y2 as usize, x2 as usize)?[0];
   |                                                          ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: unused `self` argument
  --> src/features2d/descriptors.rs:94:28
   |
94 |     fn generate_test_pairs(&self, num_tests: usize) -> Vec<((i32, i32), (i32, i32))> {
   |                            ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self
   = note: `-W clippy::unused-self` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::unused_self)]`

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:102:22
    |
102 |             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
102 -             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
102 +             let x1 = i32::try_from((i * 7) % patch_size) - half_patch as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:102:22
    |
102 |             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:102:54
    |
102 |             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
    |                                                      ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
102 -             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
102 +             let x1 = ((i * 7) % patch_size) as i32 - i32::try_from(half_patch);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:102:54
    |
102 |             let x1 = ((i * 7) % patch_size) as i32 - half_patch as i32;
    |                                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:103:22
    |
103 |             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
103 -             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
103 +             let y1 = i32::try_from((i * 11) % patch_size) - half_patch as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:103:22
    |
103 |             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:103:55
    |
103 |             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
103 -             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
103 +             let y1 = ((i * 11) % patch_size) as i32 - i32::try_from(half_patch);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:103:55
    |
103 |             let y1 = ((i * 11) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:104:22
    |
104 |             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
104 -             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
104 +             let x2 = i32::try_from((i * 13) % patch_size) - half_patch as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:104:22
    |
104 |             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:104:55
    |
104 |             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
104 -             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
104 +             let x2 = ((i * 13) % patch_size) as i32 - i32::try_from(half_patch);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:104:55
    |
104 |             let x2 = ((i * 13) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:105:22
    |
105 |             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
105 -             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
105 +             let y2 = i32::try_from((i * 17) % patch_size) - half_patch as i32;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:105:22
    |
105 |             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/descriptors.rs:105:55
    |
105 |             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
105 -             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
105 +             let y2 = ((i * 17) % patch_size) as i32 - i32::try_from(half_patch);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/descriptors.rs:105:55
    |
105 |             let y2 = ((i * 17) % patch_size) as i32 - half_patch as i32;
    |                                                       ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
   --> src/features2d/descriptors.rs:120:12
    |
120 |     pub fn new(bytes: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
120 ~     #[must_use] 
121 ~     pub fn new(bytes: usize) -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/descriptors.rs:124:5
    |
124 | /     pub fn compute(
125 | |         &self,
126 | |         image: &Mat,
127 | |         keypoints: &[KeyPoint],
128 | |     ) -> Result<Vec<Descriptor>> {
    | |________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/features2d/descriptors.rs:141:12
    |
141 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
141 ~     #[must_use] 
142 ~     pub fn new() -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/descriptors.rs:148:5
    |
148 | /     pub fn detect_and_compute(
149 | |         &self,
150 | |         image: &Mat,
151 | |     ) -> Result<(Vec<KeyPoint>, Vec<Descriptor>)> {
    | |_________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this function could have a `#[must_use]` attribute
   --> src/features2d/descriptors.rs:173:8
    |
173 | pub fn hamming_distance(desc1: &[u8], desc2: &[u8]) -> u32 {
    |        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
173 + #[must_use] 
174 | pub fn hamming_distance(desc1: &[u8], desc2: &[u8]) -> u32 {
    |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/matching.rs:13:12
   |
13 |     pub fn new(query_idx: usize, train_idx: usize, distance: f32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
13 ~     #[must_use] 
14 ~     pub fn new(query_idx: usize, train_idx: usize, distance: f32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/matching.rs:36:12
   |
36 |     pub fn new(distance_type: DistanceType, cross_check: bool) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
36 ~     #[must_use] 
37 ~     pub fn new(distance_type: DistanceType, cross_check: bool) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/matching.rs:44:5
   |
44 | /     pub fn match_descriptors(
45 | |         &self,
46 | |         query_desc: &[Descriptor],
47 | |         train_desc: &[Descriptor],
48 | |     ) -> Result<Vec<DMatch>> {
   | |____________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/features2d/matching.rs:80:5
    |
 80 | /     pub fn knn_match(
 81 | |         &self,
 82 | |         query_desc: &[Descriptor],
 83 | |         train_desc: &[Descriptor],
 84 | |         k: usize,
 85 | |     ) -> Result<Vec<Vec<DMatch>>> {
    | |_________________________________^
    |
note: first possible panic found here
   --> src/features2d/matching.rs:103:38
    |
103 |             distances.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/matching.rs:80:5
   |
80 | /     pub fn knn_match(
81 | |         &self,
82 | |         query_desc: &[Descriptor],
83 | |         train_desc: &[Descriptor],
84 | |         k: usize,
85 | |     ) -> Result<Vec<Vec<DMatch>>> {
   | |_________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/features2d/matching.rs:119:5
    |
119 | /     pub fn radius_match(
120 | |         &self,
121 | |         query_desc: &[Descriptor],
122 | |         train_desc: &[Descriptor],
123 | |         max_distance: f32,
124 | |     ) -> Result<Vec<Vec<DMatch>>> {
    | |_________________________________^
    |
note: first possible panic found here
   --> src/features2d/matching.rs:143:46
    |
143 |             matches_for_query.sort_by(|a, b| a.distance.partial_cmp(&b.distance).unwrap());
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/matching.rs:119:5
    |
119 | /     pub fn radius_match(
120 | |         &self,
121 | |         query_desc: &[Descriptor],
122 | |         train_desc: &[Descriptor],
123 | |         max_distance: f32,
124 | |     ) -> Result<Vec<Vec<DMatch>>> {
    | |_________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `u32` to `f32` causes a loss of precision (`u32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/matching.rs:159:38
    |
159 |             DistanceType::Hamming => hamming_distance(desc1, desc2) as f32,
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/features2d/matching.rs:165:36
    |
165 |                         let diff = *a as f64 - *b as f64;
    |                                    ^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
165 -                         let diff = *a as f64 - *b as f64;
165 +                         let diff = f64::from(*a) - *b as f64;
    |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/features2d/matching.rs:165:48
    |
165 |                         let diff = *a as f64 - *b as f64;
    |                                                ^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
165 -                         let diff = *a as f64 - *b as f64;
165 +                         let diff = *a as f64 - f64::from(*b);
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/matching.rs:169:17
    |
169 |                 sum.sqrt() as f32
    |                 ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this function could have a `#[must_use]` attribute
   --> src/features2d/matching.rs:217:8
    |
217 | pub fn ratio_test_filter(knn_matches: &[Vec<DMatch>], ratio: f32) -> Vec<DMatch> {
    |        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
217 + #[must_use] 
218 | pub fn ratio_test_filter(knn_matches: &[Vec<DMatch>], ratio: f32) -> Vec<DMatch> {
    |

warning: docs for function which may panic missing `# Panics` section
   --> src/features2d/matching.rs:236:1
    |
236 | pub fn sort_matches_by_distance(matches: &mut [DMatch]) {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/features2d/matching.rs:237:28
    |
237 |     matches.sort_by(|a, b| a.distance.partial_cmp(&b.distance).unwrap());
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/sift_f32.rs:16:12
   |
16 |     pub fn new(n_features: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
16 ~     #[must_use] 
17 ~     pub fn new(n_features: usize) -> Self {
   |

warning: docs for function which may panic missing `# Panics` section
  --> src/features2d/sift_f32.rs:27:5
   |
27 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<f32>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/features2d/sift_f32.rs:64:34
   |
64 |         keypoints.sort_by(|a, b| b.response.partial_cmp(&a.response).unwrap());
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/sift_f32.rs:27:5
   |
27 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<f32>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: unnecessary `!=` operation
  --> src/features2d/sift_f32.rs:35:25
   |
35 |           let image_f32 = if image.depth() != MatDepth::F32 {
   |  _________________________^
36 | |             image.convert_to(MatDepth::F32)?
37 | |         } else {
38 | |             image.clone_mat()
39 | |         };
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#if_not_else
   = note: `-W clippy::if-not-else` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::if_not_else)]`
help: try
   |
35 ~         let image_f32 = if image.depth() == MatDepth::F32 {
36 +             image.clone_mat()
37 +         } else {
38 +             image.convert_to(MatDepth::F32)?
39 ~         };
   |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/features2d/sift_f32.rs:46:21
   |
46 |                     image.at(row, col)?[0] as f32 / 255.0
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
46 -                     image.at(row, col)?[0] as f32 / 255.0
46 +                     f32::from(image.at(row, col)?[0]) / 255.0
   |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/sift_f32.rs:84:57
   |
84 |                 let sigma = self.sigma * (2.0_f32).powf(scale as f32 / self.n_octave_layers as f32);
   |                                                         ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/sift_f32.rs:84:72
   |
84 |                 let sigma = self.sigma * (2.0_f32).powf(scale as f32 / self.n_octave_layers as f32);
   |                                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:100:26
    |
100 |     fn gaussian_blur_f32(&self, image: &Mat, sigma: f32) -> Result<Mat> {
    |                          ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `f32` to `usize` may truncate the value
   --> src/features2d/sift_f32.rs:102:28
    |
102 |         let kernel_size = ((sigma * 6.0) as usize / 2 * 2 + 1).max(3);
    |                            ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:102:28
    |
102 |         let kernel_size = ((sigma * 6.0) as usize / 2 * 2 + 1).max(3);
    |                            ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `i` is used to index `kernel`
   --> src/features2d/sift_f32.rs:110:18
    |
110 |         for i in 0..kernel_size {
    |                  ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
110 -         for i in 0..kernel_size {
110 +         for (i, <item>) in kernel.iter_mut().enumerate().take(kernel_size) {
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/sift_f32.rs:111:21
    |
111 |             let x = i as f32 - radius as f32;
    |                     ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/sift_f32.rs:111:32
    |
111 |             let x = i as f32 - radius as f32;
    |                                ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the loop variable `k` is used to index `kernel`
   --> src/features2d/sift_f32.rs:124:26
    |
124 |                 for k in 0..kernel_size {
    |                          ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
124 -                 for k in 0..kernel_size {
124 +                 for (k, <item>) in kernel.iter().enumerate().take(kernel_size) {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:125:29
    |
125 |                       let c = (col as i32 + k as i32 - radius as i32)
    |  _____________________________^
126 | |                         .max(0)
127 | |                         .min(image.cols() as i32 - 1) as usize;
    | |______________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:125:30
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
125 -                     let c = (col as i32 + k as i32 - radius as i32)
125 +                     let c = (i32::try_from(col) + k as i32 - radius as i32)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:125:30
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:125:43
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                                           ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
125 -                     let c = (col as i32 + k as i32 - radius as i32)
125 +                     let c = (col as i32 + i32::try_from(k) - radius as i32)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:125:43
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                                           ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:125:54
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                                                      ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
125 -                     let c = (col as i32 + k as i32 - radius as i32)
125 +                     let c = (col as i32 + k as i32 - i32::try_from(radius))
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:125:54
    |
125 |                     let c = (col as i32 + k as i32 - radius as i32)
    |                                                      ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:127:30
    |
127 |                         .min(image.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
127 -                         .min(image.cols() as i32 - 1) as usize;
127 +                         .min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:127:30
    |
127 |                         .min(image.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: the loop variable `k` is used to index `kernel`
   --> src/features2d/sift_f32.rs:138:26
    |
138 |                 for k in 0..kernel_size {
    |                          ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
138 -                 for k in 0..kernel_size {
138 +                 for (k, <item>) in kernel.iter().enumerate().take(kernel_size) {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:139:29
    |
139 |                       let r = (row as i32 + k as i32 - radius as i32)
    |  _____________________________^
140 | |                         .max(0)
141 | |                         .min(temp.rows() as i32 - 1) as usize;
    | |_____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:139:30
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
139 -                     let r = (row as i32 + k as i32 - radius as i32)
139 +                     let r = (i32::try_from(row) + k as i32 - radius as i32)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:139:30
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:139:43
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                                           ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
139 -                     let r = (row as i32 + k as i32 - radius as i32)
139 +                     let r = (row as i32 + i32::try_from(k) - radius as i32)
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:139:43
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                                           ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:139:54
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                                                      ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
139 -                     let r = (row as i32 + k as i32 - radius as i32)
139 +                     let r = (row as i32 + k as i32 - i32::try_from(radius))
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:139:54
    |
139 |                     let r = (row as i32 + k as i32 - radius as i32)
    |                                                      ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:141:30
    |
141 |                         .min(temp.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
141 -                         .min(temp.rows() as i32 - 1) as usize;
141 +                         .min(i32::try_from(temp.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:141:30
    |
141 |                         .min(temp.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:151:23
    |
151 |     fn downsample_f32(&self, image: &Mat) -> Result<Mat> {
    |                       ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:169:26
    |
169 |     fn build_dog_pyramid(&self, pyramid: &[Vec<Mat>]) -> Result<Vec<Vec<Mat>>> {
    |                          ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/sift_f32.rs:222:69
    |
222 | ...                   let sigma = self.sigma * (2.0_f32).powf(scale_idx as f32 / self.n_octave_layers as f32);
    |                                                               ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/sift_f32.rs:222:88
    |
222 | ...                   let sigma = self.sigma * (2.0_f32).powf(scale_idx as f32 / self.n_octave_layers as f32);
    |                                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:225:48
    |
225 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
225 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
225 +                                 pt: Point::new(i32::try_from(col) * scale, row as i32 * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:225:48
    |
225 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:225:68
    |
225 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
225 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
225 +                                 pt: Point::new(col as i32 * scale, i32::try_from(row) * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:225:68
    |
225 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/sift_f32.rs:226:47
    |
226 | ...                   size: sigma * scale as f32,
    |                                     ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:229:41
    |
229 | ...                   octave: octave_idx as i32,
    |                               ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -                                 octave: octave_idx as i32,
229 +                                 octave: i32::try_from(octave_idx),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:229:41
    |
229 | ...                   octave: octave_idx as i32,
    |                               ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:240:25
    |
240 |     fn is_local_maximum(&self, value: f32, prev: &Mat, curr: &Mat, next: &Mat, row: usize, col: usize) -> Result<bool> {
    |                         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:249:29
    |
249 |                     let r = (row as i32 + dy) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:249:30
    |
249 |                     let r = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
249 -                     let r = (row as i32 + dy) as usize;
249 +                     let r = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:249:30
    |
249 |                     let r = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:250:29
    |
250 |                     let c = (col as i32 + dx) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:250:30
    |
250 |                     let c = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
250 -                     let c = (col as i32 + dx) as usize;
250 +                     let c = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:250:30
    |
250 |                     let c = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this `if` statement can be collapsed
   --> src/features2d/sift_f32.rs:251:21
    |
251 | /                     if r < mat.rows() && c < mat.cols() {
252 | |                         if mat.at_f32(r, c, 0)? >= value {
253 | |                             return Ok(false);
254 | |                         }
255 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#collapsible_if
    = note: `#[warn(clippy::collapsible_if)]` on by default
help: collapse nested if block
    |
251 ~                     if r < mat.rows() && c < mat.cols()
252 ~                         && mat.at_f32(r, c, 0)? >= value {
253 |                             return Ok(false);
254 ~                         }
    |

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:262:25
    |
262 |     fn is_local_minimum(&self, value: f32, prev: &Mat, curr: &Mat, next: &Mat, row: usize, col: usize) -> Result<bool> {
    |                         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:271:29
    |
271 |                     let r = (row as i32 + dy) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:271:30
    |
271 |                     let r = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
271 -                     let r = (row as i32 + dy) as usize;
271 +                     let r = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:271:30
    |
271 |                     let r = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/sift_f32.rs:272:29
    |
272 |                     let c = (col as i32 + dx) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/sift_f32.rs:272:30
    |
272 |                     let c = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
272 -                     let c = (col as i32 + dx) as usize;
272 +                     let c = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/sift_f32.rs:272:30
    |
272 |                     let c = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this `if` statement can be collapsed
   --> src/features2d/sift_f32.rs:273:21
    |
273 | /                     if r < mat.rows() && c < mat.cols() {
274 | |                         if mat.at_f32(r, c, 0)? <= value {
275 | |                             return Ok(false);
276 | |                         }
277 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#collapsible_if
help: collapse nested if block
    |
273 ~                     if r < mat.rows() && c < mat.cols()
274 ~                         && mat.at_f32(r, c, 0)? <= value {
275 |                             return Ok(false);
276 ~                         }
    |

warning: unused `self` argument
   --> src/features2d/sift_f32.rs:284:28
    |
284 |     fn compute_descriptors(&self, _pyramid: &[Vec<Mat>], keypoints: &[KeyPoint]) -> Result<Vec<Vec<f32>>> {
    |                            ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/features2d/sift_f32.rs:284:5
    |
284 |     fn compute_descriptors(&self, _pyramid: &[Vec<Mat>], keypoints: &[KeyPoint]) -> Result<Vec<Vec<f32>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
284 -     fn compute_descriptors(&self, _pyramid: &[Vec<Mat>], keypoints: &[KeyPoint]) -> Result<Vec<Vec<f32>>> {
284 +     fn compute_descriptors(&self, _pyramid: &[Vec<Mat>], keypoints: &[KeyPoint]) -> std::vec::Vec<std::vec::Vec<f32>> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
288 -         Ok(descriptors)
288 +         descriptors
    |

warning: you should consider adding a `Default` implementation for `AKAZE`
  --> src/features2d/akaze.rs:36:5
   |
36 | /     pub fn new() -> Self {
37 | |         Self {
38 | |             descriptor_type: DescriptorType::MLDB,
39 | |             descriptor_size: 0, // 0 means full size (486 bits)
...  |
46 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
   = note: `#[warn(clippy::new_without_default)]` on by default
help: try adding this
   |
35 + impl Default for AKAZE {
36 +     fn default() -> Self {
37 +         Self::new()
38 +     }
39 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/akaze.rs:36:12
   |
36 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
36 ~     #[must_use] 
37 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/akaze.rs:48:12
   |
48 |     pub fn with_threshold(mut self, threshold: f64) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
48 ~     #[must_use] 
49 ~     pub fn with_threshold(mut self, threshold: f64) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/features2d/akaze.rs:48:5
   |
48 | /     pub fn with_threshold(mut self, threshold: f64) -> Self {
49 | |         self.threshold = threshold;
50 | |         self
51 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/akaze.rs:54:5
   |
54 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<u8>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/features2d/akaze.rs:81:27
   |
81 |                 let val = (image.at(row, col)?[0] as f32) / 255.0;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
81 -                 let val = (image.at(row, col)?[0] as f32) / 255.0;
81 +                 let val = f32::from(image.at(row, col)?[0]) / 255.0;
   |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/akaze.rs:91:55
   |
91 | ...   let sigma = sigma_0 * (2.0_f64).powf((layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64);
   |                                             ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/akaze.rs:91:70
   |
91 | ...   let sigma = sigma_0 * (2.0_f64).powf((layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64);
   |                                                            ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/akaze.rs:91:86
   |
91 | ...   let sigma = sigma_0 * (2.0_f64).powf((layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64);
   |                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/akaze.rs:91:117
   |
91 | ...   let sigma = sigma_0 * (2.0_f64).powf((layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64);
   |                                                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/features2d/akaze.rs:130:24
    |
130 |         let n_cycles = ((sigma * sigma / 0.25) as usize).max(1);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:130:24
    |
130 |         let n_cycles = ((sigma * sigma / 0.25) as usize).max(1);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/features2d/akaze.rs:131:26
    |
131 |         let tau = 0.25 / n_cycles as f64;
    |                          ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:159:60
    |
159 |                     let update = diffusivity * laplacian * tau as f32;
    |                                                            ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:170:20
    |
170 |         let k_sq = (k * k) as f32;
    |                    ^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: unused `self` argument
   --> src/features2d/akaze.rs:192:29
    |
192 |     fn compute_derivative_x(&self, image: &Mat) -> Result<Mat> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/akaze.rs:206:29
    |
206 |     fn compute_derivative_y(&self, image: &Mat) -> Result<Mat> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/akaze.rs:220:30
    |
220 |     fn compute_derivative_xx(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/akaze.rs:235:30
    |
235 |     fn compute_derivative_yy(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/akaze.rs:250:30
    |
250 |     fn compute_derivative_xy(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/akaze.rs:266:20
    |
266 |     fn half_sample(&self, image: &Mat) -> Result<Mat> {
    |                    ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:304:38
    |
304 |                     if det_hessian > self.threshold as f32 {
    |                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:309:48
    |
309 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
309 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
309 +                                 pt: Point::new(i32::try_from(col) * scale, row as i32 * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:309:48
    |
309 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:309:68
    |
309 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
309 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
309 +                                 pt: Point::new(col as i32 * scale, i32::try_from(row) * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:309:68
    |
309 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:310:39
    |
310 | ...                   size: step.sigma as f32,
    |                             ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:313:41
    |
313 | ...                   octave: step.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
313 -                                 octave: step.octave as i32,
313 +                                 octave: i32::try_from(step.octave),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:313:41
    |
313 | ...                   octave: step.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/akaze.rs:326:9
    |
326 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:338:29
    |
338 |                     let y = (row as i32 + dy) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:338:30
    |
338 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
338 -                     let y = (row as i32 + dy) as usize;
338 +                     let y = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:338:30
    |
338 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:339:29
    |
339 |                     let x = (col as i32 + dx) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:339:30
    |
339 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
339 -                     let x = (col as i32 + dx) as usize;
339 +                     let x = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:339:30
    |
339 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/akaze.rs:360:33
    |
360 |     fn compute_main_orientation(&self, step: &EvolutionStep, row: usize, col: usize) -> Result<f32> {
    |                                 ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:366:25
    |
366 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:366:26
    |
366 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
366 -                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
366 +                 let y = (i32::try_from(row) + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:366:26
    |
366 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:366:54
    |
366 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
366 -                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
366 +                 let y = (row as i32 + dy).max(0).min(i32::try_from(step.lx.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:366:54
    |
366 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:367:25
    |
367 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:367:26
    |
367 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
367 -                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
367 +                 let x = (i32::try_from(col) + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:367:26
    |
367 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:367:54
    |
367 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
367 -                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
367 +                 let x = (col as i32 + dx).max(0).min(i32::try_from(step.lx.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:367:54
    |
367 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:375:37
    |
375 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:375:74
    |
375 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                                                          ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:375:90
    |
375 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                                                                          ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/features2d/akaze.rs:377:27
    |
377 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:377:27
    |
377 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:377:46
    |
377 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                                              ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> src/features2d/akaze.rs:383:23
    |
383 |           let max_bin = hist
    |  _______________________^
384 | |             .iter()
385 | |             .enumerate()
386 | |             .max_by(|(_, a), (_, b)| a.partial_cmp(b).unwrap())
387 | |             .map(|(idx, _)| idx)
388 | |             .unwrap_or(0);
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#map_unwrap_or
    = note: `-W clippy::map-unwrap-or` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::map_unwrap_or)]`
help: use `map_or(<a>, <f>)` instead
    |
387 -             .map(|(idx, _)| idx)
387 +             .map_or(0, |(idx, _)| idx);
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:390:13
    |
390 |         Ok((max_bin as f32 * 10.0 - 180.0) * PI as f32 / 180.0)
    |             ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/akaze.rs:390:46
    |
390 |         Ok((max_bin as f32 * 10.0 - 180.0) * PI as f32 / 180.0)
    |                                              ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: unused `self` argument
   --> src/features2d/akaze.rs:394:28
    |
394 |     fn compute_descriptors(&self, evolution: &[EvolutionStep], keypoints: &[KeyPoint]) -> Result<Vec<Vec<u8>>> {
    |                            ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:402:26
    |
402 |             let octave = kp.octave as usize;
    |                          ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/akaze.rs:410:34
    |
410 |                 if (step.sigma - kp.size as f64).abs() < 0.1 {
    |                                  ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
410 -                 if (step.sigma - kp.size as f64).abs() < 0.1 {
410 +                 if (step.sigma - f64::from(kp.size)).abs() < 0.1 {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:418:23
    |
418 |             let row = (kp.pt.y / scale) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:419:23
    |
419 |             let col = (kp.pt.x / scale) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: manually reimplementing `div_ceil`
   --> src/features2d/akaze.rs:427:44
    |
427 |             let mut descriptor = vec![0u8; (num_bits + 7) / 8];
    |                                            ^^^^^^^^^^^^^^^^^^ help: consider using `.div_ceil()`: `num_bits.div_ceil(8)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_div_ceil
    = note: `#[warn(clippy::manual_div_ceil)]` on by default

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:440:32
    |
440 |                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
    |                                ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
440 -                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
440 +                     let dy1 = (i32::try_from(i) - pattern_size as i32 / 2) * 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:440:32
    |
440 |                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
    |                                ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:440:43
    |
440 |                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
    |                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
440 -                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
440 +                     let dy1 = (i as i32 - i32::try_from(pattern_size) / 2) * 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:440:43
    |
440 |                     let dy1 = (i as i32 - pattern_size as i32 / 2) * 2;
    |                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:441:32
    |
441 |                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
    |                                ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
441 -                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
441 +                     let dx1 = (i32::try_from(j) - pattern_size as i32 / 2) * 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:441:32
    |
441 |                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
    |                                ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:441:43
    |
441 |                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
    |                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
441 -                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
441 +                     let dx1 = (j as i32 - i32::try_from(pattern_size) / 2) * 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:441:43
    |
441 |                     let dx1 = (j as i32 - pattern_size as i32 / 2) * 2;
    |                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/akaze.rs:444:31
    |
444 |                     let ry1 = (dy1 as f32 * cos_angle - dx1 as f32 * sin_angle) as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:444:32
    |
444 |                     let ry1 = (dy1 as f32 * cos_angle - dx1 as f32 * sin_angle) as i32;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:444:57
    |
444 |                     let ry1 = (dy1 as f32 * cos_angle - dx1 as f32 * sin_angle) as i32;
    |                                                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/akaze.rs:445:31
    |
445 |                     let rx1 = (dy1 as f32 * sin_angle + dx1 as f32 * cos_angle) as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:445:32
    |
445 |                     let rx1 = (dy1 as f32 * sin_angle + dx1 as f32 * cos_angle) as i32;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:445:57
    |
445 |                     let rx1 = (dy1 as f32 * sin_angle + dx1 as f32 * cos_angle) as i32;
    |                                                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:447:30
    |
447 |                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:447:31
    |
447 |                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
447 -                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
447 +                     let y1 = (i32::try_from(row) + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:447:31
    |
447 |                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:447:60
    |
447 |                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
447 -                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
447 +                     let y1 = (row as i32 + ry1).max(0).min(i32::try_from(step.lx.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:447:60
    |
447 |                     let y1 = (row as i32 + ry1).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:448:30
    |
448 |                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:448:31
    |
448 |                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
448 -                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
448 +                     let x1 = (i32::try_from(col) + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:448:31
    |
448 |                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:448:60
    |
448 |                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
448 -                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
448 +                     let x1 = (col as i32 + rx1).max(0).min(i32::try_from(step.lx.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:448:60
    |
448 |                     let x1 = (col as i32 + rx1).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/akaze.rs:453:31
    |
453 |                     let ry2 = (dy2 as f32 * cos_angle - dx2 as f32 * sin_angle) as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:453:32
    |
453 |                     let ry2 = (dy2 as f32 * cos_angle - dx2 as f32 * sin_angle) as i32;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:453:57
    |
453 |                     let ry2 = (dy2 as f32 * cos_angle - dx2 as f32 * sin_angle) as i32;
    |                                                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/akaze.rs:454:31
    |
454 |                     let rx2 = (dy2 as f32 * sin_angle + dx2 as f32 * cos_angle) as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:454:32
    |
454 |                     let rx2 = (dy2 as f32 * sin_angle + dx2 as f32 * cos_angle) as i32;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/akaze.rs:454:57
    |
454 |                     let rx2 = (dy2 as f32 * sin_angle + dx2 as f32 * cos_angle) as i32;
    |                                                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:456:30
    |
456 |                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:456:31
    |
456 |                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
456 -                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
456 +                     let y2 = (i32::try_from(row) + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:456:31
    |
456 |                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:456:60
    |
456 |                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
456 -                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
456 +                     let y2 = (row as i32 + ry2).max(0).min(i32::try_from(step.lx.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:456:60
    |
456 |                     let y2 = (row as i32 + ry2).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/akaze.rs:457:30
    |
457 |                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:457:31
    |
457 |                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
457 -                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
457 +                     let x2 = (i32::try_from(col) + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:457:31
    |
457 |                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/akaze.rs:457:60
    |
457 |                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
457 -                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
457 +                     let x2 = (col as i32 + rx2).max(0).min(i32::try_from(step.lx.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/akaze.rs:457:60
    |
457 |                     let x2 = (col as i32 + rx2).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/kaze.rs:27:12
   |
27 |     pub fn new(extended: bool, upright: bool) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
27 ~     #[must_use] 
28 ~     pub fn new(extended: bool, upright: bool) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/kaze.rs:38:12
   |
38 |     pub fn with_threshold(mut self, threshold: f64) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
38 ~     #[must_use] 
39 ~     pub fn with_threshold(mut self, threshold: f64) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/features2d/kaze.rs:38:5
   |
38 | /     pub fn with_threshold(mut self, threshold: f64) -> Self {
39 | |         self.threshold = threshold;
40 | |         self
41 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/kaze.rs:44:5
   |
44 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<f32>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/features2d/kaze.rs:71:27
   |
71 |                 let val = (image.at(row, col)?[0] as f32) / 255.0;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
71 -                 let val = (image.at(row, col)?[0] as f32) / 255.0;
71 +                 let val = f32::from(image.at(row, col)?[0]) / 255.0;
   |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/kaze.rs:82:22
   |
82 |                     (layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64
   |                      ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/kaze.rs:82:37
   |
82 |                     (layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64
   |                                     ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/kaze.rs:82:53
   |
82 |                     (layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/kaze.rs:82:84
   |
82 |                     (layer as f64 + octave as f64 * self.n_octave_layers as f64) / self.n_octave_layers as f64
   |                                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/features2d/kaze.rs:121:28
    |
121 |         let n_iterations = ((sigma * sigma / 0.25) as usize).max(1);
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:121:28
    |
121 |         let n_iterations = ((sigma * sigma / 0.25) as usize).max(1);
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/features2d/kaze.rs:122:26
    |
122 |         let tau = 0.25 / n_iterations as f64;
    |                          ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:147:60
    |
147 |                     let update = diffusivity * laplacian * tau as f32;
    |                                                            ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:158:20
    |
158 |         let k_sq = (k * k) as f32;
    |                    ^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: unused `self` argument
   --> src/features2d/kaze.rs:180:29
    |
180 |     fn compute_derivative_x(&self, image: &Mat) -> Result<Mat> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/kaze.rs:194:29
    |
194 |     fn compute_derivative_y(&self, image: &Mat) -> Result<Mat> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/kaze.rs:208:30
    |
208 |     fn compute_derivative_xx(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/kaze.rs:223:30
    |
223 |     fn compute_derivative_yy(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/kaze.rs:238:30
    |
238 |     fn compute_derivative_xy(&self, image: &Mat) -> Result<Mat> {
    |                              ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/features2d/kaze.rs:254:20
    |
254 |     fn half_sample(&self, image: &Mat) -> Result<Mat> {
    |                    ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this `if` statement can be collapsed
   --> src/features2d/kaze.rs:291:21
    |
291 | /                     if det_hessian > self.threshold as f32 {
292 | |                         if self.is_local_maximum(det_hessian, step, prev, next, row, col)? {
293 | |                             let scale = 1 << step.octave;
294 | |                             let angle = if self.upright {
...   |
309 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#collapsible_if
help: collapse nested if block
    |
291 ~                     if det_hessian > self.threshold as f32
292 ~                         && self.is_local_maximum(det_hessian, step, prev, next, row, col)? {
293 |                             let scale = 1 << step.octave;
...
307 |                             keypoints.push(kp);
308 ~                         }
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:291:38
    |
291 |                     if det_hessian > self.threshold as f32 {
    |                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:301:48
    |
301 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
301 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
301 +                                 pt: Point::new(i32::try_from(col) * scale, row as i32 * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:301:48
    |
301 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                      ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:301:68
    |
301 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
301 -                                 pt: Point::new(col as i32 * scale, row as i32 * scale),
301 +                                 pt: Point::new(col as i32 * scale, i32::try_from(row) * scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:301:68
    |
301 | ...                   pt: Point::new(col as i32 * scale, row as i32 * scale),
    |                                                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:302:39
    |
302 | ...                   size: step.sigma as f32,
    |                             ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:305:41
    |
305 | ...                   octave: step.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
305 -                                 octave: step.octave as i32,
305 +                                 octave: i32::try_from(step.octave),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:305:41
    |
305 | ...                   octave: step.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/kaze.rs:318:9
    |
318 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:329:29
    |
329 |                     let y = (row as i32 + dy) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:329:30
    |
329 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
329 -                     let y = (row as i32 + dy) as usize;
329 +                     let y = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:329:30
    |
329 |                     let y = (row as i32 + dy) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:330:29
    |
330 |                     let x = (col as i32 + dx) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:330:30
    |
330 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
330 -                     let x = (col as i32 + dx) as usize;
330 +                     let x = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:330:30
    |
330 |                     let x = (col as i32 + dx) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/kaze.rs:351:33
    |
351 |     fn compute_main_orientation(&self, step: &EvolutionStep, row: usize, col: usize) -> Result<f32> {
    |                                 ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:357:25
    |
357 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:357:26
    |
357 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
357 -                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
357 +                 let y = (i32::try_from(row) + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:357:26
    |
357 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:357:54
    |
357 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
357 -                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
357 +                 let y = (row as i32 + dy).max(0).min(i32::try_from(step.lx.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:357:54
    |
357 |                 let y = (row as i32 + dy).max(0).min(step.lx.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:358:25
    |
358 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:358:26
    |
358 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
358 -                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
358 +                 let x = (i32::try_from(col) + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:358:26
    |
358 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:358:54
    |
358 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
358 -                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
358 +                 let x = (col as i32 + dx).max(0).min(i32::try_from(step.lx.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:358:54
    |
358 |                 let x = (col as i32 + dx).max(0).min(step.lx.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:366:37
    |
366 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:366:74
    |
366 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                                                          ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:366:90
    |
366 |                 let weight = mag * (-(dx * dx + dy * dy) as f32 / (2.0 * radius as f32 * radius as f32)).exp();
    |                                                                                          ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/features2d/kaze.rs:368:27
    |
368 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:368:27
    |
368 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:368:46
    |
368 |                 let bin = (((angle * 180.0 / PI as f32 + 180.0) / 10.0) as usize) % 36;
    |                                              ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> src/features2d/kaze.rs:373:23
    |
373 |           let max_bin = hist
    |  _______________________^
374 | |             .iter()
375 | |             .enumerate()
376 | |             .max_by(|(_, a), (_, b)| a.partial_cmp(b).unwrap())
377 | |             .map(|(idx, _)| idx)
378 | |             .unwrap_or(0);
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#map_unwrap_or
help: use `map_or(<a>, <f>)` instead
    |
377 -             .map(|(idx, _)| idx)
377 +             .map_or(0, |(idx, _)| idx);
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:380:13
    |
380 |         Ok((max_bin as f32 * 10.0 - 180.0) * PI as f32 / 180.0)
    |             ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/kaze.rs:380:46
    |
380 |         Ok((max_bin as f32 * 10.0 - 180.0) * PI as f32 / 180.0)
    |                                              ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/kaze.rs:392:34
    |
392 |                 if (step.sigma - kp.size as f64).abs() < 0.1 {
    |                                  ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
392 -                 if (step.sigma - kp.size as f64).abs() < 0.1 {
392 +                 if (step.sigma - f64::from(kp.size)).abs() < 0.1 {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:400:23
    |
400 |             let row = (kp.pt.y / scale) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:401:23
    |
401 |             let col = (kp.pt.x / scale) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this `if` has identical blocks
   --> src/features2d/kaze.rs:416:46
    |
416 |             let grid_size = if self.extended { 4 } else { 4 };
    |                                              ^^^^^
    |
note: same as this
   --> src/features2d/kaze.rs:416:57
    |
416 |             let grid_size = if self.extended { 4 } else { 4 };
    |                                                         ^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#if_same_then_else
    = note: `#[warn(clippy::if_same_then_else)]` on by default

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/kaze.rs:430:44
    |
430 | ...                   let y_offset = (grid_y * subregion_size + sub_y) as i32 - pattern_size as i32;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(grid_y * subregion_size + sub_y)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast
    = note: `#[warn(clippy::unnecessary_cast)]` on by default

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:430:87
    |
430 | ...                   let y_offset = (grid_y * subregion_size + sub_y) as i32 - pattern_size as i32;
    |                                                                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
430 -                             let y_offset = (grid_y * subregion_size + sub_y) as i32 - pattern_size as i32;
430 +                             let y_offset = (grid_y * subregion_size + sub_y) as i32 - i32::try_from(pattern_size);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:430:87
    |
430 | ...                   let y_offset = (grid_y * subregion_size + sub_y) as i32 - pattern_size as i32;
    |                                                                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/kaze.rs:431:44
    |
431 | ...                   let x_offset = (grid_x * subregion_size + sub_x) as i32 - pattern_size as i32;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `(grid_x * subregion_size + sub_x)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:431:87
    |
431 | ...                   let x_offset = (grid_x * subregion_size + sub_x) as i32 - pattern_size as i32;
    |                                                                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
431 -                             let x_offset = (grid_x * subregion_size + sub_x) as i32 - pattern_size as i32;
431 +                             let x_offset = (grid_x * subregion_size + sub_x) as i32 - i32::try_from(pattern_size);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:431:87
    |
431 | ...                   let x_offset = (grid_x * subregion_size + sub_x) as i32 - pattern_size as i32;
    |                                                                                 ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/kaze.rs:434:41
    |
434 | ...                   let y_rot = (y_offset as f32 * cos_angle - x_offset as f32 * sin_angle) as i32;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:434:42
    |
434 | ...                   let y_rot = (y_offset as f32 * cos_angle - x_offset as f32 * sin_angle) as i32;
    |                                    ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:434:72
    |
434 | ...                   let y_rot = (y_offset as f32 * cos_angle - x_offset as f32 * sin_angle) as i32;
    |                                                                  ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/kaze.rs:435:41
    |
435 | ...                   let x_rot = (y_offset as f32 * sin_angle + x_offset as f32 * cos_angle) as i32;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:435:42
    |
435 | ...                   let x_rot = (y_offset as f32 * sin_angle + x_offset as f32 * cos_angle) as i32;
    |                                    ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/kaze.rs:435:72
    |
435 | ...                   let x_rot = (y_offset as f32 * sin_angle + x_offset as f32 * cos_angle) as i32;
    |                                                                  ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:437:37
    |
437 | ...                   let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:437:38
    |
437 | ...                   let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
437 -                             let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
437 +                             let y = (i32::try_from(row) + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:437:38
    |
437 | ...                   let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:437:69
    |
437 | ...                   let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |                                                               ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
437 -                             let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
437 +                             let y = (row as i32 + y_rot).max(1).min(i32::try_from(step.lx.rows()) - 2) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:437:69
    |
437 | ...                   let y = (row as i32 + y_rot).max(1).min(step.lx.rows() as i32 - 2) as usize;
    |                                                               ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/kaze.rs:438:37
    |
438 | ...                   let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:438:38
    |
438 | ...                   let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
438 -                             let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
438 +                             let x = (i32::try_from(col) + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:438:38
    |
438 | ...                   let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/kaze.rs:438:69
    |
438 | ...                   let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |                                                               ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
438 -                             let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
438 +                             let x = (col as i32 + x_rot).max(1).min(i32::try_from(step.lx.cols()) - 2) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/kaze.rs:438:69
    |
438 | ...                   let x = (col as i32 + x_rot).max(1).min(step.lx.cols() as i32 - 2) as usize;
    |                                                               ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/brisk.rs:15:12
   |
15 |     pub fn new(threshold: i32, octaves: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
15 ~     #[must_use] 
16 ~     pub fn new(threshold: i32, octaves: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/brisk.rs:23:12
   |
23 |     pub fn with_pattern_scale(mut self, scale: f32) -> Self {
   |            ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
23 ~     #[must_use] 
24 ~     pub fn with_pattern_scale(mut self, scale: f32) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/features2d/brisk.rs:23:5
   |
23 | /     pub fn with_pattern_scale(mut self, scale: f32) -> Self {
24 | |         self.pattern_scale = scale;
25 | |         self
26 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/brisk.rs:29:5
   |
29 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<u8>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/features2d/brisk.rs:63:50
   |
63 |                 let sigma = 1.0 * (2.0_f64).powf(intra as f64 / 4.0);
   |                                                  ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `i32` may truncate the value
  --> src/features2d/brisk.rs:66:30
   |
66 |                 let ksize = ((sigma * 3.0) as i32 * 2 + 1).max(3);
   |                              ^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/brisk.rs:71:28
   |
71 |                     scale: scale as f32 * (2.0_f32).powf(intra as f32 / 4.0),
   |                            ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/brisk.rs:71:58
   |
71 |                     scale: scale as f32 * (2.0_f32).powf(intra as f32 / 4.0),
   |                                                          ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/brisk.rs:80:21
   |
80 |                     (current_image.cols() / 2).max(1) as i32,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
80 -                     (current_image.cols() / 2).max(1) as i32,
80 +                     i32::try_from((current_image.cols() / 2).max(1)),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/brisk.rs:80:21
   |
80 |                     (current_image.cols() / 2).max(1) as i32,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/brisk.rs:81:21
   |
81 |                     (current_image.rows() / 2).max(1) as i32,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
81 -                     (current_image.rows() / 2).max(1) as i32,
81 +                     i32::try_from((current_image.rows() / 2).max(1)),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/brisk.rs:81:21
   |
81 |                     (current_image.rows() / 2).max(1) as i32,
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:128:28
    |
128 |                         if val as i32 > center as i32 + self.threshold {
    |                            ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
128 -                         if val as i32 > center as i32 + self.threshold {
128 +                         if i32::from(val) > center as i32 + self.threshold {
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:128:41
    |
128 |                         if val as i32 > center as i32 + self.threshold {
    |                                         ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
128 -                         if val as i32 > center as i32 + self.threshold {
128 +                         if val as i32 > i32::from(center) + self.threshold {
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:130:35
    |
130 |                         } else if (val as i32) < center as i32 - self.threshold {
    |                                   ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
130 -                         } else if (val as i32) < center as i32 - self.threshold {
130 +                         } else if i32::from(val) < center as i32 - self.threshold {
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:130:50
    |
130 |                         } else if (val as i32) < center as i32 - self.threshold {
    |                                                  ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
130 -                         } else if (val as i32) < center as i32 - self.threshold {
130 +                         } else if (val as i32) < i32::from(center) - self.threshold {
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:139:36
    |
139 |                         if score > self.threshold as f32 {
    |                                    ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:142:48
    |
142 | ...                   pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
    |                                      ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
142 -                                 pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
142 +                                 pt: Point::new(i32::try_from(col) * physical_scale, row as i32 * physical_scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:142:48
    |
142 | ...                   pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
    |                                      ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:142:77
    |
142 | ...                   pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
    |                                                                   ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
142 -                                 pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
142 +                                 pt: Point::new(col as i32 * physical_scale, i32::try_from(row) * physical_scale),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:142:77
    |
142 | ...                   pt: Point::new(col as i32 * physical_scale, row as i32 * physical_scale),
    |                                                                   ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:146:41
    |
146 | ...                   octave: level.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
146 -                                 octave: level.octave as i32,
146 +                                 octave: i32::try_from(level.octave),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:146:41
    |
146 | ...                   octave: level.octave as i32,
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/brisk.rs:158:29
    |
158 |     fn compute_corner_score(&self, image: &Mat, row: usize, col: usize, center: u8) -> Result<f32> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:182:24
    |
182 |             let diff = (val as i32 - center as i32).abs() as f32;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:182:25
    |
182 |             let diff = (val as i32 - center as i32).abs() as f32;
    |                         ^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
182 -             let diff = (val as i32 - center as i32).abs() as f32;
182 +             let diff = (i32::from(val) - center as i32).abs() as f32;
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:182:38
    |
182 |             let diff = (val as i32 - center as i32).abs() as f32;
    |                                      ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
182 -             let diff = (val as i32 - center as i32).abs() as f32;
182 +             let diff = (val as i32 - i32::from(center)).abs() as f32;
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:197:23
    |
197 |             let row = kp.pt.y as usize;
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:198:23
    |
198 |             let col = kp.pt.x as usize;
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the variable `bit_idx` is used as a loop counter
   --> src/features2d/brisk.rs:215:13
    |
215 |             for i in 0..pattern.short_pairs.len() {
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `for (bit_idx, i) in (0..pattern.short_pairs.len()).enumerate()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#explicit_counter_loop
    = note: `#[warn(clippy::explicit_counter_loop)]` on by default

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:226:30
    |
226 |                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:226:31
    |
226 |                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
226 -                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
226 +                 let y1_abs = (i32::try_from(row) + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:226:31
    |
226 |                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:226:59
    |
226 |                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
226 -                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
226 +                 let y1_abs = (row as i32 + y1).max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:226:59
    |
226 |                 let y1_abs = (row as i32 + y1).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:227:30
    |
227 |                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:227:31
    |
227 |                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
227 -                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
227 +                 let x1_abs = (i32::try_from(col) + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:227:31
    |
227 |                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:227:59
    |
227 |                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
227 -                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
227 +                 let x1_abs = (col as i32 + x1).max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:227:59
    |
227 |                 let x1_abs = (col as i32 + x1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:228:30
    |
228 |                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:228:31
    |
228 |                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
228 -                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
228 +                 let y2_abs = (i32::try_from(row) + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:228:31
    |
228 |                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:228:59
    |
228 |                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
228 -                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
228 +                 let y2_abs = (row as i32 + y2).max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:228:59
    |
228 |                 let y2_abs = (row as i32 + y2).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:229:30
    |
229 |                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:229:31
    |
229 |                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
229 +                 let x2_abs = (i32::try_from(col) + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:229:31
    |
229 |                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:229:59
    |
229 |                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
229 +                 let x2_abs = (col as i32 + x2).max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:229:59
    |
229 |                 let x2_abs = (col as i32 + x2).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/features2d/brisk.rs:247:28
    |
247 |     fn compute_orientation(&self, image: &Mat, row: usize, col: usize, pattern: &BriskPattern) -> Result<f32> {
    |                            ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:253:22
    |
253 |             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:253:23
    |
253 |             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
253 -             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
253 +             let y1 = (i32::try_from(row) + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:253:23
    |
253 |             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:253:53
    |
253 |             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
253 -             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
253 +             let y1 = (row as i32 + p1.0).max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:253:53
    |
253 |             let y1 = (row as i32 + p1.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:254:22
    |
254 |             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:254:23
    |
254 |             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
254 -             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
254 +             let x1 = (i32::try_from(col) + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:254:23
    |
254 |             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:254:53
    |
254 |             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
254 -             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
254 +             let x1 = (col as i32 + p1.1).max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:254:53
    |
254 |             let x1 = (col as i32 + p1.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:255:22
    |
255 |             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:255:23
    |
255 |             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
255 -             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
255 +             let y2 = (i32::try_from(row) + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:255:23
    |
255 |             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:255:53
    |
255 |             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
255 -             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
255 +             let y2 = (row as i32 + p2.0).max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:255:53
    |
255 |             let y2 = (row as i32 + p2.0).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brisk.rs:256:22
    |
256 |             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:256:23
    |
256 |             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
256 -             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
256 +             let x2 = (i32::try_from(col) + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:256:23
    |
256 |             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brisk.rs:256:53
    |
256 |             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
256 -             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
256 +             let x2 = (col as i32 + p2.1).max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brisk.rs:256:53
    |
256 |             let x2 = (col as i32 + p2.1).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                     ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:258:24
    |
258 |             let val1 = image.at(y1, x1)?[0] as f32;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
258 -             let val1 = image.at(y1, x1)?[0] as f32;
258 +             let val1 = f32::from(image.at(y1, x1)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/features2d/brisk.rs:259:24
    |
259 |             let val2 = image.at(y2, x2)?[0] as f32;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
259 -             let val2 = image.at(y2, x2)?[0] as f32;
259 +             let val2 = f32::from(image.at(y2, x2)?[0]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:262:26
    |
262 |             gx += diff * (p2.1 - p1.1) as f32;
    |                          ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:263:26
    |
263 |             gy += diff * (p2.0 - p1.0) as f32;
    |                          ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/features2d/brisk.rs:269:21
    |
269 |     fn rotate_point(&self, dy: i32, dx: i32, cos_angle: f32, sin_angle: f32) -> (i32, i32) {
    |                     ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/brisk.rs:270:17
    |
270 |         let y = (dy as f32 * cos_angle - dx as f32 * sin_angle) as i32;
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:270:18
    |
270 |         let y = (dy as f32 * cos_angle - dx as f32 * sin_angle) as i32;
    |                  ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:270:42
    |
270 |         let y = (dy as f32 * cos_angle - dx as f32 * sin_angle) as i32;
    |                                          ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/brisk.rs:271:17
    |
271 |         let x = (dy as f32 * sin_angle + dx as f32 * cos_angle) as i32;
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:271:18
    |
271 |         let x = (dy as f32 * sin_angle + dx as f32 * cos_angle) as i32;
    |                  ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:271:42
    |
271 |         let x = (dy as f32 * sin_angle + dx as f32 * cos_angle) as i32;
    |                                          ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/features2d/brisk.rs:288:35
    |
288 |                 let angle = 2.0 * PI as f32 * i as f32 / n_points as f32;
    |                                   ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:288:47
    |
288 |                 let angle = 2.0 * PI as f32 * i as f32 / n_points as f32;
    |                                               ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:288:58
    |
288 |                 let angle = 2.0 * PI as f32 * i as f32 / n_points as f32;
    |                                                          ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/brisk.rs:290:26
    |
290 |                 let dy = (scaled_radius * angle.sin()) as i32;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/brisk.rs:291:26
    |
291 |                 let dx = (scaled_radius * angle.cos()) as i32;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/brisk.rs:305:28
    |
305 |                 let dist = (((dy2 - dy1) * (dy2 - dy1) + (dx2 - dx1) * (dx2 - dx1)) as f32).sqrt();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/orb.rs:19:12
   |
19 |     pub fn new(n_features: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
19 ~     #[must_use] 
20 ~     pub fn new(n_features: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/orb.rs:32:12
   |
32 |     pub fn with_scale_factor(mut self, scale_factor: f32) -> Self {
   |            ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
32 ~     #[must_use] 
33 ~     pub fn with_scale_factor(mut self, scale_factor: f32) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/features2d/orb.rs:32:5
   |
32 | /     pub fn with_scale_factor(mut self, scale_factor: f32) -> Self {
33 | |         self.scale_factor = scale_factor;
34 | |         self
35 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/orb.rs:37:12
   |
37 |     pub fn with_n_levels(mut self, n_levels: usize) -> Self {
   |            ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
37 ~     #[must_use] 
38 ~     pub fn with_n_levels(mut self, n_levels: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/features2d/orb.rs:37:5
   |
37 | /     pub fn with_n_levels(mut self, n_levels: usize) -> Self {
38 | |         self.n_levels = n_levels;
39 | |         self
40 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function which may panic missing `# Panics` section
  --> src/features2d/orb.rs:43:5
   |
43 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<u8>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/features2d/orb.rs:62:38
   |
62 |         all_keypoints.sort_by(|a, b| b.response.partial_cmp(&a.response).unwrap());
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/orb.rs:43:5
   |
43 |     pub fn detect_and_compute(&self, image: &Mat) -> Result<(Vec<KeyPoint>, Vec<Vec<u8>>)> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/features2d/orb.rs:67:25
   |
67 |             let level = kp.octave as usize;
   |                         ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `usize` may truncate the value
  --> src/features2d/orb.rs:85:28
   |
85 |             let new_rows = ((current.rows() as f32) / self.scale_factor) as usize;
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/features2d/orb.rs:85:28
   |
85 |             let new_rows = ((current.rows() as f32) / self.scale_factor) as usize;
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/orb.rs:85:29
   |
85 |             let new_rows = ((current.rows() as f32) / self.scale_factor) as usize;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
  --> src/features2d/orb.rs:86:28
   |
86 |             let new_cols = ((current.cols() as f32) / self.scale_factor) as usize;
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/features2d/orb.rs:86:28
   |
86 |             let new_cols = ((current.cols() as f32) / self.scale_factor) as usize;
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/orb.rs:86:29
   |
86 |             let new_cols = ((current.cols() as f32) / self.scale_factor) as usize;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
  --> src/features2d/orb.rs:99:19
   |
99 |     fn downsample(&self, image: &Mat, new_rows: usize, new_cols: usize) -> Result<Mat> {
   |                   ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:120:30
    |
120 |                 let center = image.at(row, col)?[0] as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
120 -                 let center = image.at(row, col)?[0] as i32;
120 +                 let center = i32::from(image.at(row, col)?[0]);
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:124:21
    |
124 |                     image.at(row - 3, col)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
124 -                     image.at(row - 3, col)?[0] as i32,
124 +                     i32::from(image.at(row - 3, col)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:125:21
    |
125 |                     image.at(row - 3, col + 1)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
125 -                     image.at(row - 3, col + 1)?[0] as i32,
125 +                     i32::from(image.at(row - 3, col + 1)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:126:21
    |
126 |                     image.at(row - 2, col + 2)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
126 -                     image.at(row - 2, col + 2)?[0] as i32,
126 +                     i32::from(image.at(row - 2, col + 2)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:127:21
    |
127 |                     image.at(row - 1, col + 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
127 -                     image.at(row - 1, col + 3)?[0] as i32,
127 +                     i32::from(image.at(row - 1, col + 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:128:21
    |
128 |                     image.at(row, col + 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
128 -                     image.at(row, col + 3)?[0] as i32,
128 +                     i32::from(image.at(row, col + 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:129:21
    |
129 |                     image.at(row + 1, col + 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
129 -                     image.at(row + 1, col + 3)?[0] as i32,
129 +                     i32::from(image.at(row + 1, col + 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:130:21
    |
130 |                     image.at(row + 2, col + 2)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
130 -                     image.at(row + 2, col + 2)?[0] as i32,
130 +                     i32::from(image.at(row + 2, col + 2)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:131:21
    |
131 |                     image.at(row + 3, col + 1)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
131 -                     image.at(row + 3, col + 1)?[0] as i32,
131 +                     i32::from(image.at(row + 3, col + 1)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:132:21
    |
132 |                     image.at(row + 3, col)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
132 -                     image.at(row + 3, col)?[0] as i32,
132 +                     i32::from(image.at(row + 3, col)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:133:21
    |
133 |                     image.at(row + 3, col - 1)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
133 -                     image.at(row + 3, col - 1)?[0] as i32,
133 +                     i32::from(image.at(row + 3, col - 1)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:134:21
    |
134 |                     image.at(row + 2, col - 2)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
134 -                     image.at(row + 2, col - 2)?[0] as i32,
134 +                     i32::from(image.at(row + 2, col - 2)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:135:21
    |
135 |                     image.at(row + 1, col - 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
135 -                     image.at(row + 1, col - 3)?[0] as i32,
135 +                     i32::from(image.at(row + 1, col - 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:136:21
    |
136 |                     image.at(row, col - 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
136 -                     image.at(row, col - 3)?[0] as i32,
136 +                     i32::from(image.at(row, col - 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:137:21
    |
137 |                     image.at(row - 1, col - 3)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
137 -                     image.at(row - 1, col - 3)?[0] as i32,
137 +                     i32::from(image.at(row - 1, col - 3)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:138:21
    |
138 |                     image.at(row - 2, col - 2)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
138 -                     image.at(row - 2, col - 2)?[0] as i32,
138 +                     i32::from(image.at(row - 2, col - 2)?[0]),
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:139:21
    |
139 |                     image.at(row - 3, col - 1)?[0] as i32,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
139 -                     image.at(row - 3, col - 1)?[0] as i32,
139 +                     i32::from(image.at(row - 3, col - 1)?[0]),
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:156:56
    |
156 |                     let scale = self.scale_factor.powi(level as i32);
    |                                                        ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
156 -                     let scale = self.scale_factor.powi(level as i32);
156 +                     let scale = self.scale_factor.powi(i32::try_from(level));
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:156:56
    |
156 |                     let scale = self.scale_factor.powi(level as i32);
    |                                                        ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:159:29
    |
159 | ...                   (col as f32 * scale) as i32,
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:159:30
    |
159 | ...                   (col as f32 * scale) as i32,
    |                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:160:29
    |
160 | ...                   (row as f32 * scale) as i32,
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:160:30
    |
160 | ...                   (row as f32 * scale) as i32,
    |                        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:162:31
    |
162 |                         size: self.patch_size as f32 * scale,
    |                               ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:164:35
    |
164 |                         response: brighter.max(darker) as f32,
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:165:33
    |
165 |                         octave: level as i32,
    |                                 ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
165 -                         octave: level as i32,
165 +                         octave: i32::try_from(level),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:165:33
    |
165 |                         octave: level as i32,
    |                                 ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/orb.rs:175:44
    |
175 |         let scale = self.scale_factor.powi(kp.octave as i32);
    |                                            ^^^^^^^^^^^^^^^^ help: try: `kp.octave`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting `f32` to `usize` may truncate the value
   --> src/features2d/orb.rs:176:19
    |
176 |         let row = (kp.pt.y as f32 / scale) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:176:19
    |
176 |         let row = (kp.pt.y as f32 / scale) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:176:20
    |
176 |         let row = (kp.pt.y as f32 / scale) as usize;
    |                    ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/features2d/orb.rs:177:19
    |
177 |         let col = (kp.pt.x as f32 / scale) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:177:19
    |
177 |         let col = (kp.pt.x as f32 / scale) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:177:20
    |
177 |         let col = (kp.pt.x as f32 / scale) as usize;
    |                    ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/orb.rs:184:20
    |
184 |         for dy in -(radius as i32)..=(radius as i32) {
    |                    ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/orb.rs:184:38
    |
184 |         for dy in -(radius as i32)..=(radius as i32) {
    |                                      ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/orb.rs:185:24
    |
185 |             for dx in -(radius as i32)..=(radius as i32) {
    |                        ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/features2d/orb.rs:185:42
    |
185 |             for dx in -(radius as i32)..=(radius as i32) {
    |                                          ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:186:25
    |
186 |                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:186:26
    |
186 |                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
186 -                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
186 +                 let y = (i32::try_from(row) + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:186:26
    |
186 |                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:186:54
    |
186 |                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
186 -                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
186 +                 let y = (row as i32 + dy).max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:186:54
    |
186 |                 let y = (row as i32 + dy).max(0).min(image.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:187:25
    |
187 |                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:187:26
    |
187 |                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
187 -                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
187 +                 let x = (i32::try_from(col) + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:187:26
    |
187 |                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:187:54
    |
187 |                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
187 -                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
187 +                 let x = (col as i32 + dx).max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:187:54
    |
187 |                 let x = (col as i32 + dx).max(0).min(image.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/features2d/orb.rs:189:27
    |
189 |                 let val = image.at(y, x)?[0] as f32;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
189 -                 let val = image.at(y, x)?[0] as f32;
189 +                 let val = f32::from(image.at(y, x)?[0]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:191:24
    |
191 |                 m01 += dy as f32 * val;
    |                        ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:192:24
    |
192 |                 m10 += dx as f32 * val;
    |                        ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:210:25
    |
210 |             let level = kp.octave as usize;
    |                         ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:216:48
    |
216 |             let scale = self.scale_factor.powi(level as i32);
    |                                                ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
216 -             let scale = self.scale_factor.powi(level as i32);
216 +             let scale = self.scale_factor.powi(i32::try_from(level));
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:216:48
    |
216 |             let scale = self.scale_factor.powi(level as i32);
    |                                                ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:217:23
    |
217 |             let row = (kp.pt.y as f32 / scale) as i32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:217:24
    |
217 |             let row = (kp.pt.y as f32 / scale) as i32;
    |                        ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:218:23
    |
218 |             let col = (kp.pt.x as f32 / scale) as i32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:218:24
    |
218 |             let col = (kp.pt.x as f32 / scale) as i32;
    |                        ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:220:48
    |
220 |             if row < self.patch_size || row >= image.rows() as i32 - self.patch_size
    |                                                ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
220 -             if row < self.patch_size || row >= image.rows() as i32 - self.patch_size
220 +             if row < self.patch_size || row >= i32::try_from(image.rows()) - self.patch_size
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:220:48
    |
220 |             if row < self.patch_size || row >= image.rows() as i32 - self.patch_size
    |                                                ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:221:52
    |
221 |                 || col < self.patch_size || col >= image.cols() as i32 - self.patch_size
    |                                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
221 -                 || col < self.patch_size || col >= image.cols() as i32 - self.patch_size
221 +                 || col < self.patch_size || col >= i32::try_from(image.cols()) - self.patch_size
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:221:52
    |
221 |                 || col < self.patch_size || col >= image.cols() as i32 - self.patch_size
    |                                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:238:30
    |
238 |                 let x1_rot = (p1.0 as f32 * cos_angle - p1.1 as f32 * sin_angle) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:238:31
    |
238 |                 let x1_rot = (p1.0 as f32 * cos_angle - p1.1 as f32 * sin_angle) as i32;
    |                               ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:238:57
    |
238 |                 let x1_rot = (p1.0 as f32 * cos_angle - p1.1 as f32 * sin_angle) as i32;
    |                                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:239:30
    |
239 |                 let y1_rot = (p1.0 as f32 * sin_angle + p1.1 as f32 * cos_angle) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:239:31
    |
239 |                 let y1_rot = (p1.0 as f32 * sin_angle + p1.1 as f32 * cos_angle) as i32;
    |                               ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:239:57
    |
239 |                 let y1_rot = (p1.0 as f32 * sin_angle + p1.1 as f32 * cos_angle) as i32;
    |                                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:240:30
    |
240 |                 let x2_rot = (p2.0 as f32 * cos_angle - p2.1 as f32 * sin_angle) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:240:31
    |
240 |                 let x2_rot = (p2.0 as f32 * cos_angle - p2.1 as f32 * sin_angle) as i32;
    |                               ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:240:57
    |
240 |                 let x2_rot = (p2.0 as f32 * cos_angle - p2.1 as f32 * sin_angle) as i32;
    |                                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:241:30
    |
241 |                 let y2_rot = (p2.0 as f32 * sin_angle + p2.1 as f32 * cos_angle) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:241:31
    |
241 |                 let y2_rot = (p2.0 as f32 * sin_angle + p2.1 as f32 * cos_angle) as i32;
    |                               ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:241:57
    |
241 |                 let y2_rot = (p2.0 as f32 * sin_angle + p2.1 as f32 * cos_angle) as i32;
    |                                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:248:36
    |
248 |                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
248 -                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
248 +                 if y1 >= 0 && y1 < i32::try_from(image.rows()) && x1 >= 0 && x1 < image.cols() as i32
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:248:36
    |
248 |                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:248:75
    |
248 |                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
    |                                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
248 -                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
248 +                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < i32::try_from(image.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:248:75
    |
248 |                 if y1 >= 0 && y1 < image.rows() as i32 && x1 >= 0 && x1 < image.cols() as i32
    |                                                                           ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:249:40
    |
249 |                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
249 -                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
249 +                     && y2 >= 0 && y2 < i32::try_from(image.rows()) && x2 >= 0 && x2 < image.cols() as i32
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:249:40
    |
249 |                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/orb.rs:249:79
    |
249 |                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
    |                                                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
249 -                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
249 +                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < i32::try_from(image.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/orb.rs:249:79
    |
249 |                     && y2 >= 0 && y2 < image.rows() as i32 && x2 >= 0 && x2 < image.cols() as i32
    |                                                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:251:41
    |
251 |                     let val1 = image.at(y1 as usize, x1 as usize)?[0];
    |                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:251:54
    |
251 |                     let val1 = image.at(y1 as usize, x1 as usize)?[0];
    |                                                      ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:252:41
    |
252 |                     let val2 = image.at(y2 as usize, x2 as usize)?[0];
    |                                         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/orb.rs:252:54
    |
252 |                     let val2 = image.at(y2 as usize, x2 as usize)?[0];
    |                                                      ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:272:24
    |
272 |             let seed = i as f32;
    |                        ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:273:22
    |
273 |             let x1 = ((seed * 13.0).sin() * half_patch as f32) as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:273:45
    |
273 |             let x1 = ((seed * 13.0).sin() * half_patch as f32) as i32;
    |                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:274:22
    |
274 |             let y1 = ((seed * 17.0).cos() * half_patch as f32) as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:274:45
    |
274 |             let y1 = ((seed * 17.0).cos() * half_patch as f32) as i32;
    |                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:275:22
    |
275 |             let x2 = ((seed * 19.0).sin() * half_patch as f32) as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:275:45
    |
275 |             let x2 = ((seed * 19.0).sin() * half_patch as f32) as i32;
    |                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/orb.rs:276:22
    |
276 |             let y2 = ((seed * 23.0).cos() * half_patch as f32) as i32;
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/orb.rs:276:45
    |
276 |             let y2 = ((seed * 23.0).cos() * half_patch as f32) as i32;
    |                                             ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `BRIEF`
  --> src/features2d/brief.rs:16:5
   |
16 | /     pub fn new() -> Self {
17 | |         Self::with_params(32, 48, false)
18 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
14 + impl Default for BRIEF {
15 +     fn default() -> Self {
16 +         Self::new()
17 +     }
18 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/brief.rs:16:12
   |
16 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
16 ~     #[must_use] 
17 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/brief.rs:21:12
   |
21 |     pub fn with_params(bytes: usize, patch_size: i32, use_orientation: bool) -> Self {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
21 ~     #[must_use] 
22 ~     pub fn with_params(bytes: usize, patch_size: i32, use_orientation: bool) -> Self {
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/features2d/brief.rs:40:21
   |
40 |         let sigma = self.patch_size as f64 / 5.0;
   |                     ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
40 -         let sigma = self.patch_size as f64 / 5.0;
40 +         let sigma = f64::from(self.patch_size) / 5.0;
   |

warning: casting `f64` to `i32` may truncate the value
  --> src/features2d/brief.rs:50:33
   |
50 |             let p1 = Point::new(x1 as i32, y1 as i32);
   |                                 ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/features2d/brief.rs:50:44
   |
50 |             let p1 = Point::new(x1 as i32, y1 as i32);
   |                                            ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/features2d/brief.rs:51:33
   |
51 |             let p2 = Point::new(x2 as i32, y2 as i32);
   |                                 ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/features2d/brief.rs:51:44
   |
51 |             let p2 = Point::new(x2 as i32, y2 as i32);
   |                                            ^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function returning `Result` missing `# Errors` section
  --> src/features2d/brief.rs:58:5
   |
58 |     pub fn compute(&self, image: &Mat, keypoints: &[KeyPoint]) -> Result<Vec<Vec<u8>>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/features2d/brief.rs:83:25
   |
83 |             let angle = keypoint.angle as f64 * std::f64::consts::PI / 180.0;
   |                         ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
83 -             let angle = keypoint.angle as f64 * std::f64::consts::PI / 180.0;
83 +             let angle = f64::from(keypoint.angle) * std::f64::consts::PI / 180.0;
   |

warning: the loop variable `byte_idx` is used to index `descriptor`
  --> src/features2d/brief.rs:89:25
   |
89 |         for byte_idx in 0..self.bytes {
   |                         ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
89 -         for byte_idx in 0..self.bytes {
89 +         for (byte_idx, <item>) in descriptor.iter_mut().enumerate().take(self.bytes) {
   |

warning: casting `f64` to `i32` may truncate the value
   --> src/features2d/brief.rs:102:32
    |
102 |                     center_x + (p1.x as f64 * cos_angle - p1.y as f64 * sin_angle) as i32
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:102:33
    |
102 |                     center_x + (p1.x as f64 * cos_angle - p1.y as f64 * sin_angle) as i32
    |                                 ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
102 -                     center_x + (p1.x as f64 * cos_angle - p1.y as f64 * sin_angle) as i32
102 +                     center_x + (f64::from(p1.x) * cos_angle - p1.y as f64 * sin_angle) as i32
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:102:59
    |
102 |                     center_x + (p1.x as f64 * cos_angle - p1.y as f64 * sin_angle) as i32
    |                                                           ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
102 -                     center_x + (p1.x as f64 * cos_angle - p1.y as f64 * sin_angle) as i32
102 +                     center_x + (p1.x as f64 * cos_angle - f64::from(p1.y) * sin_angle) as i32
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/features2d/brief.rs:108:32
    |
108 |                     center_y + (p1.x as f64 * sin_angle + p1.y as f64 * cos_angle) as i32
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:108:33
    |
108 |                     center_y + (p1.x as f64 * sin_angle + p1.y as f64 * cos_angle) as i32
    |                                 ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
108 -                     center_y + (p1.x as f64 * sin_angle + p1.y as f64 * cos_angle) as i32
108 +                     center_y + (f64::from(p1.x) * sin_angle + p1.y as f64 * cos_angle) as i32
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:108:59
    |
108 |                     center_y + (p1.x as f64 * sin_angle + p1.y as f64 * cos_angle) as i32
    |                                                           ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
108 -                     center_y + (p1.x as f64 * sin_angle + p1.y as f64 * cos_angle) as i32
108 +                     center_y + (p1.x as f64 * sin_angle + f64::from(p1.y) * cos_angle) as i32
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/features2d/brief.rs:114:32
    |
114 |                     center_x + (p2.x as f64 * cos_angle - p2.y as f64 * sin_angle) as i32
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:114:33
    |
114 |                     center_x + (p2.x as f64 * cos_angle - p2.y as f64 * sin_angle) as i32
    |                                 ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
114 -                     center_x + (p2.x as f64 * cos_angle - p2.y as f64 * sin_angle) as i32
114 +                     center_x + (f64::from(p2.x) * cos_angle - p2.y as f64 * sin_angle) as i32
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:114:59
    |
114 |                     center_x + (p2.x as f64 * cos_angle - p2.y as f64 * sin_angle) as i32
    |                                                           ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
114 -                     center_x + (p2.x as f64 * cos_angle - p2.y as f64 * sin_angle) as i32
114 +                     center_x + (p2.x as f64 * cos_angle - f64::from(p2.y) * sin_angle) as i32
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/features2d/brief.rs:120:32
    |
120 |                     center_y + (p2.x as f64 * sin_angle + p2.y as f64 * cos_angle) as i32
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:120:33
    |
120 |                     center_y + (p2.x as f64 * sin_angle + p2.y as f64 * cos_angle) as i32
    |                                 ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
120 -                     center_y + (p2.x as f64 * sin_angle + p2.y as f64 * cos_angle) as i32
120 +                     center_y + (f64::from(p2.x) * sin_angle + p2.y as f64 * cos_angle) as i32
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/features2d/brief.rs:120:59
    |
120 |                     center_y + (p2.x as f64 * sin_angle + p2.y as f64 * cos_angle) as i32
    |                                                           ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
120 -                     center_y + (p2.x as f64 * sin_angle + p2.y as f64 * cos_angle) as i32
120 +                     center_y + (p2.x as f64 * sin_angle + f64::from(p2.y) * cos_angle) as i32
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brief.rs:126:26
    |
126 |                 let x1 = x1.max(0).min(image.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brief.rs:126:40
    |
126 |                 let x1 = x1.max(0).min(image.cols() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
126 -                 let x1 = x1.max(0).min(image.cols() as i32 - 1) as usize;
126 +                 let x1 = x1.max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brief.rs:126:40
    |
126 |                 let x1 = x1.max(0).min(image.cols() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brief.rs:127:26
    |
127 |                 let y1 = y1.max(0).min(image.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brief.rs:127:40
    |
127 |                 let y1 = y1.max(0).min(image.rows() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
127 -                 let y1 = y1.max(0).min(image.rows() as i32 - 1) as usize;
127 +                 let y1 = y1.max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brief.rs:127:40
    |
127 |                 let y1 = y1.max(0).min(image.rows() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brief.rs:128:26
    |
128 |                 let x2 = x2.max(0).min(image.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brief.rs:128:40
    |
128 |                 let x2 = x2.max(0).min(image.cols() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
128 -                 let x2 = x2.max(0).min(image.cols() as i32 - 1) as usize;
128 +                 let x2 = x2.max(0).min(i32::try_from(image.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brief.rs:128:40
    |
128 |                 let x2 = x2.max(0).min(image.cols() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/brief.rs:129:26
    |
129 |                 let y2 = y2.max(0).min(image.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/brief.rs:129:40
    |
129 |                 let y2 = y2.max(0).min(image.rows() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
129 -                 let y2 = y2.max(0).min(image.rows() as i32 - 1) as usize;
129 +                 let y2 = y2.max(0).min(i32::try_from(image.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/brief.rs:129:40
    |
129 |                 let y2 = y2.max(0).min(image.rows() as i32 - 1) as usize;
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/features2d/brief.rs:160:9
    |
160 |         ((self.state / 65536) % 32768) as f64 / 32768.0
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `FREAK`
  --> src/features2d/freak.rs:25:5
   |
25 | /     pub fn new() -> Self {
26 | |         Self::with_params(true, true, 22.0)
27 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
23 + impl Default for FREAK {
24 +     fn default() -> Self {
25 +         Self::new()
26 +     }
27 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/freak.rs:25:12
   |
25 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
25 ~     #[must_use] 
26 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/features2d/freak.rs:30:12
   |
30 |     pub fn with_params(
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
30 ~     #[must_use] 
31 ~     pub fn with_params(
   |

warning: the loop variable `layer` is used to index `num_points_per_layer`
  --> src/features2d/freak.rs:55:22
   |
55 |         for layer in 0..num_layers {
   |                      ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
55 -         for layer in 0..num_layers {
55 +         for (layer, <item>) in num_points_per_layer.iter().enumerate().take(num_layers) {
   |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/features2d/freak.rs:56:44
   |
56 |             let radius_scale = 2.0f32.powi(layer as i32);
   |                                            ^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
56 -             let radius_scale = 2.0f32.powi(layer as i32);
56 +             let radius_scale = 2.0f32.powi(i32::try_from(layer));
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/features2d/freak.rs:56:44
   |
56 |             let radius_scale = 2.0f32.powi(layer as i32);
   |                                            ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/freak.rs:72:62
   |
72 |                     let angle = 2.0 * std::f32::consts::PI * i as f32 / num_points as f32;
   |                                                              ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/features2d/freak.rs:72:73
   |
72 |                     let angle = 2.0 * std::f32::consts::PI * i as f32 / num_points as f32;
   |                                                                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/features2d/freak.rs:113:5
    |
113 |     pub fn compute(&self, image: &Mat, keypoints: &[KeyPoint]) -> Result<Vec<Vec<u8>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting to the same type is unnecessary (`f32` -> `f32`)
   --> src/features2d/freak.rs:141:13
    |
141 |             keypoint.angle as f32
    |             ^^^^^^^^^^^^^^^^^^^^^ help: try: `keypoint.angle`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: the loop variable `byte_idx` is used to index `descriptor`
   --> src/features2d/freak.rs:148:25
    |
148 |         for byte_idx in 0..descriptor_bytes {
    |                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
148 -         for byte_idx in 0..descriptor_bytes {
148 +         for (byte_idx, <item>) in descriptor.iter_mut().enumerate().take(descriptor_bytes) {
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/freak.rs:186:21
    |
186 |             let x = keypoint.pt.x as f32 + rf.center.x * scale;
    |                     ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/freak.rs:187:21
    |
187 |             let y = keypoint.pt.y as f32 + rf.center.y * scale;
    |                     ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/freak.rs:193:33
    |
193 |             let sample_radius = (rf.radius * scale).max(1.0) as i32;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/freak.rs:197:30
    |
197 |                     let px = (x + dx as f32) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/freak.rs:197:35
    |
197 |                     let px = (x + dx as f32) as i32;
    |                                   ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/features2d/freak.rs:198:30
    |
198 |                     let py = (y + dy as f32) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/freak.rs:198:35
    |
198 |                     let py = (y + dy as f32) as i32;
    |                                   ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/freak.rs:200:40
    |
200 |                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
200 -                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
200 +                     if px >= 0 && px < i32::try_from(image.cols()) && py >= 0 && py < image.rows() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/freak.rs:200:40
    |
200 |                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
    |                                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/features2d/freak.rs:200:79
    |
200 |                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
    |                                                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
200 -                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
200 +                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < i32::try_from(image.rows()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/features2d/freak.rs:200:79
    |
200 |                     if px >= 0 && px < image.cols() as i32 && py >= 0 && py < image.rows() as i32 {
    |                                                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/freak.rs:201:46
    |
201 |                         let pixel = image.at(py as usize, px as usize)?;
    |                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/features2d/freak.rs:201:59
    |
201 |                         let pixel = image.at(py as usize, px as usize)?;
    |                                                           ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/features2d/freak.rs:202:32
    |
202 |                         sum += pixel[0] as f32;
    |                                ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
202 -                         sum += pixel[0] as f32;
202 +                         sum += f32::from(pixel[0]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/features2d/freak.rs:209:23
    |
209 |                 sum / count as f32
    |                       ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the loop variable `i` is used to index `intensities`
   --> src/features2d/freak.rs:225:18
    |
225 |         for i in 0..self.receptive_fields.len().min(intensities.len()) {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
225 -         for i in 0..self.receptive_fields.len().min(intensities.len()) {
225 +         for (i, <item>) in intensities.iter().enumerate().take(self.receptive_fields.len().min(intensities.len())) {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/optical_flow.rs:6:1
   |
 6 | / pub fn calc_optical_flow_pyr_lk(
 7 | |     prev_img: &Mat,
 8 | |     next_img: &Mat,
 9 | |     prev_pts: &[Point],
10 | |     win_size: Size,
11 | |     max_level: i32,
12 | | ) -> Result<(Vec<Point>, Vec<u8>)> {
   | |__________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/optical_flow.rs:32:39
   |
32 |         if pt.x < half_win || pt.x >= prev_img.cols() as i32 - half_win
   |                                       ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
32 -         if pt.x < half_win || pt.x >= prev_img.cols() as i32 - half_win
32 +         if pt.x < half_win || pt.x >= i32::try_from(prev_img.cols()) - half_win
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/optical_flow.rs:32:39
   |
32 |         if pt.x < half_win || pt.x >= prev_img.cols() as i32 - half_win
   |                                       ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/optical_flow.rs:33:43
   |
33 |             || pt.y < half_win || pt.y >= prev_img.rows() as i32 - half_win
   |                                           ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
33 -             || pt.y < half_win || pt.y >= prev_img.rows() as i32 - half_win
33 +             || pt.y < half_win || pt.y >= i32::try_from(prev_img.rows()) - half_win
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/optical_flow.rs:33:43
   |
33 |             || pt.y < half_win || pt.y >= prev_img.rows() as i32 - half_win
   |                                           ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/optical_flow.rs:51:55
   |
51 |                 if new_pt.x < half_win || new_pt.x >= next_img.cols() as i32 - half_win
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
51 -                 if new_pt.x < half_win || new_pt.x >= next_img.cols() as i32 - half_win
51 +                 if new_pt.x < half_win || new_pt.x >= i32::try_from(next_img.cols()) - half_win
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/optical_flow.rs:51:55
   |
51 |                 if new_pt.x < half_win || new_pt.x >= next_img.cols() as i32 - half_win
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/optical_flow.rs:52:59
   |
52 |                     || new_pt.y < half_win || new_pt.y >= next_img.rows() as i32 - half_win
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
52 -                     || new_pt.y < half_win || new_pt.y >= next_img.rows() as i32 - half_win
52 +                     || new_pt.y < half_win || new_pt.y >= i32::try_from(next_img.rows()) - half_win
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/optical_flow.rs:52:59
   |
52 |                     || new_pt.y < half_win || new_pt.y >= next_img.rows() as i32 - half_win
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/video/optical_flow.rs:62:28
   |
62 |                 let dist = ((dx * dx + dy * dy) as f64).sqrt();
   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
62 -                 let dist = ((dx * dx + dy * dy) as f64).sqrt();
62 +                 let dist = f64::from(dx * dx + dy * dy).sqrt();
   |

warning: boolean to int conversion using if
  --> src/video/optical_flow.rs:73:21
   |
73 |         status.push(if best_error < 1000.0 { 1 } else { 0 });
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with from: `u8::from(best_error < 1000.0)`
   |
   = note: `(best_error < 1000.0) as u8` or `(best_error < 1000.0).into()` can also be valid options
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#bool_to_int_with_if
   = note: `-W clippy::bool-to-int-with-if` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::bool_to_int_with_if)]`

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/video/optical_flow.rs:90:22
   |
90 |             let y1 = (pt1.y + dy) as usize;
   |                      ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/video/optical_flow.rs:91:22
   |
91 |             let x1 = (pt1.x + dx) as usize;
   |                      ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/video/optical_flow.rs:92:22
   |
92 |             let y2 = (pt2.y + dy) as usize;
   |                      ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/video/optical_flow.rs:93:22
   |
93 |             let x2 = (pt2.x + dx) as usize;
   |                      ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/optical_flow.rs:95:24
   |
95 |             let val1 = img1.at(y1, x1)?[0] as f64;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
95 -             let val1 = img1.at(y1, x1)?[0] as f64;
95 +             let val1 = f64::from(img1.at(y1, x1)?[0]);
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/optical_flow.rs:96:24
   |
96 |             let val2 = img2.at(y2, x2)?[0] as f64;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
96 -             let val2 = img2.at(y2, x2)?[0] as f64;
96 +             let val2 = f64::from(img2.at(y2, x2)?[0]);
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/optical_flow.rs:107:1
    |
107 | / pub fn calc_optical_flow_farneback(
108 | |     prev: &Mat,
109 | |     next: &Mat,
110 | |     pyr_scale: f64,
...   |
113 | |     iterations: i32,
114 | | ) -> Result<Mat> {
    | |________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/video/optical_flow.rs:131:5
    |
131 |     use crate::imgproc::sobel;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/optical_flow.rs:143:16
    |
143 |     for row in (half_block as usize)..(prev.rows() - half_block as usize) {
    |                ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/optical_flow.rs:143:54
    |
143 |     for row in (half_block as usize)..(prev.rows() - half_block as usize) {
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/optical_flow.rs:144:20
    |
144 |         for col in (half_block as usize)..(prev.cols() - half_block as usize) {
    |                    ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/optical_flow.rs:144:58
    |
144 |         for col in (half_block as usize)..(prev.cols() - half_block as usize) {
    |                                                          ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/optical_flow.rs:145:33
    |
145 |             let pt = Point::new(col as i32, row as i32);
    |                                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
145 -             let pt = Point::new(col as i32, row as i32);
145 +             let pt = Point::new(i32::try_from(col), row as i32);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/optical_flow.rs:145:33
    |
145 |             let pt = Point::new(col as i32, row as i32);
    |                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/optical_flow.rs:145:45
    |
145 |             let pt = Point::new(col as i32, row as i32);
    |                                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
145 -             let pt = Point::new(col as i32, row as i32);
145 +             let pt = Point::new(col as i32, i32::try_from(row));
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/optical_flow.rs:145:45
    |
145 |             let pt = Point::new(col as i32, row as i32);
    |                                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/optical_flow.rs:156:61
    |
156 |                     if new_pt.x >= half_block && new_pt.x < next.cols() as i32 - half_block
    |                                                             ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
156 -                     if new_pt.x >= half_block && new_pt.x < next.cols() as i32 - half_block
156 +                     if new_pt.x >= half_block && new_pt.x < i32::try_from(next.cols()) - half_block
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/optical_flow.rs:156:61
    |
156 |                     if new_pt.x >= half_block && new_pt.x < next.cols() as i32 - half_block
    |                                                             ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/optical_flow.rs:157:65
    |
157 |                         && new_pt.y >= half_block && new_pt.y < next.rows() as i32 - half_block
    |                                                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
157 -                         && new_pt.y >= half_block && new_pt.y < next.rows() as i32 - half_block
157 +                         && new_pt.y >= half_block && new_pt.y < i32::try_from(next.rows()) - half_block
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/optical_flow.rs:157:65
    |
157 |                         && new_pt.y >= half_block && new_pt.y < next.rows() as i32 - half_block
    |                                                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `u8` may lose the sign of the value
   --> src/video/optical_flow.rs:171:29
    |
171 |             flow_pixel[0] = (best_dx + 128).clamp(0, 255) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `u8` may lose the sign of the value
   --> src/video/optical_flow.rs:172:29
    |
172 |             flow_pixel[1] = (best_dy + 128).clamp(0, 255) as u8;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this method could have a `#[must_use]` attribute
  --> src/video/tracking.rs:13:12
   |
13 |     pub fn new(history: i32, var_threshold: f64) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
13 ~     #[must_use] 
14 ~     pub fn new(history: i32, var_threshold: f64) -> Self {
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/video/tracking.rs:16:26
   |
16 |             max_history: history as usize,
   |                          ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function which may panic missing `# Panics` section
  --> src/video/tracking.rs:21:5
   |
21 |     pub fn apply(&mut self, image: &Mat, learning_rate: f64) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/video/tracking.rs:64:45
   |
64 |                 history_vals.sort_by(|a, b| a.partial_cmp(b).unwrap());
   |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/tracking.rs:21:5
   |
21 |     pub fn apply(&mut self, image: &Mat, learning_rate: f64) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:54:29
   |
54 | ...                   hist_pixel[0] as f64
   |                       ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
54 -                             hist_pixel[0] as f64
54 +                             f64::from(hist_pixel[0])
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:57:30
   |
57 | ...                   (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
   |                        ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
57 -                             (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
57 +                             (f64::from(hist_pixel[0]) + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:57:53
   |
57 | ...                   (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
   |                                               ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
57 -                             (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
57 +                             (hist_pixel[0] as f64 + f64::from(hist_pixel[1]) + hist_pixel[2] as f64) / 3.0
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:57:76
   |
57 | ...                   (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
   |                                                                      ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
57 -                             (hist_pixel[0] as f64 + hist_pixel[1] as f64 + hist_pixel[2] as f64) / 3.0
57 +                             (hist_pixel[0] as f64 + hist_pixel[1] as f64 + f64::from(hist_pixel[2])) / 3.0
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:73:21
   |
73 |                     current_pixel[0] as f64
   |                     ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
73 -                     current_pixel[0] as f64
73 +                     f64::from(current_pixel[0])
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:75:22
   |
75 |                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
   |                      ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
75 -                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
75 +                     (f64::from(current_pixel[0]) + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:75:48
   |
75 |                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
   |                                                ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
75 -                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
75 +                     (current_pixel[0] as f64 + f64::from(current_pixel[1]) + current_pixel[2] as f64) / 3.0
   |

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/video/tracking.rs:75:74
   |
75 |                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
   |                                                                          ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
75 -                     (current_pixel[0] as f64 + current_pixel[1] as f64 + current_pixel[2] as f64) / 3.0
75 +                     (current_pixel[0] as f64 + current_pixel[1] as f64 + f64::from(current_pixel[2])) / 3.0
   |

warning: item in documentation is missing backticks
  --> src/video/tracking.rs:89:5
   |
89 | /// MeanShift tracker
   |     ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
89 - /// MeanShift tracker
89 + /// `MeanShift` tracker
   |

warning: this method could have a `#[must_use]` attribute
  --> src/video/tracking.rs:97:12
   |
97 |     pub fn new(window: Rect) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
97 ~     #[must_use] 
98 ~     pub fn new(window: Rect) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/tracking.rs:105:5
    |
105 |     pub fn track(&mut self, prob_image: &Mat) -> Result<Rect> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/tracking.rs:122:38
    |
122 |                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
122 -                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
122 +                     if y >= 0 && y < i32::try_from(prob_image.rows()) && x >= 0 && x < prob_image.cols() as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/tracking.rs:122:38
    |
122 |                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/tracking.rs:122:80
    |
122 |                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
    |                                                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
122 -                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
122 +                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < i32::try_from(prob_image.cols()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/tracking.rs:122:80
    |
122 |                     if y >= 0 && y < prob_image.rows() as i32 && x >= 0 && x < prob_image.cols() as i32 {
    |                                                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/tracking.rs:123:51
    |
123 |                         let pixel = prob_image.at(y as usize, x as usize)?;
    |                                                   ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/tracking.rs:123:63
    |
123 |                         let pixel = prob_image.at(y as usize, x as usize)?;
    |                                                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/video/tracking.rs:124:38
    |
124 |                         let weight = pixel[0] as f64;
    |                                      ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
124 -                         let weight = pixel[0] as f64;
124 +                         let weight = f64::from(pixel[0]);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/video/tracking.rs:126:34
    |
126 |                         sum_x += x as f64 * weight;
    |                                  ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
126 -                         sum_x += x as f64 * weight;
126 +                         sum_x += f64::from(x) * weight;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/video/tracking.rs:127:34
    |
127 |                         sum_y += y as f64 * weight;
    |                                  ^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
127 -                         sum_y += y as f64 * weight;
127 +                         sum_y += f64::from(y) * weight;
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/video/tracking.rs:137:30
    |
137 |             let centroid_x = (sum_x / sum_weight) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/video/tracking.rs:138:30
    |
138 |             let centroid_y = (sum_y / sum_weight) as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/video/tracking.rs:144:25
    |
144 |             let shift = ((new_x - current_window.x).pow(2) + (new_y - current_window.y).pow(2)) as f64;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
144 -             let shift = ((new_x - current_window.x).pow(2) + (new_y - current_window.y).pow(2)) as f64;
144 +             let shift = f64::from((new_x - current_window.x).pow(2) + (new_y - current_window.y).pow(2));
    |

warning: item in documentation is missing backticks
   --> src/video/tracking.rs:159:5
    |
159 | /// CamShift tracker (continuously adaptive mean shift)
    |     ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
159 - /// CamShift tracker (continuously adaptive mean shift)
159 + /// `CamShift` tracker (continuously adaptive mean shift)
    |

warning: this method could have a `#[must_use]` attribute
   --> src/video/tracking.rs:165:12
    |
165 |     pub fn new(window: Rect) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
165 ~     #[must_use] 
166 ~     pub fn new(window: Rect) -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/tracking.rs:171:5
    |
171 |     pub fn track(&mut self, prob_image: &Mat) -> Result<Rect> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: item in documentation is missing backticks
 --> src/video/camshift.rs:5:5
  |
5 | /// CAMShift (Continuously Adaptive Mean Shift) tracker
  |     ^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
5 - /// CAMShift (Continuously Adaptive Mean Shift) tracker
5 + /// `CAMShift` (Continuously Adaptive Mean Shift) tracker
  |

warning: you should consider adding a `Default` implementation for `CAMShift`
  --> src/video/camshift.rs:12:5
   |
12 | /     pub fn new() -> Self {
13 | |         Self {
14 | |             term_criteria_max_iter: 100,
15 | |             term_criteria_epsilon: 1.0,
16 | |         }
17 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
11 + impl Default for CAMShift {
12 +     fn default() -> Self {
13 +         Self::new()
14 +     }
15 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/video/camshift.rs:12:12
   |
12 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
12 ~     #[must_use] 
13 ~     pub fn new() -> Self {
   |

warning: item in documentation is missing backticks
  --> src/video/camshift.rs:19:21
   |
19 |     /// Track using CAMShift algorithm
   |                     ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
19 -     /// Track using CAMShift algorithm
19 +     /// Track using `CAMShift` algorithm
   |

warning: item in documentation is missing backticks
  --> src/video/camshift.rs:20:9
   |
20 |     /// prob_image: Back-projection probability map
   |         ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
20 -     /// prob_image: Back-projection probability map
20 +     /// `prob_image`: Back-projection probability map
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/camshift.rs:23:5
   |
23 | /     pub fn track(
24 | |         &self,
25 | |         prob_image: &Mat,
26 | |         window: Rect,
27 | |     ) -> Result<(Rect, f64, usize)> {
   | |___________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
  --> src/video/camshift.rs:63:25
   |
63 |             let width = (4.0 * lambda1.sqrt()) as i32;
   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/video/camshift.rs:64:26
   |
64 |             let height = (4.0 * lambda2.sqrt()) as i32;
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/video/camshift.rs:68:17
   |
68 |                 (cx - width as f64 / 2.0) as i32,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/video/camshift.rs:68:23
   |
68 |                 (cx - width as f64 / 2.0) as i32,
   |                       ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
68 -                 (cx - width as f64 / 2.0) as i32,
68 +                 (cx - f64::from(width) / 2.0) as i32,
   |

warning: casting `f64` to `i32` may truncate the value
  --> src/video/camshift.rs:69:17
   |
69 |                 (cy - height as f64 / 2.0) as i32,
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/video/camshift.rs:69:23
   |
69 |                 (cy - height as f64 / 2.0) as i32,
   |                       ^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
69 -                 (cy - height as f64 / 2.0) as i32,
69 +                 (cy - f64::from(height) / 2.0) as i32,
   |

warning: casting `f64` to `i32` may truncate the value
  --> src/video/camshift.rs:82:36
   |
82 |             if dx + dy + dw + dh < self.term_criteria_epsilon as i32 {
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: unused `self` argument
   --> src/video/camshift.rs:103:24
    |
103 |     fn compute_moments(&self, image: &Mat, window: &Rect) -> Result<Moments> {
    |                        ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:106:23
    |
106 |         let x_start = window.x.max(0) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:107:23
    |
107 |         let y_start = window.y.max(0) as usize;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:108:21
    |
108 |         let x_end = (window.x + window.width).min(image.cols() as i32) as usize;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/camshift.rs:108:51
    |
108 |         let x_end = (window.x + window.width).min(image.cols() as i32) as usize;
    |                                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
108 -         let x_end = (window.x + window.width).min(image.cols() as i32) as usize;
108 +         let x_end = (window.x + window.width).min(i32::try_from(image.cols())) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/camshift.rs:108:51
    |
108 |         let x_end = (window.x + window.width).min(image.cols() as i32) as usize;
    |                                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:109:21
    |
109 |         let y_end = (window.y + window.height).min(image.rows() as i32) as usize;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/camshift.rs:109:52
    |
109 |         let y_end = (window.y + window.height).min(image.rows() as i32) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
109 -         let y_end = (window.y + window.height).min(image.rows() as i32) as usize;
109 +         let y_end = (window.y + window.height).min(i32::try_from(image.rows())) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/camshift.rs:109:52
    |
109 |         let y_end = (window.y + window.height).min(image.rows() as i32) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/video/camshift.rs:113:27
    |
113 |                 let val = image.at(y, x)?[0] as f64 / 255.0;
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
113 -                 let val = image.at(y, x)?[0] as f64 / 255.0;
113 +                 let val = f64::from(image.at(y, x)?[0]) / 255.0;
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:115:32
    |
115 |                 let x_offset = x as f64 - x_start as f64;
    |                                ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:115:43
    |
115 |                 let x_offset = x as f64 - x_start as f64;
    |                                           ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:116:32
    |
116 |                 let y_offset = y as f64 - y_start as f64;
    |                                ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:116:43
    |
116 |                 let y_offset = y as f64 - y_start as f64;
    |                                           ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:128:24
    |
128 |         moments.m10 += x_start as f64 * moments.m00;
    |                        ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:129:24
    |
129 |         moments.m01 += y_start as f64 * moments.m00;
    |                        ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `FarnebackOpticalFlow`
   --> src/video/camshift.rs:169:5
    |
169 | /     pub fn new() -> Self {
170 | |         Self {
171 | |             num_levels: 5,
172 | |             pyr_scale: 0.5,
...   |
179 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
168 + impl Default for FarnebackOpticalFlow {
169 +     fn default() -> Self {
170 +         Self::new()
171 +     }
172 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/video/camshift.rs:169:12
    |
169 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
169 ~     #[must_use] 
170 ~     pub fn new() -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/camshift.rs:182:5
    |
182 | /     pub fn calc(
183 | |         &self,
184 | |         prev: &Mat,
185 | |         next: &Mat,
186 | |         flow: &mut Mat,
187 | |     ) -> Result<()> {
    | |___________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `usize` may truncate the value
   --> src/video/camshift.rs:225:28
    |
225 |             let new_rows = ((prev.rows() as f64) * self.pyr_scale) as usize;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:225:28
    |
225 |             let new_rows = ((prev.rows() as f64) * self.pyr_scale) as usize;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:225:29
    |
225 |             let new_rows = ((prev.rows() as f64) * self.pyr_scale) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/video/camshift.rs:226:28
    |
226 |             let new_cols = ((prev.cols() as f64) * self.pyr_scale) as usize;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:226:28
    |
226 |             let new_cols = ((prev.cols() as f64) * self.pyr_scale) as usize;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/video/camshift.rs:226:29
    |
226 |             let new_cols = ((prev.cols() as f64) * self.pyr_scale) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/video/camshift.rs:239:19
    |
239 |     fn downsample(&self, image: &Mat, new_rows: usize, new_cols: usize) -> Result<Mat> {
    |                   ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:263:20
    |
263 |         for row in half_win as usize..(prev.rows() - half_win as usize) {
    |                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:263:54
    |
263 |         for row in half_win as usize..(prev.rows() - half_win as usize) {
    |                                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:264:24
    |
264 |             for col in half_win as usize..(prev.cols() - half_win as usize) {
    |                        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/camshift.rs:264:58
    |
264 |             for col in half_win as usize..(prev.cols() - half_win as usize) {
    |                                                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:268:26
    |
268 |                 let it = next.at(row, col)?[0] as f32 - prev.at(row, col)?[0] as f32;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
268 -                 let it = next.at(row, col)?[0] as f32 - prev.at(row, col)?[0] as f32;
268 +                 let it = f32::from(next.at(row, col)?[0]) - prev.at(row, col)?[0] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:268:57
    |
268 |                 let it = next.at(row, col)?[0] as f32 - prev.at(row, col)?[0] as f32;
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
268 -                 let it = next.at(row, col)?[0] as f32 - prev.at(row, col)?[0] as f32;
268 +                 let it = next.at(row, col)?[0] as f32 - f32::from(prev.at(row, col)?[0]);
    |

warning: unused `self` argument
   --> src/video/camshift.rs:297:27
    |
297 |     fn compute_gradient_x(&self, image: &Mat, row: usize, col: usize) -> Result<f32> {
    |                           ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:302:20
    |
302 |         let left = image.at(row, col - 1)?[0] as f32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
302 -         let left = image.at(row, col - 1)?[0] as f32;
302 +         let left = f32::from(image.at(row, col - 1)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:303:21
    |
303 |         let right = image.at(row, col + 1)?[0] as f32;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
303 -         let right = image.at(row, col + 1)?[0] as f32;
303 +         let right = f32::from(image.at(row, col + 1)?[0]);
    |

warning: unused `self` argument
   --> src/video/camshift.rs:308:27
    |
308 |     fn compute_gradient_y(&self, image: &Mat, row: usize, col: usize) -> Result<f32> {
    |                           ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:313:18
    |
313 |         let up = image.at(row - 1, col)?[0] as f32;
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
313 -         let up = image.at(row - 1, col)?[0] as f32;
313 +         let up = f32::from(image.at(row - 1, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/camshift.rs:314:20
    |
314 |         let down = image.at(row + 1, col)?[0] as f32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
314 -         let down = image.at(row + 1, col)?[0] as f32;
314 +         let down = f32::from(image.at(row + 1, col)?[0]);
    |

warning: you should consider adding a `Default` implementation for `BackgroundSubtractorMOG2`
  --> src/video/background_subtraction.rs:25:5
   |
25 | /     pub fn new() -> Self {
26 | |         Self::with_params(500, 16.0, true)
27 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
23 + impl Default for BackgroundSubtractorMOG2 {
24 +     fn default() -> Self {
25 +         Self::new()
26 +     }
27 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/video/background_subtraction.rs:25:12
   |
25 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
25 ~     #[must_use] 
26 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/video/background_subtraction.rs:30:12
   |
30 |     pub fn with_params(history: usize, var_threshold: f64, detect_shadows: bool) -> Self {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
30 ~     #[must_use] 
31 ~     pub fn with_params(history: usize, var_threshold: f64, detect_shadows: bool) -> Self {
   |

warning: docs for function which may panic missing `# Panics` section
   --> src/video/background_subtraction.rs:49:5
    |
 49 |     pub fn apply(&mut self, image: &Mat, fgmask: &mut Mat, learning_rate: f64) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/video/background_subtraction.rs:157:21
    |
157 |                     score_b.partial_cmp(&score_a).unwrap()
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/background_subtraction.rs:49:5
   |
49 |     pub fn apply(&mut self, image: &Mat, fgmask: &mut Mat, learning_rate: f64) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `f32` may truncate the value
  --> src/video/background_subtraction.rs:62:44
   |
62 |             self.variance = vec![vec![vec![self.var_init as f32; self.num_gaussians]; cols]; rows];
   |                                            ^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/video/background_subtraction.rs:69:19
   |
69 |             1.0 / self.history as f64
   |                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/video/background_subtraction.rs:79:34
   |
79 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
   |                                  ^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
79 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
79 +                 let intensity = (f32::from(pixel[0]) + pixel[1] as f32 + pixel[2] as f32) / 3.0;
   |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/video/background_subtraction.rs:79:52
   |
79 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
   |                                                    ^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
79 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
79 +                 let intensity = (pixel[0] as f32 + f32::from(pixel[1]) + pixel[2] as f32) / 3.0;
   |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/video/background_subtraction.rs:79:70
   |
79 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
   |                                                                      ^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
79 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
79 +                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + f32::from(pixel[2])) / 3.0;
   |

warning: casting `f64` to `f32` may truncate the value
  --> src/video/background_subtraction.rs:87:37
   |
87 |                     let threshold = (self.var_threshold * self.variance[row][col][k].sqrt() as f64) as f32;
   |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/video/background_subtraction.rs:87:59
   |
87 |                     let threshold = (self.var_threshold * self.variance[row][col][k].sqrt() as f64) as f32;
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
87 -                     let threshold = (self.var_threshold * self.variance[row][col][k].sqrt() as f64) as f32;
87 +                     let threshold = (self.var_threshold * f64::from(self.variance[row][col][k].sqrt())) as f32;
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:101:39
    |
101 |                     let rho = alpha * self.weight[row][col][k] as f64;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
101 -                     let rho = alpha * self.weight[row][col][k] as f64;
101 +                     let rho = alpha * f64::from(self.weight[row][col][k]);
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:104:25
    |
104 |                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * intensity as f64) as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:104:40
    |
104 |                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * intensity as f64) as f32;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
104 -                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * intensity as f64) as f32;
104 +                         ((1.0 - rho) * f64::from(self.mean[row][col][k]) + rho * intensity as f64) as f32;
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:104:78
    |
104 |                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * intensity as f64) as f32;
    |                                                                              ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
104 -                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * intensity as f64) as f32;
104 +                         ((1.0 - rho) * self.mean[row][col][k] as f64 + rho * f64::from(intensity)) as f32;
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:108:25
    |
108 |                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:108:40
    |
108 |                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
108 -                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
108 +                         ((1.0 - rho) * f64::from(self.variance[row][col][k]) + rho * diff as f64 * diff as f64) as f32;
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:108:82
    |
108 |                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
    |                                                                                  ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
108 -                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
108 +                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * f64::from(diff) * diff as f64) as f32;
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:108:96
    |
108 |                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
    |                                                                                                ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
108 -                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * diff as f64) as f32;
108 +                         ((1.0 - rho) * self.variance[row][col][k] as f64 + rho * diff as f64 * f64::from(diff)) as f32;
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:111:30
    |
111 |                         .max(self.var_min as f32)
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:112:30
    |
112 |                         .min(self.var_max as f32);
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:118:41
    |
118 |                         if weight_sum > self.background_ratio as f32 {
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:129:50
    |
129 |                     self.variance[row][col][k] = self.var_init as f32;
    |                                                  ^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:137:29
    |
137 | ...                   ((1.0 - alpha) * self.weight[row][col][k] as f64 + alpha) as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:137:46
    |
137 | ...                   ((1.0 - alpha) * self.weight[row][col][k] as f64 + alpha) as f32;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
137 -                             ((1.0 - alpha) * self.weight[row][col][k] as f64 + alpha) as f32;
137 +                             ((1.0 - alpha) * f64::from(self.weight[row][col][k]) + alpha) as f32;
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:140:29
    |
140 | ...                   ((1.0 - alpha) * self.weight[row][col][k] as f64) as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:140:46
    |
140 | ...                   ((1.0 - alpha) * self.weight[row][col][k] as f64) as f32;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
140 -                             ((1.0 - alpha) * self.weight[row][col][k] as f64) as f32;
140 +                             ((1.0 - alpha) * f64::from(self.weight[row][col][k])) as f32;
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/background_subtraction.rs:181:5
    |
181 |     pub fn get_background_image(&self, background: &mut Mat) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:199:31
    |
199 |                 bg_pixel[0] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:199:31
    |
199 |                 bg_pixel[0] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:200:31
    |
200 |                 bg_pixel[1] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:200:31
    |
200 |                 bg_pixel[1] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:201:31
    |
201 |                 bg_pixel[2] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:201:31
    |
201 |                 bg_pixel[2] = intensity as u8;
    |                               ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: you should consider adding a `Default` implementation for `BackgroundSubtractorKNN`
   --> src/video/background_subtraction.rs:224:5
    |
224 | /     pub fn new() -> Self {
225 | |         Self::with_params(500, 400.0, true)
226 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
222 + impl Default for BackgroundSubtractorKNN {
223 +     fn default() -> Self {
224 +         Self::new()
225 +     }
226 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/video/background_subtraction.rs:224:12
    |
224 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
224 ~     #[must_use] 
225 ~     pub fn new() -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/video/background_subtraction.rs:229:12
    |
229 |     pub fn with_params(history: usize, dist2_threshold: f64, detect_shadows: bool) -> Self {
    |            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
229 ~     #[must_use] 
230 ~     pub fn with_params(history: usize, dist2_threshold: f64, detect_shadows: bool) -> Self {
    |

warning: docs for function which may panic missing `# Panics` section
   --> src/video/background_subtraction.rs:242:5
    |
242 |     pub fn apply(&mut self, image: &Mat, fgmask: &mut Mat, learning_rate: f64) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/video/background_subtraction.rs:285:42
    |
285 |                 distances.sort_by(|a, b| a.partial_cmp(b).unwrap());
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/background_subtraction.rs:242:5
    |
242 |     pub fn apply(&mut self, image: &Mat, fgmask: &mut Mat, learning_rate: f64) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:268:34
    |
268 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
    |                                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
268 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
268 +                 let intensity = (f32::from(pixel[0]) + pixel[1] as f32 + pixel[2] as f32) / 3.0;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:268:52
    |
268 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
    |                                                    ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
268 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
268 +                 let intensity = (pixel[0] as f32 + f32::from(pixel[1]) + pixel[2] as f32) / 3.0;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/background_subtraction.rs:268:70
    |
268 |                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
    |                                                                      ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
268 -                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + pixel[2] as f32) / 3.0;
268 +                 let intensity = (pixel[0] as f32 + pixel[1] as f32 + f32::from(pixel[2])) / 3.0;
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/background_subtraction.rs:289:77
    |
289 |                 let avg_dist: f32 = distances.iter().take(k).sum::<f32>() / k as f32;
    |                                                                             ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/video/background_subtraction.rs:291:48
    |
291 |                 let is_background = avg_dist < self.dist2_threshold as f32;
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function which may panic missing `# Panics` section
   --> src/video/background_subtraction.rs:311:5
    |
311 |     pub fn get_background_image(&self, background: &mut Mat) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/video/background_subtraction.rs:333:40
    |
333 |                 samples.sort_by(|a, b| a.partial_cmp(b).unwrap());
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/background_subtraction.rs:311:5
    |
311 |     pub fn get_background_image(&self, background: &mut Mat) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:337:31
    |
337 |                 bg_pixel[0] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:337:31
    |
337 |                 bg_pixel[0] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:338:31
    |
338 |                 bg_pixel[1] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:338:31
    |
338 |                 bg_pixel[1] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/video/background_subtraction.rs:339:31
    |
339 |                 bg_pixel[2] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/background_subtraction.rs:339:31
    |
339 |                 bg_pixel[2] = median as u8;
    |                               ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: you should consider adding a `Default` implementation for `MOSSETracker`
  --> src/video/advanced_tracking.rs:15:5
   |
15 | /     pub fn new() -> Self {
16 | |         Self {
17 | |             template: Mat::new(1, 1, 1, MatDepth::U8).unwrap(),
18 | |             filter: Vec::new(),
...  |
22 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
13 + impl Default for MOSSETracker {
14 +     fn default() -> Self {
15 +         Self::new()
16 +     }
17 + }
   |

warning: docs for function which may panic missing `# Panics` section
  --> src/video/advanced_tracking.rs:15:5
   |
15 |     pub fn new() -> Self {
   |     ^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/video/advanced_tracking.rs:17:23
   |
17 |             template: Mat::new(1, 1, 1, MatDepth::U8).unwrap(),
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: this method could have a `#[must_use]` attribute
  --> src/video/advanced_tracking.rs:15:12
   |
15 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
15 ~     #[must_use] 
16 ~     pub fn new() -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/advanced_tracking.rs:25:5
   |
25 |     pub fn init(&mut self, frame: &Mat, bbox: Rect) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/video/advanced_tracking.rs:50:5
   |
50 |     pub fn update(&mut self, frame: &Mat) -> Result<Rect> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:67:13
   |
67 |             max_col as i32 - self.template.cols() as i32 / 2,
   |             ^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
67 -             max_col as i32 - self.template.cols() as i32 / 2,
67 +             i32::try_from(max_col) - self.template.cols() as i32 / 2,
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:67:13
   |
67 |             max_col as i32 - self.template.cols() as i32 / 2,
   |             ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:67:30
   |
67 |             max_col as i32 - self.template.cols() as i32 / 2,
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
67 -             max_col as i32 - self.template.cols() as i32 / 2,
67 +             max_col as i32 - i32::try_from(self.template.cols()) / 2,
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:67:30
   |
67 |             max_col as i32 - self.template.cols() as i32 / 2,
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:68:13
   |
68 |             max_row as i32 - self.template.rows() as i32 / 2,
   |             ^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -             max_row as i32 - self.template.rows() as i32 / 2,
68 +             i32::try_from(max_row) - self.template.rows() as i32 / 2,
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:68:13
   |
68 |             max_row as i32 - self.template.rows() as i32 / 2,
   |             ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:68:30
   |
68 |             max_row as i32 - self.template.rows() as i32 / 2,
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -             max_row as i32 - self.template.rows() as i32 / 2,
68 +             max_row as i32 - i32::try_from(self.template.rows()) / 2,
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:68:30
   |
68 |             max_row as i32 - self.template.rows() as i32 / 2,
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:69:13
   |
69 |             self.template.cols() as i32,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
69 -             self.template.cols() as i32,
69 +             i32::try_from(self.template.cols()),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:69:13
   |
69 |             self.template.cols() as i32,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/video/advanced_tracking.rs:70:13
   |
70 |             self.template.rows() as i32,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
70 -             self.template.rows() as i32,
70 +             i32::try_from(self.template.rows()),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/video/advanced_tracking.rs:70:13
   |
70 |             self.template.rows() as i32,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/video/advanced_tracking.rs:95:37
   |
95 |                         let pixel = frame.at(y, x)?[0] as f32;
   |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
95 -                         let pixel = frame.at(y, x)?[0] as f32;
95 +                         let pixel = f32::from(frame.at(y, x)?[0]);
   |

warning: casting `f32` to `u8` may truncate the value
   --> src/video/advanced_tracking.rs:101:33
    |
101 |                 resp_pixel[0] = sum.abs().min(255.0) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/advanced_tracking.rs:101:33
    |
101 |                 resp_pixel[0] = sum.abs().min(255.0) as u8;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `row` is used to index `gaussian`
   --> src/video/advanced_tracking.rs:112:20
    |
112 |         for row in 0..h {
    |                    ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
112 -         for row in 0..h {
112 +         for (row, <item>) in gaussian.iter().enumerate().take(h) {
    |

warning: the loop variable `col` is used to index `gaussian`
   --> src/video/advanced_tracking.rs:113:24
    |
113 |             for col in 0..w {
    |                        ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
113 -             for col in 0..w {
113 +             for (col, <item>) in gaussian.iter().enumerate().take(w) {
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/advanced_tracking.rs:114:29
    |
114 |                 let pixel = template.at(row, col)?[0] as f32 / 255.0;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
114 -                 let pixel = template.at(row, col)?[0] as f32 / 255.0;
114 +                 let pixel = f32::from(template.at(row, col)?[0]) / 255.0;
    |

warning: item in documentation is missing backticks
   --> src/video/advanced_tracking.rs:127:5
    |
127 | /// MedianFlow tracker
    |     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
127 - /// MedianFlow tracker
127 + /// `MedianFlow` tracker
    |

warning: you should consider adding a `Default` implementation for `MedianFlowTracker`
   --> src/video/advanced_tracking.rs:136:5
    |
136 | /     pub fn new() -> Self {
137 | |         Self {
138 | |             points: Vec::new(),
139 | |             bbox: Rect::new(0, 0, 0, 0),
...   |
142 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
134 + impl Default for MedianFlowTracker {
135 +     fn default() -> Self {
136 +         Self::new()
137 +     }
138 + }
    |

warning: item in documentation is missing backticks
   --> src/video/advanced_tracking.rs:135:16
    |
135 |     /// Create MedianFlow tracker
    |                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
135 -     /// Create MedianFlow tracker
135 +     /// Create `MedianFlow` tracker
    |

warning: this method could have a `#[must_use]` attribute
   --> src/video/advanced_tracking.rs:136:12
    |
136 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
136 ~     #[must_use] 
137 ~     pub fn new() -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/advanced_tracking.rs:145:5
    |
145 |     pub fn init(&mut self, _frame: &Mat, bbox: Rect) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/advanced_tracking.rs:165:5
    |
165 |     pub fn update(&mut self, _prev_frame: &Mat, _curr_frame: &Mat) -> Result<Rect> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: you should consider adding a `Default` implementation for `CSRTTracker`
   --> src/video/advanced_tracking.rs:214:5
    |
214 | /     pub fn new() -> Self {
215 | |         Self {
216 | |             template: Mat::new(1, 1, 1, MatDepth::U8).unwrap(),
217 | |             bbox: Rect::new(0, 0, 0, 0),
...   |
222 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
212 + impl Default for CSRTTracker {
213 +     fn default() -> Self {
214 +         Self::new()
215 +     }
216 + }
    |

warning: docs for function which may panic missing `# Panics` section
   --> src/video/advanced_tracking.rs:214:5
    |
214 |     pub fn new() -> Self {
    |     ^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/video/advanced_tracking.rs:216:23
    |
216 |             template: Mat::new(1, 1, 1, MatDepth::U8).unwrap(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: this method could have a `#[must_use]` attribute
   --> src/video/advanced_tracking.rs:214:12
    |
214 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
214 ~     #[must_use] 
215 ~     pub fn new() -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/advanced_tracking.rs:225:5
    |
225 |     pub fn init(&mut self, frame: &Mat, bbox: Rect) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `i32` may truncate the value
   --> src/video/advanced_tracking.rs:230:13
    |
230 |             (bbox.x as f32 - bbox.width as f32 * (self.padding - 1.0) / 2.0) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:230:14
    |
230 |             (bbox.x as f32 - bbox.width as f32 * (self.padding - 1.0) / 2.0) as i32,
    |              ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:230:30
    |
230 |             (bbox.x as f32 - bbox.width as f32 * (self.padding - 1.0) / 2.0) as i32,
    |                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/video/advanced_tracking.rs:231:13
    |
231 |             (bbox.y as f32 - bbox.height as f32 * (self.padding - 1.0) / 2.0) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:231:14
    |
231 |             (bbox.y as f32 - bbox.height as f32 * (self.padding - 1.0) / 2.0) as i32,
    |              ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:231:30
    |
231 |             (bbox.y as f32 - bbox.height as f32 * (self.padding - 1.0) / 2.0) as i32,
    |                              ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/video/advanced_tracking.rs:232:13
    |
232 |             (bbox.width as f32 * self.padding) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:232:14
    |
232 |             (bbox.width as f32 * self.padding) as i32,
    |              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `i32` may truncate the value
   --> src/video/advanced_tracking.rs:233:13
    |
233 |             (bbox.height as f32 * self.padding) as i32,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:233:14
    |
233 |             (bbox.height as f32 * self.padding) as i32,
    |              ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/video/advanced_tracking.rs:242:5
    |
242 |     pub fn update(&mut self, frame: &Mat) -> Result<Rect> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:273:13
    |
273 |     let x = bbox.x.max(0).min(frame.cols() as i32 - 1) as usize;
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:273:31
    |
273 |     let x = bbox.x.max(0).min(frame.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
273 -     let x = bbox.x.max(0).min(frame.cols() as i32 - 1) as usize;
273 +     let x = bbox.x.max(0).min(i32::try_from(frame.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:273:31
    |
273 |     let x = bbox.x.max(0).min(frame.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:274:13
    |
274 |     let y = bbox.y.max(0).min(frame.rows() as i32 - 1) as usize;
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:274:31
    |
274 |     let y = bbox.y.max(0).min(frame.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
274 -     let y = bbox.y.max(0).min(frame.rows() as i32 - 1) as usize;
274 +     let y = bbox.y.max(0).min(i32::try_from(frame.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:274:31
    |
274 |     let y = bbox.y.max(0).min(frame.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:275:13
    |
275 |     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:275:35
    |
275 |     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
    |                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
275 -     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
275 +     let w = bbox.width.max(1).min(i32::try_from(frame.cols()) - x as i32) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:275:35
    |
275 |     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
    |                                   ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:275:57
    |
275 |     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
    |                                                         ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
275 -     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
275 +     let w = bbox.width.max(1).min(frame.cols() as i32 - i32::try_from(x)) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:275:57
    |
275 |     let w = bbox.width.max(1).min(frame.cols() as i32 - x as i32) as usize;
    |                                                         ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:276:13
    |
276 |     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:276:36
    |
276 |     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
276 -     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
276 +     let h = bbox.height.max(1).min(i32::try_from(frame.rows()) - y as i32) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:276:36
    |
276 |     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:276:58
    |
276 |     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
    |                                                          ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
276 -     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
276 +     let h = bbox.height.max(1).min(frame.rows() as i32 - i32::try_from(y)) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:276:58
    |
276 |     let h = bbox.height.max(1).min(frame.rows() as i32 - y as i32) as usize;
    |                                                          ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: it looks like you're manually copying between slices
   --> src/video/advanced_tracking.rs:284:13
    |
284 | /             for ch in 0..frame.channels() {
285 | |                 dst_pixel[ch] = src_pixel[ch];
286 | |             }
    | |_____________^ help: try replacing the loop by: `dst_pixel[..frame.channels()].copy_from_slice(&src_pixel[..frame.channels()]);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_memcpy

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:296:20
    |
296 |     let center_y = height as f32 / 2.0;
    |                    ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:297:20
    |
297 |     let center_x = width as f32 / 2.0;
    |                    ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the loop variable `y` is used to index `gaussian`
   --> src/video/advanced_tracking.rs:299:14
    |
299 |     for y in 0..height {
    |              ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
299 -     for y in 0..height {
299 +     for (y, <item>) in gaussian.iter_mut().enumerate().take(height) {
    |

warning: the loop variable `x` is used to index `gaussian`
   --> src/video/advanced_tracking.rs:300:18
    |
300 |         for x in 0..width {
    |                  ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
300 -         for x in 0..width {
300 +         for (x, <item>) in gaussian.iter_mut().enumerate().take(width) {
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:301:22
    |
301 |             let dy = y as f32 - center_y;
    |                      ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/video/advanced_tracking.rs:302:22
    |
302 |             let dx = x as f32 - center_x;
    |                      ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:332:19
    |
332 |     let x_start = search_region.x.max(0) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:333:19
    |
333 |     let y_start = search_region.y.max(0) as usize;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:334:17
    |
334 |     let x_end = (search_region.x + search_region.width).min(frame.cols() as i32) as usize;
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:334:61
    |
334 |     let x_end = (search_region.x + search_region.width).min(frame.cols() as i32) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
334 -     let x_end = (search_region.x + search_region.width).min(frame.cols() as i32) as usize;
334 +     let x_end = (search_region.x + search_region.width).min(i32::try_from(frame.cols())) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:334:61
    |
334 |     let x_end = (search_region.x + search_region.width).min(frame.cols() as i32) as usize;
    |                                                             ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/video/advanced_tracking.rs:335:17
    |
335 |     let y_end = (search_region.y + search_region.height).min(frame.rows() as i32) as usize;
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:335:62
    |
335 |     let y_end = (search_region.y + search_region.height).min(frame.rows() as i32) as usize;
    |                                                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
335 -     let y_end = (search_region.y + search_region.height).min(frame.rows() as i32) as usize;
335 +     let y_end = (search_region.y + search_region.height).min(i32::try_from(frame.rows())) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:335:62
    |
335 |     let y_end = (search_region.y + search_region.height).min(frame.rows() as i32) as usize;
    |                                                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/advanced_tracking.rs:352:36
    |
352 |                         let diff = frame_pixel[ch] as f32 - template_pixel[ch] as f32;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
352 -                         let diff = frame_pixel[ch] as f32 - template_pixel[ch] as f32;
352 +                         let diff = f32::from(frame_pixel[ch]) - template_pixel[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/advanced_tracking.rs:352:61
    |
352 |                         let diff = frame_pixel[ch] as f32 - template_pixel[ch] as f32;
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
352 -                         let diff = frame_pixel[ch] as f32 - template_pixel[ch] as f32;
352 +                         let diff = frame_pixel[ch] as f32 - f32::from(template_pixel[ch]);
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:360:26
    |
360 |                 best_x = x as i32;
    |                          ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
360 -                 best_x = x as i32;
360 +                 best_x = i32::try_from(x);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:360:26
    |
360 |                 best_x = x as i32;
    |                          ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/video/advanced_tracking.rs:361:26
    |
361 |                 best_y = y as i32;
    |                          ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
361 -                 best_y = y as i32;
361 +                 best_y = i32::try_from(y);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/video/advanced_tracking.rs:361:26
    |
361 |                 best_y = y as i32;
    |                          ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/advanced_tracking.rs:388:45
    |
388 |                 let value = (1.0 - alpha) * old_pixel[ch] as f32 + alpha * new_pixel[ch] as f32;
    |                                             ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
388 -                 let value = (1.0 - alpha) * old_pixel[ch] as f32 + alpha * new_pixel[ch] as f32;
388 +                 let value = (1.0 - alpha) * f32::from(old_pixel[ch]) + alpha * new_pixel[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/video/advanced_tracking.rs:388:76
    |
388 |                 let value = (1.0 - alpha) * old_pixel[ch] as f32 + alpha * new_pixel[ch] as f32;
    |                                                                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
388 -                 let value = (1.0 - alpha) * old_pixel[ch] as f32 + alpha * new_pixel[ch] as f32;
388 +                 let value = (1.0 - alpha) * old_pixel[ch] as f32 + alpha * f32::from(new_pixel[ch]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/video/advanced_tracking.rs:389:37
    |
389 |                 blended_pixel[ch] = value as u8;
    |                                     ^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/video/advanced_tracking.rs:389:37
    |
389 |                 blended_pixel[ch] = value as u8;
    |                                     ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_capture.rs:28:5
   |
28 |     pub fn from_file<P: AsRef<Path>>(path: P) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_capture.rs:48:5
   |
48 |     pub fn from_camera(device_id: i32) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/videoio/video_capture.rs:61:12
   |
61 |     pub fn is_opened(&self) -> bool {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
61 ~     #[must_use] 
62 ~     pub fn is_opened(&self) -> bool {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_capture.rs:66:5
   |
66 |     pub fn read(&mut self, frame: &mut Mat) -> Result<bool> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_capture.rs:98:5
   |
98 |     pub fn get(&self, prop: VideoCaptureProperty) -> Result<f64> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/videoio/video_capture.rs:100:52
    |
100 |             VideoCaptureProperty::FrameWidth => Ok(self.frame_width as f64),
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/videoio/video_capture.rs:101:53
    |
101 |             VideoCaptureProperty::FrameHeight => Ok(self.frame_height as f64),
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/videoio/video_capture.rs:103:52
    |
103 |             VideoCaptureProperty::FrameCount => Ok(self.total_frames as f64),
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/videoio/video_capture.rs:104:51
    |
104 |             VideoCaptureProperty::PosFrames => Ok(self.current_frame as f64),
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/videoio/video_capture.rs:105:49
    |
105 |             VideoCaptureProperty::PosMsec => Ok(self.current_frame as f64 * 1000.0 / self.fps),
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: variables can be used directly in the `format!` string
   --> src/videoio/video_capture.rs:106:46
    |
106 |             _ => Err(Error::InvalidParameter(format!("Property {:?} not supported", prop))),
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args
help: change this to
    |
106 -             _ => Err(Error::InvalidParameter(format!("Property {:?} not supported", prop))),
106 +             _ => Err(Error::InvalidParameter(format!("Property {prop:?} not supported"))),
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/videoio/video_capture.rs:111:5
    |
111 |     pub fn set(&mut self, prop: VideoCaptureProperty, value: f64) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `usize` may truncate the value
   --> src/videoio/video_capture.rs:114:38
    |
114 |                 self.current_frame = value as usize;
    |                                      ^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/videoio/video_capture.rs:114:38
    |
114 |                 self.current_frame = value as usize;
    |                                      ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/videoio/video_capture.rs:118:38
    |
118 |                 self.current_frame = (value * self.fps / 1000.0) as usize;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/videoio/video_capture.rs:118:38
    |
118 |                 self.current_frame = (value * self.fps / 1000.0) as usize;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/videoio/video_capture.rs:122:36
    |
122 |                 self.frame_width = value as usize;
    |                                    ^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/videoio/video_capture.rs:122:36
    |
122 |                 self.frame_width = value as usize;
    |                                    ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/videoio/video_capture.rs:126:37
    |
126 |                 self.frame_height = value as usize;
    |                                     ^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/videoio/video_capture.rs:126:37
    |
126 |                 self.frame_height = value as usize;
    |                                     ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: variables can be used directly in the `format!` string
   --> src/videoio/video_capture.rs:133:46
    |
133 |             _ => Err(Error::InvalidParameter(format!("Property {:?} cannot be set", prop))),
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args
help: change this to
    |
133 -             _ => Err(Error::InvalidParameter(format!("Property {:?} cannot be set", prop))),
133 +             _ => Err(Error::InvalidParameter(format!("Property {prop:?} cannot be set"))),
    |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_capture.rs:143:12
    |
143 |     pub fn get_backend_name(&self) -> &str {
    |            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
143 ~     #[must_use] 
144 ~     pub fn get_backend_name(&self) -> &str {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_writer.rs:19:5
   |
19 | /     pub fn new<P: AsRef<Path>>(
20 | |         path: P,
21 | |         fourcc: FourCC,
22 | |         fps: f64,
...  |
25 | |         is_color: bool,
26 | |     ) -> Result<Self> {
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/videoio/video_writer.rs:42:12
   |
42 |     pub fn is_opened(&self) -> bool {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
42 ~     #[must_use] 
43 ~     pub fn is_opened(&self) -> bool {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_writer.rs:47:5
   |
47 |     pub fn write(&mut self, frame: &Mat) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/videoio/video_writer.rs:81:5
   |
81 |     pub fn release(&mut self) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/videoio/video_writer.rs:94:12
   |
94 |     pub fn frame_count(&self) -> usize {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
94 ~     #[must_use] 
95 ~     pub fn frame_count(&self) -> usize {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/videoio/video_writer.rs:99:12
   |
99 |     pub fn get_fps(&self) -> f64 {
   |            ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
99 ~     #[must_use] 
100~     pub fn get_fps(&self) -> f64 {
   |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:103:12
    |
103 |     pub fn get_frame_size(&self) -> (usize, usize) {
    |            ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
103 ~     #[must_use] 
104 ~     pub fn get_frame_size(&self) -> (usize, usize) {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:107:12
    |
107 |     pub fn get_fourcc(&self) -> FourCC {
    |            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
107 ~     #[must_use] 
108 ~     pub fn get_fourcc(&self) -> FourCC {
    |

warning: item in documentation is missing backticks
   --> src/videoio/video_writer.rs:144:16
    |
144 |     /// Create FourCC from four characters
    |                ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
144 -     /// Create FourCC from four characters
144 +     /// Create `FourCC` from four characters
    |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:145:12
    |
145 |     pub fn from_chars(c1: u8, c2: u8, c3: u8, c4: u8) -> Self {
    |            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
145 ~     #[must_use] 
146 ~     pub fn from_chars(c1: u8, c2: u8, c3: u8, c4: u8) -> Self {
    |

warning: item in documentation is missing backticks
   --> src/videoio/video_writer.rs:149:16
    |
149 |     /// Create FourCC from string
    |                ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
149 -     /// Create FourCC from string
149 +     /// Create `FourCC` from string
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/videoio/video_writer.rs:150:5
    |
150 |     pub fn from_str(s: &str) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: method `from_str` can be confused for the standard trait method `std::str::FromStr::from_str`
   --> src/videoio/video_writer.rs:150:5
    |
150 | /     pub fn from_str(s: &str) -> Result<Self> {
151 | |         if s.len() != 4 {
152 | |             return Err(Error::InvalidParameter(
153 | |                 "FourCC must be exactly 4 characters".to_string(),
...   |
158 | |         Ok(FourCC::Custom([bytes[0], bytes[1], bytes[2], bytes[3]]))
159 | |     }
    | |_____^
    |
    = help: consider implementing the trait `std::str::FromStr` or choosing a less ambiguous method name
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#should_implement_trait
    = note: `#[warn(clippy::should_implement_trait)]` on by default

warning: item in documentation is missing backticks
   --> src/videoio/video_writer.rs:161:17
    |
161 |     /// Convert FourCC to integer
    |                 ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
161 -     /// Convert FourCC to integer
161 +     /// Convert `FourCC` to integer
    |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:162:12
    |
162 |     pub fn to_int(&self) -> i32 {
    |            ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
162 ~     #[must_use] 
163 ~     pub fn to_int(&self) -> i32 {
    |

warning: item in documentation is missing backticks
   --> src/videoio/video_writer.rs:179:16
    |
179 |     /// Create FourCC from integer
    |                ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
179 -     /// Create FourCC from integer
179 +     /// Create `FourCC` from integer
    |

warning: this method could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:180:12
    |
180 |     pub fn from_int(code: i32) -> Self {
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
180 ~     #[must_use] 
181 ~     pub fn from_int(code: i32) -> Self {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:187:8
    |
187 | pub fn get_available_codecs() -> Vec<FourCC> {
    |        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
187 + #[must_use] 
188 | pub fn get_available_codecs() -> Vec<FourCC> {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/videoio/video_writer.rs:201:8
    |
201 | pub fn is_codec_available(fourcc: FourCC) -> bool {
    |        ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
201 + #[must_use] 
202 | pub fn is_codec_available(fourcc: FourCC) -> bool {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/kmeans.rs:13:1
   |
13 | / pub fn kmeans(
14 | |     data: &[Vec<f64>],
15 | |     k: usize,
16 | |     labels: &mut [i32],
...  |
19 | |     flags: KMeansFlags,
20 | | ) -> Result<(Vec<Vec<f64>>, f64)> {
   | |_________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/ml/kmeans.rs:58:25
   |
58 |             labels[i] = best_cluster as i32;
   |                         ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
58 -             labels[i] = best_cluster as i32;
58 +             labels[i] = i32::try_from(best_cluster);
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/ml/kmeans.rs:58:25
   |
58 |             labels[i] = best_cluster as i32;
   |                         ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/ml/kmeans.rs:66:27
   |
66 |             let cluster = labels[i] as usize;
   |                           ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/ml/kmeans.rs:78:29
   |
78 |                     *val /= counts[i] as f64;
   |                             ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
78 -                     *val /= counts[i] as f64;
78 +                     *val /= f64::from(counts[i]);
   |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/ml/kmeans.rs:161:23
    |
161 |         let cluster = labels[i] as usize;
    |                       ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/kmeans.rs:179:25
    |
179 |                 *val /= counts[i] as f64;
    |                         ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
179 -                 *val /= counts[i] as f64;
179 +                 *val /= f64::from(counts[i]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/ml/kmeans.rs:203:23
    |
203 |         let cluster = labels[i] as usize;
    |                       ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this method could have a `#[must_use]` attribute
  --> src/ml/svm.rs:37:12
   |
37 |     pub fn new(svm_type: SVMType, kernel_type: SVMKernelType) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
37 ~     #[must_use] 
38 ~     pub fn new(svm_type: SVMType, kernel_type: SVMKernelType) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/svm.rs:52:5
   |
52 |     pub fn train(&mut self, samples: &[Vec<f64>], labels: &[f64]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/ml/svm.rs:93:36
   |
93 |                 centroid_pos[j] /= count_pos as f64;
   |                                    ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
93 -                 centroid_pos[j] /= count_pos as f64;
93 +                 centroid_pos[j] /= f64::from(count_pos);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/ml/svm.rs:94:36
   |
94 |                 centroid_neg[j] /= count_neg as f64;
   |                                    ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
94 -                 centroid_neg[j] /= count_neg as f64;
94 +                 centroid_neg[j] /= f64::from(count_neg);
   |

warning: the loop variable `i` is used to index `labels`
   --> src/ml/svm.rs:122:22
    |
122 |             for i in 0..n {
    |                      ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
122 -             for i in 0..n {
122 +             for (i, <item>) in labels.iter().enumerate().take(n) {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/svm.rs:131:5
    |
131 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/svm.rs:156:5
    |
156 |     pub fn predict_with_confidence(&self, sample: &[f64]) -> Result<(f64, f64)> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: unused `self` argument
   --> src/ml/svm.rs:189:22
    |
189 |     fn linear_kernel(&self, x1: &[f64], x2: &[f64]) -> f64 {
    |                      ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this method could have a `#[must_use]` attribute
  --> src/ml/dtree.rs:24:12
   |
24 |     pub fn classifier() -> Self {
   |            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
24 ~     #[must_use] 
25 ~     pub fn classifier() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/dtree.rs:35:12
   |
35 |     pub fn regressor() -> Self {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
35 ~     #[must_use] 
36 ~     pub fn regressor() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/dtree.rs:46:12
   |
46 |     pub fn with_max_depth(mut self, depth: usize) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
46 ~     #[must_use] 
47 ~     pub fn with_max_depth(mut self, depth: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/dtree.rs:46:5
   |
46 | /     pub fn with_max_depth(mut self, depth: usize) -> Self {
47 | |         self.max_depth = depth;
48 | |         self
49 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/ml/dtree.rs:52:12
   |
52 |     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
   |            ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
52 ~     #[must_use] 
53 ~     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/dtree.rs:52:5
   |
52 | /     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
53 | |         self.min_samples_split = samples;
54 | |         self
55 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/ml/dtree.rs:58:12
   |
58 |     pub fn with_min_samples_leaf(mut self, samples: usize) -> Self {
   |            ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
58 ~     #[must_use] 
59 ~     pub fn with_min_samples_leaf(mut self, samples: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/dtree.rs:58:5
   |
58 | /     pub fn with_min_samples_leaf(mut self, samples: usize) -> Self {
59 | |         self.min_samples_leaf = samples;
60 | |         self
61 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/dtree.rs:64:5
   |
64 |     pub fn train(&mut self, data: &[Vec<f64>], labels: &[f64]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/dtree.rs:149:5
    |
149 | /     fn find_best_split(
150 | |         &self,
151 | |         data: &[Vec<f64>],
152 | |         labels: &[f64],
153 | |         indices: &[usize],
154 | |     ) -> Result<(usize, f64, f64)> {
    | |__________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
154 -     ) -> Result<(usize, f64, f64)> {
154 +     ) -> (usize, f64, f64) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
197 -         Ok((best_feature, best_threshold, best_gain))
197 +         (best_feature, best_threshold, best_gain)
    |

warning: manual implementation of `midpoint` which can overflow
   --> src/ml/dtree.rs:170:33
    |
170 |                 let threshold = (values[i] + values[i + 1]) / 2.0;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `f64::midpoint` instead: `f64::midpoint(values[i], values[i + 1])`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint
    = note: `-W clippy::manual-midpoint` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::manual_midpoint)]`

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:182:25
    |
182 |                 let n = indices.len() as f64;
    |                         ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:183:30
    |
183 |                 let n_left = left.len() as f64;
    |                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:184:31
    |
184 |                 let n_right = right.len() as f64;
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/ml/dtree.rs:201:9
    |
201 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/dtree.rs:230:31
    |
230 |                 *counts.entry(labels[idx] as i32).or_insert(0) += 1;
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:233:21
    |
233 |             let n = indices.len() as f64;
    |                     ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:236:25
    |
236 |                 let p = count as f64 / n;
    |                         ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:242:74
    |
242 |             let mean = indices.iter().map(|&i| labels[i]).sum::<f64>() / indices.len() as f64;
    |                                                                          ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:250:19
    |
250 |                 / indices.len() as f64
    |                   ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/dtree.rs:260:31
    |
260 |             let first_label = labels[indices[0]] as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/dtree.rs:261:37
    |
261 |             indices.iter().all(|&i| labels[i] as i32 == first_label)
    |                                     ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/dtree.rs:276:31
    |
276 |                 *counts.entry(labels[idx] as i32).or_insert(0) += 1;
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/dtree.rs:280:13
    |
280 |             class as f64
    |             ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
280 -             class as f64
280 +             f64::from(class)
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/dtree.rs:283:63
    |
283 |             indices.iter().map(|&i| labels[i]).sum::<f64>() / indices.len() as f64
    |                                                               ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/dtree.rs:288:5
    |
288 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/ml/dtree.rs:298:9
    |
298 | /         match node.value {
299 | |             Some(value) => value,
300 | |             None => {
301 | |                 let feature = node.feature_index.unwrap();
...   |
310 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#single_match_else
    = note: `-W clippy::single-match-else` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
298 ~         if let Some(value) = node.value { value } else {
299 +             let feature = node.feature_index.unwrap();
300 +             let threshold = node.threshold.unwrap();
301 + 
302 +             if sample[feature] <= threshold {
303 +                 self.predict_node(node.left.as_ref().unwrap(), sample)
304 +             } else {
305 +                 self.predict_node(node.right.as_ref().unwrap(), sample)
306 +             }
307 +         }
    |

warning: parameter is only used in recursion
   --> src/ml/dtree.rs:297:22
    |
297 |     fn predict_node(&self, node: &TreeNode, sample: &[f64]) -> f64 {
    |                      ^^^^
    |
note: parameter used here
   --> src/ml/dtree.rs:305:21
    |
305 |                     self.predict_node(node.left.as_ref().unwrap(), sample)
    |                     ^^^^
306 |                 } else {
307 |                     self.predict_node(node.right.as_ref().unwrap(), sample)
    |                     ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#only_used_in_recursion
    = note: `#[warn(clippy::only_used_in_recursion)]` on by default

warning: this method could have a `#[must_use]` attribute
   --> src/ml/dtree.rs:314:12
    |
314 |     pub fn get_depth(&self) -> usize {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
314 ~     #[must_use] 
315 ~     pub fn get_depth(&self) -> usize {
    |

warning: these match arms have identical bodies
   --> src/ml/dtree.rs:323:13
    |
323 |             (None, None) => 0, // Leaf has depth 0
    |             ^^^^^^^^^^^^^^^^^
...
327 |             _ => 0, // Should not happen, but treat as leaf
    |             ^^^^^^ the wildcard arm
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#match_same_arms
    = note: `-W clippy::match-same-arms` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::match_same_arms)]`
help: otherwise remove the non-wildcard arm
    |
323 -             (None, None) => 0, // Leaf has depth 0
323 +             // Leaf has depth 0
    |

warning: parameter is only used in recursion
   --> src/ml/dtree.rs:321:20
    |
321 |     fn node_depth(&self, node: &TreeNode) -> usize {
    |                    ^^^^
    |
note: parameter used here
   --> src/ml/dtree.rs:325:21
    |
325 |                 1 + self.node_depth(left).max(self.node_depth(right))
    |                     ^^^^                      ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#only_used_in_recursion

warning: this method could have a `#[must_use]` attribute
   --> src/ml/dtree.rs:332:12
    |
332 |     pub fn get_leaf_count(&self) -> usize {
    |            ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
332 ~     #[must_use] 
333 ~     pub fn get_leaf_count(&self) -> usize {
    |

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> src/ml/dtree.rs:344:26
    |
344 |           let left_count = node
    |  __________________________^
345 | |             .left
346 | |             .as_ref()
347 | |             .map(|n| self.count_leaves(n))
348 | |             .unwrap_or(0);
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#map_unwrap_or
help: use `map_or(<a>, <f>)` instead
    |
347 -             .map(|n| self.count_leaves(n))
347 +             .map_or(0, |n| self.count_leaves(n));
    |

warning: called `map(<f>).unwrap_or(<a>)` on an `Option` value
   --> src/ml/dtree.rs:349:27
    |
349 |           let right_count = node
    |  ___________________________^
350 | |             .right
351 | |             .as_ref()
352 | |             .map(|n| self.count_leaves(n))
353 | |             .unwrap_or(0);
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#map_unwrap_or
help: use `map_or(<a>, <f>)` instead
    |
352 -             .map(|n| self.count_leaves(n))
352 +             .map_or(0, |n| self.count_leaves(n));
    |

warning: parameter is only used in recursion
   --> src/ml/dtree.rs:339:22
    |
339 |     fn count_leaves(&self, node: &TreeNode) -> usize {
    |                      ^^^^
    |
note: parameter used here
   --> src/ml/dtree.rs:347:22
    |
347 |             .map(|n| self.count_leaves(n))
    |                      ^^^^
...
352 |             .map(|n| self.count_leaves(n))
    |                      ^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#only_used_in_recursion

warning: item in documentation is missing backticks
  --> src/ml/random_forest.rs:19:13
   |
19 |     /// Use sqrt(n_features)
   |             ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
19 -     /// Use sqrt(n_features)
19 +     /// Use `sqrt(n_features)`
   |

warning: item in documentation is missing backticks
  --> src/ml/random_forest.rs:21:13
   |
21 |     /// Use log2(n_features)
   |             ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
21 -     /// Use log2(n_features)
21 +     /// Use `log2(n_features)`
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/random_forest.rs:29:12
   |
29 |     pub fn classifier(n_trees: usize) -> Self {
   |            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
29 ~     #[must_use] 
30 ~     pub fn classifier(n_trees: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/random_forest.rs:41:12
   |
41 |     pub fn regressor(n_trees: usize) -> Self {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
41 ~     #[must_use] 
42 ~     pub fn regressor(n_trees: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/random_forest.rs:53:12
   |
53 |     pub fn with_max_depth(mut self, depth: usize) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
53 ~     #[must_use] 
54 ~     pub fn with_max_depth(mut self, depth: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/random_forest.rs:53:5
   |
53 | /     pub fn with_max_depth(mut self, depth: usize) -> Self {
54 | |         self.max_depth = depth;
55 | |         self
56 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/ml/random_forest.rs:59:12
   |
59 |     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
   |            ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
59 ~     #[must_use] 
60 ~     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/random_forest.rs:59:5
   |
59 | /     pub fn with_min_samples_split(mut self, samples: usize) -> Self {
60 | |         self.min_samples_split = samples;
61 | |         self
62 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/ml/random_forest.rs:65:12
   |
65 |     pub fn with_max_features(mut self, max_features: MaxFeatures) -> Self {
   |            ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
65 ~     #[must_use] 
66 ~     pub fn with_max_features(mut self, max_features: MaxFeatures) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/random_forest.rs:65:5
   |
65 | /     pub fn with_max_features(mut self, max_features: MaxFeatures) -> Self {
66 | |         self.max_features = max_features;
67 | |         self
68 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/random_forest.rs:71:5
   |
71 |     pub fn train(&mut self, data: &[Vec<f64>], labels: &[f64]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `usize` may truncate the value
  --> src/ml/random_forest.rs:88:34
   |
88 |             MaxFeatures::Sqrt => (n_features as f64).sqrt().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
  --> src/ml/random_forest.rs:88:34
   |
88 |             MaxFeatures::Sqrt => (n_features as f64).sqrt().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/ml/random_forest.rs:88:34
   |
88 |             MaxFeatures::Sqrt => (n_features as f64).sqrt().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
  --> src/ml/random_forest.rs:89:34
   |
89 |             MaxFeatures::Log2 => (n_features as f64).log2().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
  --> src/ml/random_forest.rs:89:34
   |
89 |             MaxFeatures::Log2 => (n_features as f64).log2().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/ml/random_forest.rs:89:34
   |
89 |             MaxFeatures::Log2 => (n_features as f64).log2().ceil() as usize,
   |                                  ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/ml/random_forest.rs:127:9
    |
127 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/ml/random_forest.rs:145:24
    |
145 |     fn random_features(&self, n_features: usize, max_features: usize, seed: usize) -> Vec<usize> {
    |                        ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: used `sort` on primitive type `usize`
   --> src/ml/random_forest.rs:155:9
    |
155 |         indices.sort();
    |         ^^^^^^^^^^^^^^ help: try: `indices.sort_unstable()`
    |
    = note: an unstable sort typically performs faster without any observable difference for this data type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#stable_sort_primitive
    = note: `-W clippy::stable-sort-primitive` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::stable_sort_primitive)]`

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/random_forest.rs:160:5
    |
160 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/ml/random_forest.rs:174:31
    |
174 |             let (&class, _) = votes.iter().max_by_key(|(_, &count)| count).unwrap();
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/random_forest.rs:160:5
    |
160 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/random_forest.rs:170:34
    |
170 |                 let prediction = tree.predict(sample)? as i32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/random_forest.rs:175:16
    |
175 |             Ok(class as f64)
    |                ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
175 -             Ok(class as f64)
175 +             Ok(f64::from(class))
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/random_forest.rs:184:22
    |
184 |             Ok(sum / self.trees.len() as f64)
    |                      ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/random_forest.rs:189:5
    |
189 |     pub fn predict_proba(&self, sample: &[f64]) -> Result<HashMap<i32, f64>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/random_forest.rs:203:30
    |
203 |             let prediction = tree.predict(sample)? as i32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/random_forest.rs:207:23
    |
207 |         let n_trees = self.trees.len() as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/random_forest.rs:210:43
    |
210 |             .map(|(class, count)| (class, count as f64 / n_trees))
    |                                           ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
   --> src/ml/random_forest.rs:217:12
    |
217 |     pub fn n_trees(&self) -> usize {
    |            ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
217 ~     #[must_use] 
218 ~     pub fn n_trees(&self) -> usize {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/ml/random_forest.rs:222:12
    |
222 |     pub fn feature_importances(&self, n_features: usize) -> Vec<f64> {
    |            ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
222 ~     #[must_use] 
223 ~     pub fn feature_importances(&self, n_features: usize) -> Vec<f64> {
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/random_forest.rs:223:20
    |
223 |         vec![1.0 / n_features as f64; n_features]
    |                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
  --> src/ml/knearest.rs:23:12
   |
23 |     pub fn classifier(k: usize) -> Self {
   |            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
23 ~     #[must_use] 
24 ~     pub fn classifier(k: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/knearest.rs:34:12
   |
34 |     pub fn regressor(k: usize) -> Self {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
34 ~     #[must_use] 
35 ~     pub fn regressor(k: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/knearest.rs:45:12
   |
45 |     pub fn with_algorithm(mut self, algorithm: Algorithm) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
45 ~     #[must_use] 
46 ~     pub fn with_algorithm(mut self, algorithm: Algorithm) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/knearest.rs:45:5
   |
45 | /     pub fn with_algorithm(mut self, algorithm: Algorithm) -> Self {
46 | |         self.algorithm = algorithm;
47 | |         self
48 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/ml/knearest.rs:51:12
   |
51 |     pub fn with_k(mut self, k: usize) -> Self {
   |            ^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
51 ~     #[must_use] 
52 ~     pub fn with_k(mut self, k: usize) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/ml/knearest.rs:51:5
   |
51 | /     pub fn with_k(mut self, k: usize) -> Self {
52 | |         self.k = k;
53 | |         self
54 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/knearest.rs:57:5
   |
57 |     pub fn train(&mut self, data: &[Vec<f64>], labels: &[f64]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/knearest.rs:81:5
    |
 81 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/ml/knearest.rs:99:31
    |
 99 |               let (&class, _) = votes
    |  _______________________________^
100 | |                 .iter()
101 | |                 .max_by(|(_, a), (_, b)| a.partial_cmp(b).unwrap())
102 | |                 .unwrap();
    | |_________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/knearest.rs:81:5
   |
81 |     pub fn predict(&self, sample: &[f64]) -> Result<f64> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
  --> src/ml/knearest.rs:96:30
   |
96 |                 *votes.entry(label as i32).or_insert(0.0) += weight;
   |                              ^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/knearest.rs:104:16
    |
104 |             Ok(class as f64)
    |                ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
104 -             Ok(class as f64)
104 +             Ok(f64::from(class))
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/knearest.rs:131:5
    |
131 |     fn brute_force_search(&self, sample: &[f64]) -> Result<Vec<(f64, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
131 -     fn brute_force_search(&self, sample: &[f64]) -> Result<Vec<(f64, f64)>> {
131 +     fn brute_force_search(&self, sample: &[f64]) -> std::vec::Vec<(f64, f64)> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
147 ~         distances
148 +             .into_iter()
149 +             .take(self.k)
150 +             .map(|(dist, label, _)| (label, dist))
151 +             .collect()
    |

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/knearest.rs:155:5
    |
155 |     pub fn find_nearest(&self, sample: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/ml/knearest.rs:167:34
    |
167 |         distances.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/knearest.rs:155:5
    |
155 |     pub fn find_nearest(&self, sample: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/knearest.rs:172:5
    |
172 |     pub fn predict_with_distance(&self, sample: &[f64], distance_fn: DistanceMetric) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/ml/knearest.rs:196:34
    |
196 |         distances.sort_by(|a, b| a.0.partial_cmp(&b.0).unwrap());
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/knearest.rs:172:5
    |
172 |     pub fn predict_with_distance(&self, sample: &[f64], distance_fn: DistanceMetric) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/knearest.rs:208:30
    |
208 |                 *votes.entry(label as i32).or_insert(0.0) += weight;
    |                              ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/knearest.rs:216:16
    |
216 |             Ok(class as f64)
    |                ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
216 -             Ok(class as f64)
216 +             Ok(f64::from(class))
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/knearest.rs:231:5
    |
231 |     fn predict_with_minkowski(&self, sample: &[f64], p: f64) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
231 -     fn predict_with_minkowski(&self, sample: &[f64], p: f64) -> Result<f64> {
231 +     fn predict_with_minkowski(&self, sample: &[f64], p: f64) -> f64 {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
257 ~             class as f64
258 |         } else {
259 |             let sum: f64 = neighbors.iter().map(|(label, _)| label).sum();
260 ~             sum / neighbors.len() as f64
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/ml/knearest.rs:253:30
    |
253 |                 *votes.entry(label as i32).or_insert(0) += 1;
    |                              ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/ml/knearest.rs:257:16
    |
257 |             Ok(class as f64)
    |                ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
257 -             Ok(class as f64)
257 +             Ok(f64::from(class))
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/knearest.rs:260:22
    |
260 |             Ok(sum / neighbors.len() as f64)
    |                      ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function which may panic missing `# Panics` section
  --> src/ml/ann.rs:24:5
   |
24 |     pub fn new(layer_sizes: Vec<usize>) -> Self {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/ml/ann.rs:26:13
   |
26 |             panic!("Network must have at least input and output layers");
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: this method could have a `#[must_use]` attribute
  --> src/ml/ann.rs:24:12
   |
24 |     pub fn new(layer_sizes: Vec<usize>) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
24 ~     #[must_use] 
25 ~     pub fn new(layer_sizes: Vec<usize>) -> Self {
   |

warning: only a `panic!` in `if`-then statement
  --> src/ml/ann.rs:25:9
   |
25 | /         if layer_sizes.len() < 2 {
26 | |             panic!("Network must have at least input and output layers");
27 | |         }
   | |_________^ help: try instead: `assert!(layer_sizes.len() >= 2, "Network must have at least input and output layers");`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_assert
   = note: `-W clippy::manual-assert` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::manual_assert)]`

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/ml/ann.rs:41:32
   |
41 |             let scale = (2.0 / (cols + rows) as f64).sqrt();
   |                                ^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the loop variable `col` is only used to index `layer_weights`
  --> src/ml/ann.rs:44:28
   |
44 |                 for col in 0..cols {
   |                            ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator
   |
44 -                 for col in 0..cols {
44 +                 for <item> in layer_weights.iter_mut().take(cols) {
   |

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/ann.rs:75:5
    |
 75 | /     pub fn train(
 76 | |         &mut self,
 77 | |         inputs: &[Vec<f64>],
 78 | |         outputs: &[Vec<f64>],
 79 | |         epochs: usize,
 80 | |     ) -> Result<()> {
    | |___________________^
    |
note: first possible panic found here
   --> src/ml/ann.rs:104:37
    |
104 |                 if target.len() != *self.layer_sizes.last().unwrap() {
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/ann.rs:75:5
   |
75 | /     pub fn train(
76 | |         &mut self,
77 | |         inputs: &[Vec<f64>],
78 | |         outputs: &[Vec<f64>],
79 | |         epochs: usize,
80 | |     ) -> Result<()> {
   | |___________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/ann.rs:128:45
    |
128 |                 let avg_loss = total_loss / (inputs.len() * outputs[0].len()) as f64;
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function which may panic missing `# Panics` section
   --> src/ml/ann.rs:138:5
    |
138 |     pub fn predict(&self, input: &[f64]) -> Result<Vec<f64>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/ml/ann.rs:148:12
    |
148 |         Ok(activations.last().unwrap().clone())
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/ann.rs:138:5
    |
138 |     pub fn predict(&self, input: &[f64]) -> Result<Vec<f64>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/ml/ann.rs:151:46
    |
151 |     fn forward_pass(&self, input: &[f64]) -> Result<(Vec<Vec<f64>>, Vec<Vec<f64>>)> {
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/ann.rs:151:5
    |
151 |     fn forward_pass(&self, input: &[f64]) -> Result<(Vec<Vec<f64>>, Vec<Vec<f64>>)> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
151 -     fn forward_pass(&self, input: &[f64]) -> Result<(Vec<Vec<f64>>, Vec<Vec<f64>>)> {
151 +     fn forward_pass(&self, input: &[f64]) -> (std::vec::Vec<std::vec::Vec<f64>>, std::vec::Vec<std::vec::Vec<f64>>) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
174 -         Ok((activations, pre_activations))
174 +         (activations, pre_activations)
    |

warning: the loop variable `i` is used to index `z`
   --> src/ml/ann.rs:160:22
    |
160 |             for i in 0..self.weights[layer].len() {
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
160 -             for i in 0..self.weights[layer].len() {
160 +             for (i, <item>) in z.iter_mut().enumerate().take(self.weights[layer].len()) {
    |

warning: the loop variable `j` is used to index `prev_activation`
   --> src/ml/ann.rs:162:26
    |
162 |                 for j in 0..self.weights[layer][i].len() {
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
162 -                 for j in 0..self.weights[layer][i].len() {
162 +                 for (j, <item>) in prev_activation.iter().enumerate().take(self.weights[layer][i].len()) {
    |

warning: this function's return value is unnecessary
   --> src/ml/ann.rs:177:5
    |
177 | /     fn backward_pass(
178 | |         &mut self,
179 | |         activations: &[Vec<f64>],
180 | |         pre_activations: &[Vec<f64>],
181 | |         target: &[f64],
182 | |     ) -> Result<()> {
    | |___________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove the return type...
    |
182 -     ) -> Result<()> {
182 +     ) -> () {
    |
help: ...and then remove returned values
    |
220 -         Ok(())
    |

warning: the loop variable `i` is used to index `delta`
   --> src/ml/ann.rs:197:22
    |
197 |             for i in 0..self.weights[layer].len() {
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
197 -             for i in 0..self.weights[layer].len() {
197 +             for (i, <item>) in delta.iter().enumerate().take(self.weights[layer].len()) {
    |

warning: the loop variable `j` is used to index `activations`
   --> src/ml/ann.rs:198:26
    |
198 |                 for j in 0..self.weights[layer][i].len() {
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
198 -                 for j in 0..self.weights[layer][i].len() {
198 +                 for (j, <item>) in activations.iter().enumerate().take(self.weights[layer][i].len()) {
    |

warning: the loop variable `i` is used to index `delta`
   --> src/ml/ann.rs:210:30
    |
210 |                     for i in 0..self.weights[layer].len() {
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
210 -                     for i in 0..self.weights[layer].len() {
210 +                     for (i, <item>) in delta.iter().enumerate().take(self.weights[layer].len()) {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/ml/ann.rs:266:12
    |
266 |     pub fn get_weights(&self) -> Vec<Vec<Vec<f64>>> {
    |            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
266 ~     #[must_use] 
267 ~     pub fn get_weights(&self) -> Vec<Vec<Vec<f64>>> {
    |

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/ann.rs:283:9
    |
283 |         ((RAND_SEED / 65536) % 32768) as f64 / 32768.0
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: item in documentation is missing backticks
 --> src/ml/boost.rs:3:5
  |
3 | /// AdaBoost classifier
  |     ^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
3 - /// AdaBoost classifier
3 + /// `AdaBoost` classifier
  |

warning: item in documentation is missing backticks
  --> src/ml/boost.rs:19:20
   |
19 |     /// Create new AdaBoost classifier
   |                    ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
19 -     /// Create new AdaBoost classifier
19 +     /// Create new `AdaBoost` classifier
   |

warning: this method could have a `#[must_use]` attribute
  --> src/ml/boost.rs:20:12
   |
20 |     pub fn new(num_iterations: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
20 ~     #[must_use] 
21 ~     pub fn new(num_iterations: usize) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/boost.rs:30:5
   |
30 |     pub fn train(&mut self, features: &[Vec<f64>], labels: &[i32]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/ml/boost.rs:45:38
   |
45 |         let mut weights = vec![1.0 / n_samples as f64; n_samples];
   |                                      ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/ml/boost.rs:81:5
   |
81 |     pub fn predict(&self, features: &[f64]) -> Result<i32> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/ml/boost.rs:89:30
   |
89 |             score += alpha * classifier.predict(features) as f64;
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
89 -             score += alpha * classifier.predict(features) as f64;
89 +             score += alpha * f64::from(classifier.predict(features));
   |

warning: unused `self` argument
  --> src/ml/boost.rs:96:9
   |
96 |         &self,
   |         ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/boost.rs:95:5
    |
 95 | /     fn find_best_weak_classifier(
 96 | |         &self,
 97 | |         features: &[Vec<f64>],
 98 | |         labels: &[i32],
 99 | |         weights: &[f64],
100 | |         n_features: usize,
101 | |     ) -> Result<(WeakClassifier, f64)> {
    | |______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
101 -     ) -> Result<(WeakClassifier, f64)> {
101 +     ) -> (ml::boost::WeakClassifier, f64) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
144 -         Ok((best_classifier, best_error))
144 +         (best_classifier, best_error)
    |

warning: manual implementation of `midpoint` which can overflow
   --> src/ml/boost.rs:117:33
    |
117 |                 let threshold = (values[i] + values[i + 1]) / 2.0;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `f64::midpoint` instead: `f64::midpoint(values[i], values[i + 1])`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: this method could have a `#[must_use]` attribute
   --> src/ml/boost.rs:180:12
    |
180 |     pub fn new(num_iterations: usize, learning_rate: f64, max_depth: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
180 ~     #[must_use] 
181 ~     pub fn new(num_iterations: usize, learning_rate: f64, max_depth: usize) -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/boost.rs:192:5
    |
192 |     pub fn train(&mut self, features: &[Vec<f64>], targets: &[f64]) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:204:62
    |
204 |         self.init_prediction = targets.iter().sum::<f64>() / targets.len() as f64;
    |                                                              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/ml/boost.rs:233:5
    |
233 |     pub fn predict(&self, features: &[f64]) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:255:55
    |
255 |             let value = targets.iter().sum::<f64>() / targets.len() as f64;
    |                                                       ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:270:55
    |
270 |             let value = targets.iter().sum::<f64>() / targets.len() as f64;
    |                                                       ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/ml/boost.rs:298:9
    |
298 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/ml/boost.rs:297:5
    |
297 | /     fn find_best_split(
298 | |         &self,
299 | |         features: &[Vec<f64>],
300 | |         targets: &[f64],
301 | |     ) -> Result<(usize, f64, f64)> {
    | |__________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
301 -     ) -> Result<(usize, f64, f64)> {
301 +     ) -> (usize, f64, f64) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
303 ~             return (0, 0.0, 0.0);
304 |         }
...
354 |
355 ~         (best_feature, best_threshold, best_gain)
    |

warning: manual implementation of `midpoint` which can overflow
   --> src/ml/boost.rs:323:33
    |
323 |                 let threshold = (values[i].0 + values[i + 1].0) / 2.0;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `f64::midpoint` instead: `f64::midpoint(values[i].0, values[i + 1].0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:341:37
    |
341 |                 let weighted_var = (left_targets.len() as f64 * left_var
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:342:23
    |
342 |                     + right_targets.len() as f64 * right_var)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:343:23
    |
343 |                     / targets.len() as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/ml/boost.rs:359:9
    |
359 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/ml/boost.rs:364:10
    |
364 |     ) -> (Vec<Vec<f64>>, Vec<f64>, Vec<Vec<f64>>, Vec<f64>) {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:403:45
    |
403 |     let mean = values.iter().sum::<f64>() / values.len() as f64;
    |                                             ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/ml/boost.rs:404:63
    |
404 |     values.iter().map(|&v| (v - mean).powi(2)).sum::<f64>() / values.len() as f64
    |                                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: the following explicit lifetimes could be elided: 'a
   --> src/ml/boost.rs:417:6
    |
417 | impl<'a, T> PartitionMapExt for std::slice::Iter<'a, T> {
    |      ^^                                          ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#elidable_lifetime_names
    = note: `-W clippy::elidable-lifetime-names` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::elidable_lifetime_names)]`
help: elide the lifetimes
    |
417 - impl<'a, T> PartitionMapExt for std::slice::Iter<'a, T> {
417 + impl<T> PartitionMapExt for std::slice::Iter<'_, T> {
    |

warning: this method could have a `#[must_use]` attribute
  --> src/objdetect/hog.rs:16:12
   |
16 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
16 ~     #[must_use] 
17 ~     pub fn new() -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/hog.rs:27:5
   |
27 |     pub fn compute(&self, img: &Mat) -> Result<Vec<f32>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> src/objdetect/hog.rs:35:9
   |
35 |         use crate::imgproc::sobel;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/objdetect/hog.rs:49:26
   |
49 |                 let gx = grad_x.at(row, col)?[0] as f32;
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
49 -                 let gx = grad_x.at(row, col)?[0] as f32;
49 +                 let gx = f32::from(grad_x.at(row, col)?[0]);
   |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/objdetect/hog.rs:50:26
   |
50 |                 let gy = grad_y.at(row, col)?[0] as f32;
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
50 -                 let gy = grad_y.at(row, col)?[0] as f32;
50 +                 let gy = f32::from(grad_y.at(row, col)?[0]);
   |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/objdetect/hog.rs:64:29
   |
64 |         let num_blocks_y = (img.rows() as i32 - self.block_size.height) / self.block_stride.height + 1;
   |                             ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
64 -         let num_blocks_y = (img.rows() as i32 - self.block_size.height) / self.block_stride.height + 1;
64 +         let num_blocks_y = (i32::try_from(img.rows()) - self.block_size.height) / self.block_stride.height + 1;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/objdetect/hog.rs:64:29
   |
64 |         let num_blocks_y = (img.rows() as i32 - self.block_size.height) / self.block_stride.height + 1;
   |                             ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/objdetect/hog.rs:65:29
   |
65 |         let num_blocks_x = (img.cols() as i32 - self.block_size.width) / self.block_stride.width + 1;
   |                             ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
65 -         let num_blocks_x = (img.cols() as i32 - self.block_size.width) / self.block_stride.width + 1;
65 +         let num_blocks_x = (i32::try_from(img.cols()) - self.block_size.width) / self.block_stride.width + 1;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/objdetect/hog.rs:65:29
   |
65 |         let num_blocks_x = (img.cols() as i32 - self.block_size.width) / self.block_stride.width + 1;
   |                             ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/hog.rs:83:29
   |
83 | ...                   cell_start_x as usize,
   |                       ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/hog.rs:84:29
   |
84 | ...                   cell_start_y as usize,
   |                       ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/objdetect/hog.rs:114:29
    |
114 |         let angle_per_bin = PI as f32 / self.nbins as f32;
    |                             ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/hog.rs:114:41
    |
114 |         let angle_per_bin = PI as f32 / self.nbins as f32;
    |                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/objdetect/hog.rs:116:38
    |
116 |         for y in start_y..(start_y + self.cell_size.height as usize) {
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/objdetect/hog.rs:117:42
    |
117 |             for x in start_x..(start_x + self.cell_size.width as usize) {
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f64` to `f32` may truncate the value
   --> src/objdetect/hog.rs:124:34
    |
124 |                         angle += PI as f32;
    |                                  ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may truncate the value
   --> src/objdetect/hog.rs:128:35
    |
128 |                     let bin_idx = (angle / angle_per_bin) as usize;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/objdetect/hog.rs:128:35
    |
128 |                     let bin_idx = (angle / angle_per_bin) as usize;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/objdetect/hog.rs:140:5
    |
140 | /     pub fn detect_multi_scale(
141 | |         &self,
142 | |         img: &Mat,
143 | |         hit_threshold: f64,
144 | |         win_stride: Size,
145 | |         scale: f64,
146 | |     ) -> Result<Vec<Rect>> {
    | |__________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/hog.rs:156:26
    |
156 |             for y in (0..img.rows() as i32).step_by(stride_y as usize) {
    |                          ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
156 -             for y in (0..img.rows() as i32).step_by(stride_y as usize) {
156 +             for y in (0..i32::try_from(img.rows())).step_by(stride_y as usize) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/hog.rs:156:26
    |
156 |             for y in (0..img.rows() as i32).step_by(stride_y as usize) {
    |                          ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/objdetect/hog.rs:156:53
    |
156 |             for y in (0..img.rows() as i32).step_by(stride_y as usize) {
    |                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/hog.rs:157:30
    |
157 |                 for x in (0..img.cols() as i32).step_by(stride_x as usize) {
    |                              ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
157 -                 for x in (0..img.cols() as i32).step_by(stride_x as usize) {
157 +                 for x in (0..i32::try_from(img.cols())).step_by(stride_x as usize) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/hog.rs:157:30
    |
157 |                 for x in (0..img.cols() as i32).step_by(stride_x as usize) {
    |                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/objdetect/hog.rs:157:57
    |
157 |                 for x in (0..img.cols() as i32).step_by(stride_x as usize) {
    |                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/hog.rs:158:51
    |
158 |                     if x + self.win_size.width <= img.cols() as i32
    |                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
158 -                     if x + self.win_size.width <= img.cols() as i32
158 +                     if x + self.win_size.width <= i32::try_from(img.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/hog.rs:158:51
    |
158 |                     if x + self.win_size.width <= img.cols() as i32
    |                                                   ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/hog.rs:159:56
    |
159 |                         && y + self.win_size.height <= img.rows() as i32
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
159 -                         && y + self.win_size.height <= img.rows() as i32
159 +                         && y + self.win_size.height <= i32::try_from(img.rows())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/hog.rs:159:56
    |
159 |                         && y + self.win_size.height <= img.rows() as i32
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/objdetect/hog.rs:170:28
    |
170 |                         if energy as f64 > hit_threshold {
    |                            ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
170 -                         if energy as f64 > hit_threshold {
170 +                         if f64::from(energy) > hit_threshold {
    |

warning: this method could have a `#[must_use]` attribute
  --> src/objdetect/cascade.rs:11:12
   |
11 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
11 ~     #[must_use] 
12 ~     pub fn new() -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/cascade.rs:16:5
   |
16 |     pub fn load(&mut self, _filename: &str) -> Result<bool> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/cascade.rs:23:5
   |
23 | /     pub fn detect_multi_scale(
24 | |         &self,
25 | |         image: &Mat,
26 | |         scale_factor: f64,
...  |
29 | |         max_size: (i32, i32),
30 | |     ) -> Result<Vec<Rect>> {
   | |__________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/objdetect/cascade.rs:58:26
   |
58 |             for y in (0..image.rows() as i32 - current_size.1).step_by(step) {
   |                          ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
58 -             for y in (0..image.rows() as i32 - current_size.1).step_by(step) {
58 +             for y in (0..i32::try_from(image.rows()) - current_size.1).step_by(step) {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/objdetect/cascade.rs:58:26
   |
58 |             for y in (0..image.rows() as i32 - current_size.1).step_by(step) {
   |                          ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/objdetect/cascade.rs:59:30
   |
59 |                 for x in (0..image.cols() as i32 - current_size.0).step_by(step) {
   |                              ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
59 -                 for x in (0..image.cols() as i32 - current_size.0).step_by(step) {
59 +                 for x in (0..i32::try_from(image.cols()) - current_size.0).step_by(step) {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/objdetect/cascade.rs:59:30
   |
59 |                 for x in (0..image.cols() as i32 - current_size.0).step_by(step) {
   |                              ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `i32` may truncate the value
  --> src/objdetect/cascade.rs:69:30
   |
69 |             current_size.0 = (current_size.0 as f64 * scale_factor) as i32;
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/objdetect/cascade.rs:69:31
   |
69 |             current_size.0 = (current_size.0 as f64 * scale_factor) as i32;
   |                               ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
69 -             current_size.0 = (current_size.0 as f64 * scale_factor) as i32;
69 +             current_size.0 = (f64::from(current_size.0) * scale_factor) as i32;
   |

warning: casting `f64` to `i32` may truncate the value
  --> src/objdetect/cascade.rs:70:30
   |
70 |             current_size.1 = (current_size.1 as f64 * scale_factor) as i32;
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/objdetect/cascade.rs:70:31
   |
70 |             current_size.1 = (current_size.1 as f64 * scale_factor) as i32;
   |                               ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
70 -             current_size.1 = (current_size.1 as f64 * scale_factor) as i32;
70 +             current_size.1 = (f64::from(current_size.1) * scale_factor) as i32;
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/cascade.rs:74:57
   |
74 |         let grouped = group_rectangles(&mut detections, min_neighbors as usize);
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: unused `self` argument
  --> src/objdetect/cascade.rs:80:9
   |
80 |         &self,
   |         ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
  --> src/objdetect/cascade.rs:79:5
   |
79 | /     fn check_window(
80 | |         &self,
81 | |         integral: &[Vec<u64>],
82 | |         window: Rect,
83 | |         rows: usize,
84 | |         cols: usize,
85 | |     ) -> Result<bool> {
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
   |
85 -     ) -> Result<bool> {
85 +     ) -> bool {
   |
help: ...and then remove the surrounding `Ok()` from returning expressions
   |
95 ~             return false;
96 |         }
...
106|         // Simple threshold
107~         diff > 1000
   |

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/cascade.rs:89:18
   |
89 |         let x1 = window.x as usize;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/cascade.rs:90:18
   |
90 |         let y1 = window.y as usize;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/cascade.rs:91:18
   |
91 |         let x2 = (window.x + window.width) as usize;
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/objdetect/cascade.rs:92:18
   |
92 |         let y2 = (window.y + window.height) as usize;
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: manual implementation of `midpoint` which can overflow
  --> src/objdetect/cascade.rs:99:21
   |
99 |         let mid_x = (x1 + x2) / 2;
   |                     ^^^^^^^^^^^^^ help: use `usize::midpoint` instead: `usize::midpoint(x1, x2)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: casting `u64` to `i64` may wrap around the value
   --> src/objdetect/cascade.rs:104:21
    |
104 |         let diff = (left_sum as i64 - right_sum as i64).abs();
    |                     ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `u64` to `i64` may wrap around the value
   --> src/objdetect/cascade.rs:104:39
    |
104 |         let diff = (left_sum as i64 - right_sum as i64).abs();
    |                                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `u64` can be expressed infallibly using `From`
   --> src/objdetect/cascade.rs:124:23
    |
124 |             let val = pixel[0] as u64;
    |                       ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `u64::from` instead
    |
124 -             let val = pixel[0] as u64;
124 +             let val = u64::from(pixel[0]);
    |

warning: writing `&mut Vec` instead of `&mut [_]` involves a new object where a slice will do
   --> src/objdetect/cascade.rs:148:28
    |
148 | fn group_rectangles(rects: &mut Vec<Rect>, min_neighbors: usize) -> Vec<Rect> {
    |                            ^^^^^^^^^^^^^^ help: change this to: `&mut [Rect]`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#ptr_arg
    = note: `#[warn(clippy::ptr_arg)]` on by default

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/cascade.rs:178:66
    |
178 |             let avg_x = group.iter().map(|r| r.x).sum::<i32>() / group.len() as i32;
    |                                                                  ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
178 -             let avg_x = group.iter().map(|r| r.x).sum::<i32>() / group.len() as i32;
178 +             let avg_x = group.iter().map(|r| r.x).sum::<i32>() / i32::try_from(group.len());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/cascade.rs:178:66
    |
178 |             let avg_x = group.iter().map(|r| r.x).sum::<i32>() / group.len() as i32;
    |                                                                  ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/cascade.rs:179:66
    |
179 |             let avg_y = group.iter().map(|r| r.y).sum::<i32>() / group.len() as i32;
    |                                                                  ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
179 -             let avg_y = group.iter().map(|r| r.y).sum::<i32>() / group.len() as i32;
179 +             let avg_y = group.iter().map(|r| r.y).sum::<i32>() / i32::try_from(group.len());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/cascade.rs:179:66
    |
179 |             let avg_y = group.iter().map(|r| r.y).sum::<i32>() / group.len() as i32;
    |                                                                  ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/cascade.rs:180:70
    |
180 |             let avg_w = group.iter().map(|r| r.width).sum::<i32>() / group.len() as i32;
    |                                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
180 -             let avg_w = group.iter().map(|r| r.width).sum::<i32>() / group.len() as i32;
180 +             let avg_w = group.iter().map(|r| r.width).sum::<i32>() / i32::try_from(group.len());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/cascade.rs:180:70
    |
180 |             let avg_w = group.iter().map(|r| r.width).sum::<i32>() / group.len() as i32;
    |                                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/cascade.rs:181:71
    |
181 |             let avg_h = group.iter().map(|r| r.height).sum::<i32>() / group.len() as i32;
    |                                                                       ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
181 -             let avg_h = group.iter().map(|r| r.height).sum::<i32>() / group.len() as i32;
181 +             let avg_h = group.iter().map(|r| r.height).sum::<i32>() / i32::try_from(group.len());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/cascade.rs:181:71
    |
181 |             let avg_h = group.iter().map(|r| r.height).sum::<i32>() / group.len() as i32;
    |                                                                       ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
  --> src/objdetect/qr_detector.rs:12:12
   |
12 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
12 ~     #[must_use] 
13 ~     pub fn new() -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/qr_detector.rs:17:5
   |
17 |     pub fn detect(&self, image: &Mat) -> Result<Option<Vec<Point2f>>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/qr_detector.rs:38:5
   |
38 |     pub fn detect_and_decode(&self, image: &Mat) -> Result<Option<(String, Vec<Point2f>)>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this could be rewritten as `let...else`
  --> src/objdetect/qr_detector.rs:39:9
   |
39 | /         let corners = match self.detect(image)? {
40 | |             Some(c) => c,
41 | |             None => return Ok(None),
42 | |         };
   | |__________^ help: consider writing: `let Some(corners) = self.detect(image)? else { return Ok(None) };`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_let_else
   = note: `-W clippy::manual-let-else` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::manual_let_else)]`

warning: docs for function returning `Result` missing `# Errors` section
  --> src/objdetect/qr_detector.rs:51:5
   |
51 |     pub fn detect_multi(&self, image: &Mat) -> Result<Vec<Vec<Point2f>>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `usize` may truncate the value
  --> src/objdetect/qr_detector.rs:75:28
   |
75 |                     col += size as usize * 2;
   |                            ^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/objdetect/qr_detector.rs:75:28
   |
75 |                     col += size as usize * 2;
   |                            ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: manual implementation of `midpoint` which can overflow
   --> src/objdetect/qr_detector.rs:107:20
    |
107 |           let size = (horizontal_ratio.iter().sum::<usize>() + vertical_ratio.iter().sum::<usize>())
    |  ____________________^
108 | |             / 2;
    | |_______________^ help: use `usize::midpoint` instead: `usize::midpoint(horizontal_ratio.iter().sum::<usize>(), vertical_ratio.iter().sum::<usize>())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:111:34
    |
111 |             center: Point2f::new(col as f32, row as f32),
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:111:46
    |
111 |             center: Point2f::new(col as f32, row as f32),
    |                                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:112:19
    |
112 |             size: size as f32,
    |                   ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/objdetect/qr_detector.rs:117:9
    |
117 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/objdetect/qr_detector.rs:159:32
    |
159 |     fn is_finder_pattern_ratio(&self, state_counts: &[usize]) -> bool {
    |                                ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:169:27
    |
169 |         let module_size = total as f32 / 7.0;
    |                           ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:173:10
    |
173 |         (state_counts[0] as f32 - module_size).abs() < variance
    |          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:174:17
    |
174 |             && (state_counts[1] as f32 - module_size).abs() < variance
    |                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:175:17
    |
175 |             && (state_counts[2] as f32 - 3.0 * module_size).abs() < 3.0 * variance
    |                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:176:17
    |
176 |             && (state_counts[3] as f32 - module_size).abs() < variance
    |                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/qr_detector.rs:177:17
    |
177 |             && (state_counts[4] as f32 - module_size).abs() < variance
    |                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/objdetect/qr_detector.rs:180:24
    |
180 |     fn filter_patterns(&self, mut patterns: Vec<FinderPattern>) -> Result<Vec<FinderPattern>> {
    |                        ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/objdetect/qr_detector.rs:180:5
    |
180 |     fn filter_patterns(&self, mut patterns: Vec<FinderPattern>) -> Result<Vec<FinderPattern>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
180 -     fn filter_patterns(&self, mut patterns: Vec<FinderPattern>) -> Result<Vec<FinderPattern>> {
180 +     fn filter_patterns(&self, mut patterns: Vec<FinderPattern>) -> std::vec::Vec<objdetect::qr_detector::FinderPattern> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
182 ~             return patterns;
183 |         }
...
208 |
209 ~         filtered
    |

warning: unused `self` argument
   --> src/objdetect/qr_detector.rs:212:27
    |
212 |     fn compute_qr_corners(&self, patterns: &[FinderPattern]) -> Result<Vec<Point2f>> {
    |                           ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/objdetect/qr_detector.rs:231:18
    |
231 |     fn decode_qr(&self, _image: &Mat, _corners: &[Point2f]) -> Result<String> {
    |                  ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/objdetect/qr_detector.rs:231:5
    |
231 |     fn decode_qr(&self, _image: &Mat, _corners: &[Point2f]) -> Result<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
231 -     fn decode_qr(&self, _image: &Mat, _corners: &[Point2f]) -> Result<String> {
231 +     fn decode_qr(&self, _image: &Mat, _corners: &[Point2f]) -> std::string::String {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
240 -         Ok("QR_CODE_DATA".to_string())
240 +         "QR_CODE_DATA".to_string()
    |

warning: item in documentation is missing backticks
 --> src/objdetect/aruco.rs:5:5
  |
5 | /// ArUco marker dictionary types
  |     ^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
  |
5 - /// ArUco marker dictionary types
5 + /// `ArUco` marker dictionary types
  |

warning: this method could have a `#[must_use]` attribute
  --> src/objdetect/aruco.rs:23:12
   |
23 |     pub fn marker_size(&self) -> usize {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
23 ~     #[must_use] 
24 ~     pub fn marker_size(&self) -> usize {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/objdetect/aruco.rs:40:12
   |
40 |     pub fn dict_size(&self) -> usize {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
40 ~     #[must_use] 
41 ~     pub fn dict_size(&self) -> usize {
   |

warning: item in documentation is missing backticks
  --> src/objdetect/aruco.rs:58:14
   |
58 | /// Detected ArUco marker
   |              ^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
58 - /// Detected ArUco marker
58 + /// Detected `ArUco` marker
   |

warning: item in documentation is missing backticks
  --> src/objdetect/aruco.rs:65:5
   |
65 | /// ArUco detector parameters
   |     ^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
65 - /// ArUco detector parameters
65 + /// `ArUco` detector parameters
   |

warning: item in documentation is missing backticks
  --> src/objdetect/aruco.rs:99:5
   |
99 | /// ArUco detector
   |     ^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
99 - /// ArUco detector
99 + /// `ArUco` detector
   |

warning: this method could have a `#[must_use]` attribute
   --> src/objdetect/aruco.rs:107:12
    |
107 |     pub fn new(dictionary: ArucoDictionary) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
107 ~     #[must_use] 
108 ~     pub fn new(dictionary: ArucoDictionary) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/objdetect/aruco.rs:115:12
    |
115 |     pub fn with_params(dictionary: ArucoDictionary, parameters: ArucoDetectorParameters) -> Self {
    |            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
115 ~     #[must_use] 
116 ~     pub fn with_params(dictionary: ArucoDictionary, parameters: ArucoDetectorParameters) -> Self {
    |

warning: item in documentation is missing backticks
   --> src/objdetect/aruco.rs:122:16
    |
122 |     /// Detect ArUco markers in image
    |                ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
122 -     /// Detect ArUco markers in image
122 +     /// Detect `ArUco` markers in image
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/objdetect/aruco.rs:123:5
    |
123 |     pub fn detect_markers(&self, image: &Mat) -> Result<Vec<ArucoMarker>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: unused `self` argument
   --> src/objdetect/aruco.rs:184:22
    |
184 |     fn find_contours(&self, image: &Mat) -> Result<Vec<Vec<Point>>> {
    |                      ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/objdetect/aruco.rs:184:5
    |
184 |     fn find_contours(&self, image: &Mat) -> Result<Vec<Vec<Point>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
184 -     fn find_contours(&self, image: &Mat) -> Result<Vec<Vec<Point>>> {
184 +     fn find_contours(&self, image: &Mat) -> std::vec::Vec<std::vec::Vec<core::types::Point>> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
191 -         Ok(contours)
191 +         contours
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/objdetect/aruco.rs:196:37
    |
196 |         let image_perimeter = 2.0 * (rows + cols) as f64;
    |                                     ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/objdetect/aruco.rs:205:28
    |
205 |     fn calculate_perimeter(&self, contour: &[Point]) -> f64 {
    |                            ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/objdetect/aruco.rs:212:22
    |
212 |             let dx = (p2.x - p1.x) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
212 -             let dx = (p2.x - p1.x) as f64;
212 +             let dx = f64::from(p2.x - p1.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/objdetect/aruco.rs:213:22
    |
213 |             let dy = (p2.y - p1.y) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
213 -             let dy = (p2.y - p1.y) as f64;
213 +             let dy = f64::from(p2.y - p1.y);
    |

warning: unused `self` argument
   --> src/objdetect/aruco.rs:220:28
    |
220 |     fn approximate_to_quad(&self, contour: &[Point]) -> Result<Option<Vec<Point2f>>> {
    |                            ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/objdetect/aruco.rs:220:5
    |
220 |     fn approximate_to_quad(&self, contour: &[Point]) -> Result<Option<Vec<Point2f>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
220 -     fn approximate_to_quad(&self, contour: &[Point]) -> Result<Option<Vec<Point2f>>> {
220 +     fn approximate_to_quad(&self, contour: &[Point]) -> std::option::Option<std::vec::Vec<core::types::Point2f>> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
222 ~             return None;
223 |         }
...
237 |
238 ~         Some(corners)
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:229:26
    |
229 |             Point2f::new(contour[0].x as f32, contour[0].y as f32),
    |                          ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:229:47
    |
229 |             Point2f::new(contour[0].x as f32, contour[0].y as f32),
    |                                               ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:230:26
    |
230 |             Point2f::new(contour[contour.len() / 4].x as f32, contour[contour.len() / 4].y as f32),
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:230:63
    |
230 |             Point2f::new(contour[contour.len() / 4].x as f32, contour[contour.len() / 4].y as f32),
    |                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:231:26
    |
231 |             Point2f::new(contour[contour.len() / 2].x as f32, contour[contour.len() / 2].y as f32),
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:231:63
    |
231 |             Point2f::new(contour[contour.len() / 2].x as f32, contour[contour.len() / 2].y as f32),
    |                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:233:17
    |
233 |                 contour[3 * contour.len() / 4].x as f32,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/objdetect/aruco.rs:234:17
    |
234 |                 contour[3 * contour.len() / 4].y as f32,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
   --> src/objdetect/aruco.rs:242:9
    |
242 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/objdetect/aruco.rs:241:5
    |
241 | /     fn identify_marker(
242 | |         &self,
243 | |         image: &Mat,
244 | |         corners: &[Point2f],
245 | |     ) -> Result<Option<ArucoMarker>> {
    | |____________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
245 -     ) -> Result<Option<ArucoMarker>> {
245 +     ) -> std::option::Option<objdetect::aruco::ArucoMarker> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
247 ~             return None;
248 |         }
...
254 |         // Simplified: return a marker with ID 0
255 ~         Some(ArucoMarker {
256 +             id: 0,
257 +             corners: corners.to_vec(),
258 +         })
    |

warning: item in documentation is missing backticks
   --> src/objdetect/aruco.rs:261:18
    |
261 |     /// Generate ArUco marker image
    |                  ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
261 -     /// Generate ArUco marker image
261 +     /// Generate `ArUco` marker image
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/objdetect/aruco.rs:262:5
    |
262 |     pub fn generate_marker(&self, marker_id: i32, size_pixels: usize) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/objdetect/aruco.rs:263:42
    |
263 |         if marker_id < 0 || marker_id >= self.dictionary.dict_size() as i32 {
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
263 -         if marker_id < 0 || marker_id >= self.dictionary.dict_size() as i32 {
263 +         if marker_id < 0 || marker_id >= i32::try_from(self.dictionary.dict_size()) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/objdetect/aruco.rs:263:42
    |
263 |         if marker_id < 0 || marker_id >= self.dictionary.dict_size() as i32 {
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: you should consider adding a `Default` implementation for `MergeDebevec`
  --> src/photo/hdr.rs:10:5
   |
10 | /     pub fn new() -> Self {
11 | |         Self { samples: 256 }
12 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
 9 + impl Default for MergeDebevec {
10 +     fn default() -> Self {
11 +         Self::new()
12 +     }
13 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/photo/hdr.rs:10:12
   |
10 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
10 ~     #[must_use] 
11 ~     pub fn new() -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/hdr.rs:17:5
   |
17 |     pub fn process(&self, exposures: &[Mat], times: &[f32]) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/photo/hdr.rs:39:21
   |
39 |             let z = z as f32;
   |                     ^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
39 -             let z = z as f32;
39 +             let z = f32::from(z);
   |

warning: the loop variable `ch` is used to index `response_curve`
  --> src/photo/hdr.rs:53:27
   |
53 |                 for ch in 0..channels {
   |                           ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
53 -                 for ch in 0..channels {
53 +                 for (ch, <item>) in response_curve.iter().enumerate().take(channels) {
   |

warning: unused `self` argument
  --> src/photo/hdr.rs:82:32
   |
82 |     fn estimate_response_curve(&self, exposures: &[Mat], times: &[f32]) -> Result<Vec<Vec<f32>>> {
   |                                ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: the loop variable `ch` is used to index `curves`
  --> src/photo/hdr.rs:87:19
   |
87 |         for ch in 0..channels {
   |                   ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
87 -         for ch in 0..channels {
87 +         for (ch, <item>) in curves.iter_mut().enumerate().take(channels) {
   |

warning: the loop variable `intensity` is used to index `curves`
  --> src/photo/hdr.rs:88:30
   |
88 |             for intensity in 0..256 {
   |                              ^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
88 -             for intensity in 0..256 {
88 +             for (intensity, <item>) in curves.iter_mut().enumerate().take(256) {
   |

warning: casting `usize` to `u8` may truncate the value
  --> src/photo/hdr.rs:97:45
   |
97 | ...                   if pixel_val == intensity as u8 {
   |                                       ^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
97 -                             if pixel_val == intensity as u8 {
97 +                             if pixel_val == u8::try_from(intensity) {
   |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/hdr.rs:98:41
   |
98 | ...                   sum += (intensity as f32 / 255.0 * times[i]).ln();
   |                               ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:106:27
    |
106 |                     sum / count as f32
    |                           ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:108:22
    |
108 |                     (intensity as f32 / 255.0).ln()
    |                      ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `TonemapReinhard`
   --> src/photo/hdr.rs:125:5
    |
125 | /     pub fn new() -> Self {
126 | |         Self {
127 | |             intensity: 0.0,
128 | |             light_adapt: 1.0,
...   |
131 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
124 + impl Default for TonemapReinhard {
125 +     fn default() -> Self {
126 +         Self::new()
127 +     }
128 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/photo/hdr.rs:125:12
    |
125 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
125 ~     #[must_use] 
126 ~     pub fn new() -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/photo/hdr.rs:133:12
    |
133 |     pub fn with_intensity(mut self, intensity: f32) -> Self {
    |            ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
133 ~     #[must_use] 
134 ~     pub fn with_intensity(mut self, intensity: f32) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/photo/hdr.rs:133:5
    |
133 | /     pub fn with_intensity(mut self, intensity: f32) -> Self {
134 | |         self.intensity = intensity;
135 | |         self
136 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/photo/hdr.rs:138:12
    |
138 |     pub fn with_light_adapt(mut self, adapt: f32) -> Self {
    |            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
138 ~     #[must_use] 
139 ~     pub fn with_light_adapt(mut self, adapt: f32) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/photo/hdr.rs:138:5
    |
138 | /     pub fn with_light_adapt(mut self, adapt: f32) -> Self {
139 | |         self.light_adapt = adapt;
140 | |         self
141 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/hdr.rs:143:5
    |
143 |     pub fn process(&self, hdr: &Mat) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:167:24
    |
167 |                 lum /= channels as f32;
    |                        ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:176:32
    |
176 |         let l_avg = (log_sum / count as f32).exp();
    |                                ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/hdr.rs:195:36
    |
195 |                     let byte_val = (val * 255.0).clamp(0.0, 255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/hdr.rs:195:36
    |
195 |                     let byte_val = (val * 255.0).clamp(0.0, 255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: you should consider adding a `Default` implementation for `TonemapDrago`
   --> src/photo/hdr.rs:212:5
    |
212 | /     pub fn new() -> Self {
213 | |         Self {
214 | |             saturation: 1.0,
215 | |             bias: 0.85,
216 | |         }
217 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
211 + impl Default for TonemapDrago {
212 +     fn default() -> Self {
213 +         Self::new()
214 +     }
215 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/photo/hdr.rs:212:12
    |
212 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
212 ~     #[must_use] 
213 ~     pub fn new() -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/photo/hdr.rs:219:12
    |
219 |     pub fn with_bias(mut self, bias: f32) -> Self {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
219 ~     #[must_use] 
220 ~     pub fn with_bias(mut self, bias: f32) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/photo/hdr.rs:219:5
    |
219 | /     pub fn with_bias(mut self, bias: f32) -> Self {
220 | |         self.bias = bias;
221 | |         self
222 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/hdr.rs:224:5
    |
224 |     pub fn process(&self, hdr: &Mat) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:245:24
    |
245 |                 lum /= channels as f32;
    |                        ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/hdr.rs:271:36
    |
271 |                     let byte_val = (val * 255.0).clamp(0.0, 255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/hdr.rs:271:36
    |
271 |                     let byte_val = (val * 255.0).clamp(0.0, 255.0) as u8;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/hdr.rs:282:1
    |
282 | / pub fn calibrate_debevec(
283 | |     exposures: &[Mat],
284 | |     times: &[f32],
285 | |     samples: usize,
286 | | ) -> Result<Vec<Vec<f32>>> {
    | |__________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `ch` is used to index `response_curves`
   --> src/photo/hdr.rs:295:15
    |
295 |     for ch in 0..channels {
    |               ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
295 -     for ch in 0..channels {
295 +     for (ch, <item>) in response_curves.iter_mut().enumerate().take(channels) {
    |

warning: the loop variable `intensity` is used to index `response_curves`
   --> src/photo/hdr.rs:296:26
    |
296 |         for intensity in 0..256 {
    |                          ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
296 -         for intensity in 0..256 {
296 +         for (intensity, <item>) in response_curves.iter_mut().enumerate().take(256) {
    |

warning: casting `usize` to `u8` may truncate the value
   --> src/photo/hdr.rs:309:41
    |
309 |                         if pixel_val == intensity as u8 {
    |                                         ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
309 -                         if pixel_val == intensity as u8 {
309 +                         if pixel_val == u8::try_from(intensity) {
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:310:37
    |
310 | ...                   sum += (intensity as f32 / 255.0 * times[i]).ln();
    |                               ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:318:23
    |
318 |                 sum / count as f32
    |                       ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/hdr.rs:320:18
    |
320 |                 (intensity as f32 / 255.0 + 1e-6).ln()
    |                  ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
  --> src/photo/seam_carving.rs:17:12
   |
17 |     pub fn new(energy_type: EnergyType) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
17 ~     #[must_use] 
18 ~     pub fn new(energy_type: EnergyType) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/seam_carving.rs:22:5
   |
22 |     pub fn reduce_width(&self, src: &Mat, target_width: usize) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/seam_carving.rs:38:5
   |
38 |     pub fn reduce_height(&self, src: &Mat, target_height: usize) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/seam_carving.rs:54:5
   |
54 |     pub fn resize(&self, src: &Mat, target_width: usize, target_height: usize) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `row` is used to index `seam`
  --> src/photo/seam_carving.rs:71:20
   |
71 |         for row in 0..src.rows() {
   |                    ^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
   |
71 -         for row in 0..src.rows() {
71 +         for (row, <item>) in seam.iter().enumerate().take(src.rows()) {
   |

warning: unused `self` argument
  --> src/photo/seam_carving.rs:95:18
   |
95 |     fn transpose(&self, src: &Mat) -> Result<Mat> {
   |                  ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: these match arms have identical bodies
   --> src/photo/seam_carving.rs:113:13
    |
113 |             EnergyType::Gradient => self.compute_gradient_energy(src, &mut energy)?,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
114 |             EnergyType::Laplacian => self.compute_laplacian_energy(src, &mut energy)?,
115 |             EnergyType::ForwardEnergy => self.compute_gradient_energy(src, &mut energy)?,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
    |
113 ~             EnergyType::Laplacian => self.compute_laplacian_energy(src, &mut energy)?,
114 ~             EnergyType::Gradient | EnergyType::ForwardEnergy => self.compute_gradient_energy(src, &mut energy)?,
    |

warning: unused `self` argument
   --> src/photo/seam_carving.rs:121:32
    |
121 |     fn compute_gradient_energy(&self, src: &Mat, energy: &mut Mat) -> Result<()> {
    |                                ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:130:36
    |
130 |                         let left = src.at(row, col - 1)?[ch] as f32;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
130 -                         let left = src.at(row, col - 1)?[ch] as f32;
130 +                         let left = f32::from(src.at(row, col - 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:131:37
    |
131 |                         let right = src.at(row, col + 1)?[ch] as f32;
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
131 -                         let right = src.at(row, col + 1)?[ch] as f32;
131 +                         let right = f32::from(src.at(row, col + 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:139:34
    |
139 |                         let up = src.at(row - 1, col)?[ch] as f32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
139 -                         let up = src.at(row - 1, col)?[ch] as f32;
139 +                         let up = f32::from(src.at(row - 1, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:140:36
    |
140 |                         let down = src.at(row + 1, col)?[ch] as f32;
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
140 -                         let down = src.at(row + 1, col)?[ch] as f32;
140 +                         let down = f32::from(src.at(row + 1, col)?[ch]);
    |

warning: unused `self` argument
   --> src/photo/seam_carving.rs:152:33
    |
152 |     fn compute_laplacian_energy(&self, src: &Mat, energy: &mut Mat) -> Result<()> {
    |                                 ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:158:34
    |
158 |                     let center = src.at(row, col)?[ch] as f32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
158 -                     let center = src.at(row, col)?[ch] as f32;
158 +                     let center = f32::from(src.at(row, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:159:32
    |
159 |                     let left = src.at(row, col - 1)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
159 -                     let left = src.at(row, col - 1)?[ch] as f32;
159 +                     let left = f32::from(src.at(row, col - 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:160:33
    |
160 |                     let right = src.at(row, col + 1)?[ch] as f32;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
160 -                     let right = src.at(row, col + 1)?[ch] as f32;
160 +                     let right = f32::from(src.at(row, col + 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:161:30
    |
161 |                     let up = src.at(row - 1, col)?[ch] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
161 -                     let up = src.at(row - 1, col)?[ch] as f32;
161 +                     let up = f32::from(src.at(row - 1, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/seam_carving.rs:162:32
    |
162 |                     let down = src.at(row + 1, col)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
162 -                     let down = src.at(row + 1, col)?[ch] as f32;
162 +                     let down = f32::from(src.at(row + 1, col)?[ch]);
    |

warning: unused `self` argument
   --> src/photo/seam_carving.rs:174:27
    |
174 |     fn find_vertical_seam(&self, energy: &Mat) -> Result<Vec<usize>> {
    |                           ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: the loop variable `row` is used to index `backtrack`
   --> src/photo/seam_carving.rs:188:20
    |
188 |         for row in 1..rows {
    |                    ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
188 -         for row in 1..rows {
188 +         for (row, <item>) in backtrack.iter_mut().enumerate().take(rows).skip(1) {
    |

warning: the loop variable `col` is used to index `backtrack`
   --> src/photo/seam_carving.rs:189:24
    |
189 |             for col in 0..cols {
    |                        ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
189 -             for col in 0..cols {
189 +             for (col, <item>) in backtrack.iter_mut().enumerate().take(cols) {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/seam_carving.rs:233:1
    |
233 | pub fn enlarge_width(src: &Mat, target_width: usize) -> Result<Mat> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `row` is used to index `seam`
   --> src/photo/seam_carving.rs:264:16
    |
264 |     for row in 0..src.rows() {
    |                ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
264 -     for row in 0..src.rows() {
264 +     for (row, <item>) in seam.iter().enumerate().take(src.rows()) {
    |

warning: this method could have a `#[must_use]` attribute
  --> src/photo/super_resolution.rs:11:12
   |
11 |     pub fn new(scale_factor: f32) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
11 ~     #[must_use] 
12 ~     pub fn new(scale_factor: f32) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/photo/super_resolution.rs:18:12
   |
18 |     pub fn with_sharpen(mut self, strength: f32) -> Self {
   |            ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
18 ~     #[must_use] 
19 ~     pub fn with_sharpen(mut self, strength: f32) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/photo/super_resolution.rs:18:5
   |
18 | /     pub fn with_sharpen(mut self, strength: f32) -> Self {
19 | |         self.sharpen_strength = strength;
20 | |         self
21 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/super_resolution.rs:23:5
   |
23 |     pub fn process(&self, src: &Mat) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `usize` may truncate the value
  --> src/photo/super_resolution.rs:24:24
   |
24 |         let new_rows = (src.rows() as f32 * self.scale_factor) as usize;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/photo/super_resolution.rs:24:24
   |
24 |         let new_rows = (src.rows() as f32 * self.scale_factor) as usize;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:24:25
   |
24 |         let new_rows = (src.rows() as f32 * self.scale_factor) as usize;
   |                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
  --> src/photo/super_resolution.rs:25:24
   |
25 |         let new_cols = (src.cols() as f32 * self.scale_factor) as usize;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
  --> src/photo/super_resolution.rs:25:24
   |
25 |         let new_cols = (src.cols() as f32 * self.scale_factor) as usize;
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:25:25
   |
25 |         let new_cols = (src.cols() as f32 * self.scale_factor) as usize;
   |                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:39:25
   |
39 |         let row_scale = src.rows() as f32 / new_rows as f32;
   |                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:39:45
   |
39 |         let row_scale = src.rows() as f32 / new_rows as f32;
   |                                             ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:40:25
   |
40 |         let col_scale = src.cols() as f32 / new_cols as f32;
   |                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:40:45
   |
40 |         let col_scale = src.cols() as f32 / new_cols as f32;
   |                                             ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:44:31
   |
44 |                 let src_row = row as f32 * row_scale;
   |                               ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:45:31
   |
45 |                 let src_col = col as f32 * col_scale;
   |                               ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `u8` may truncate the value
  --> src/photo/super_resolution.rs:49:52
   |
49 |                     result.at_mut(row, col)?[ch] = val.clamp(0.0, 255.0) as u8;
   |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
  --> src/photo/super_resolution.rs:49:52
   |
49 |                     result.at_mut(row, col)?[ch] = val.clamp(0.0, 255.0) as u8;
   |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `i32` may truncate the value
  --> src/photo/super_resolution.rs:58:18
   |
58 |         let x0 = x.floor() as i32;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `i32` may truncate the value
  --> src/photo/super_resolution.rs:59:18
   |
59 |         let y0 = y.floor() as i32;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:60:22
   |
60 |         let fx = x - x0 as f32;
   |                      ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:61:22
   |
61 |         let fy = y - y0 as f32;
   |                      ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/super_resolution.rs:68:27
   |
68 |                 let row = (y0 + j).clamp(0, src.rows() as i32 - 1) as usize;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/super_resolution.rs:68:45
   |
68 |                 let row = (y0 + j).clamp(0, src.rows() as i32 - 1) as usize;
   |                                             ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
68 -                 let row = (y0 + j).clamp(0, src.rows() as i32 - 1) as usize;
68 +                 let row = (y0 + j).clamp(0, i32::try_from(src.rows()) - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/super_resolution.rs:68:45
   |
68 |                 let row = (y0 + j).clamp(0, src.rows() as i32 - 1) as usize;
   |                                             ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/super_resolution.rs:69:27
   |
69 |                 let col = (x0 + i).clamp(0, src.cols() as i32 - 1) as usize;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/super_resolution.rs:69:45
   |
69 |                 let col = (x0 + i).clamp(0, src.cols() as i32 - 1) as usize;
   |                                             ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
69 -                 let col = (x0 + i).clamp(0, src.cols() as i32 - 1) as usize;
69 +                 let col = (x0 + i).clamp(0, i32::try_from(src.cols()) - 1) as usize;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/super_resolution.rs:69:45
   |
69 |                 let col = (x0 + i).clamp(0, src.cols() as i32 - 1) as usize;
   |                                             ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/photo/super_resolution.rs:71:29
   |
71 |                 let pixel = src.at(row, col)?[ch] as f32;
   |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
71 -                 let pixel = src.at(row, col)?[ch] as f32;
71 +                 let pixel = f32::from(src.at(row, col)?[ch]);
   |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:72:55
   |
72 |                 let weight_x = self.cubic_weight(fx - i as f32);
   |                                                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
  --> src/photo/super_resolution.rs:73:55
   |
73 |                 let weight_y = self.cubic_weight(fy - j as f32);
   |                                                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: unused `self` argument
  --> src/photo/super_resolution.rs:82:21
   |
82 |     fn cubic_weight(&self, t: f32) -> f32 {
   |                     ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:102:34
    |
102 |                     let center = src.at(row, col)?[ch] as f32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
102 -                     let center = src.at(row, col)?[ch] as f32;
102 +                     let center = f32::from(src.at(row, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:105:32
    |
105 |                     let left = src.at(row, col - 1)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
105 -                     let left = src.at(row, col - 1)?[ch] as f32;
105 +                     let left = f32::from(src.at(row, col - 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:106:33
    |
106 |                     let right = src.at(row, col + 1)?[ch] as f32;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
106 -                     let right = src.at(row, col + 1)?[ch] as f32;
106 +                     let right = f32::from(src.at(row, col + 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:107:30
    |
107 |                     let up = src.at(row - 1, col)?[ch] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
107 -                     let up = src.at(row - 1, col)?[ch] as f32;
107 +                     let up = f32::from(src.at(row - 1, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:108:32
    |
108 |                     let down = src.at(row + 1, col)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
108 -                     let down = src.at(row + 1, col)?[ch] as f32;
108 +                     let down = f32::from(src.at(row + 1, col)?[ch]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/super_resolution.rs:114:52
    |
114 |                     result.at_mut(row, col)?[ch] = sharpened.clamp(0.0, 255.0) as u8;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/super_resolution.rs:114:52
    |
114 |                     result.at_mut(row, col)?[ch] = sharpened.clamp(0.0, 255.0) as u8;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this method could have a `#[must_use]` attribute
   --> src/photo/super_resolution.rs:130:12
    |
130 |     pub fn new(scale_factor: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
130 ~     #[must_use] 
131 ~     pub fn new(scale_factor: usize) -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/super_resolution.rs:137:5
    |
137 |     pub fn process(&self, src: &Mat) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/super_resolution.rs:151:60
    |
151 |                     result.at_mut(dst_row, dst_col)?[ch] = val as u8;
    |                                                            ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/super_resolution.rs:151:60
    |
151 |                     result.at_mut(dst_row, dst_col)?[ch] = val as u8;
    |                                                            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:164:20
    |
164 |         for dy in -(half_patch as i32)..=(half_patch as i32) {
    |                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
164 -         for dy in -(half_patch as i32)..=(half_patch as i32) {
164 +         for dy in -i32::try_from(half_patch)..=(half_patch as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:164:20
    |
164 |         for dy in -(half_patch as i32)..=(half_patch as i32) {
    |                    ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:164:42
    |
164 |         for dy in -(half_patch as i32)..=(half_patch as i32) {
    |                                          ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
164 -         for dy in -(half_patch as i32)..=(half_patch as i32) {
164 +         for dy in -(half_patch as i32)..=i32::try_from(half_patch) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:164:42
    |
164 |         for dy in -(half_patch as i32)..=(half_patch as i32) {
    |                                          ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:165:24
    |
165 |             for dx in -(half_patch as i32)..=(half_patch as i32) {
    |                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
165 -             for dx in -(half_patch as i32)..=(half_patch as i32) {
165 +             for dx in -i32::try_from(half_patch)..=(half_patch as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:165:24
    |
165 |             for dx in -(half_patch as i32)..=(half_patch as i32) {
    |                        ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:165:46
    |
165 |             for dx in -(half_patch as i32)..=(half_patch as i32) {
    |                                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
165 -             for dx in -(half_patch as i32)..=(half_patch as i32) {
165 +             for dx in -(half_patch as i32)..=i32::try_from(half_patch) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:165:46
    |
165 |             for dx in -(half_patch as i32)..=(half_patch as i32) {
    |                                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/super_resolution.rs:166:25
    |
166 |                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:166:26
    |
166 |                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
166 -                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
166 +                 let y = (i32::try_from(row) + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:166:26
    |
166 |                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:166:52
    |
166 |                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
166 -                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
166 +                 let y = (row as i32 + dy).clamp(0, i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:166:52
    |
166 |                 let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/super_resolution.rs:167:25
    |
167 |                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:167:26
    |
167 |                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
167 -                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
167 +                 let x = (i32::try_from(col) + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:167:26
    |
167 |                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/super_resolution.rs:167:52
    |
167 |                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
167 -                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
167 +                 let x = (col as i32 + dx).clamp(0, i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/super_resolution.rs:167:52
    |
167 |                 let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/super_resolution.rs:169:31
    |
169 |                 let weight = (-(dx * dx + dy * dy) as f32 / 8.0).exp();
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:170:24
    |
170 |                 sum += src.at(y, x)?[ch] as f32 * weight;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
170 -                 sum += src.at(y, x)?[ch] as f32 * weight;
170 +                 sum += f32::from(src.at(y, x)?[ch]) * weight;
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/super_resolution.rs:175:18
    |
175 |         Ok(sum / count as f32)
    |                  ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
   --> src/photo/super_resolution.rs:187:12
    |
187 |     pub fn new(scale_factor: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
187 ~     #[must_use] 
188 ~     pub fn new(scale_factor: usize) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/photo/super_resolution.rs:195:12
    |
195 |     pub fn with_iterations(mut self, iterations: usize) -> Self {
    |            ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
195 ~     #[must_use] 
196 ~     pub fn with_iterations(mut self, iterations: usize) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/photo/super_resolution.rs:195:5
    |
195 | /     pub fn with_iterations(mut self, iterations: usize) -> Self {
196 | |         self.iterations = iterations;
197 | |         self
198 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/super_resolution.rs:200:5
    |
200 |     pub fn process(&self, src: &Mat) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:222:39
    |
222 |                         let current = hr.at(row, col)?[ch] as f32;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
222 -                         let current = hr.at(row, col)?[ch] as f32;
222 +                         let current = f32::from(hr.at(row, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:223:42
    |
223 |                         let correction = error_hr.at(row, col)?[ch] as f32;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
223 -                         let correction = error_hr.at(row, col)?[ch] as f32;
223 +                         let correction = f32::from(error_hr.at(row, col)?[ch]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/super_resolution.rs:225:52
    |
225 |                         hr.at_mut(row, col)?[ch] = updated.clamp(0.0, 255.0) as u8;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/super_resolution.rs:225:52
    |
225 |                         hr.at_mut(row, col)?[ch] = updated.clamp(0.0, 255.0) as u8;
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: unused `self` argument
   --> src/photo/super_resolution.rs:234:25
    |
234 |     fn bicubic_upsample(&self, src: &Mat, new_rows: usize, new_cols: usize) -> Result<Mat> {
    |                         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/photo/super_resolution.rs:272:22
    |
272 |     fn compute_error(&self, original: &Mat, simulated: &Mat) -> Result<Mat> {
    |                      ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:278:32
    |
278 |                     let orig = original.at(row, col)?[ch] as i32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
278 -                     let orig = original.at(row, col)?[ch] as i32;
278 +                     let orig = i32::from(original.at(row, col)?[ch]);
    |

warning: casts from `u8` to `i32` can be expressed infallibly using `From`
   --> src/photo/super_resolution.rs:279:31
    |
279 |                     let sim = simulated.at(row, col)?[ch] as i32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `i32::from` instead
    |
279 -                     let sim = simulated.at(row, col)?[ch] as i32;
279 +                     let sim = i32::from(simulated.at(row, col)?[ch]);
    |

warning: casting `i32` to `i16` may truncate the value
   --> src/photo/super_resolution.rs:280:31
    |
280 |                     let err = (orig - sim).clamp(-255, 255) as i16;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
280 -                     let err = (orig - sim).clamp(-255, 255) as i16;
280 +                     let err = i16::try_from((orig - sim).clamp(-255, 255));
    |

warning: casting `i16` to `u8` may truncate the value
   --> src/photo/super_resolution.rs:281:51
    |
281 |                     error.at_mut(row, col)?[ch] = ((err + 255) / 2) as u8;
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
281 -                     error.at_mut(row, col)?[ch] = ((err + 255) / 2) as u8;
281 +                     error.at_mut(row, col)?[ch] = u8::try_from((err + 255) / 2);
    |

warning: casting `i16` to `u8` may lose the sign of the value
   --> src/photo/super_resolution.rs:281:51
    |
281 |                     error.at_mut(row, col)?[ch] = ((err + 255) / 2) as u8;
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: manual implementation of `midpoint` which can overflow
   --> src/photo/super_resolution.rs:281:51
    |
281 |                     error.at_mut(row, col)?[ch] = ((err + 255) / 2) as u8;
    |                                                   ^^^^^^^^^^^^^^^^^ help: use `i16::midpoint` instead: `i16::midpoint(err, 255)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/denoising.rs:5:1
   |
 5 | / pub fn fast_nl_means_denoising_colored(
 6 | |     src: &Mat,
 7 | |     h: f32,
 8 | |     h_color: f32,
 9 | |     template_window_size: i32,
10 | |     search_window_size: i32,
11 | | ) -> Result<Mat> {
   | |________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:31:29
   |
31 |                     let y = row as i32 + dy;
   |                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
31 -                     let y = row as i32 + dy;
31 +                     let y = i32::try_from(row) + dy;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:31:29
   |
31 |                     let y = row as i32 + dy;
   |                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:32:29
   |
32 |                     let x = col as i32 + dx;
   |                             ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
32 -                     let x = col as i32 + dx;
32 +                     let x = i32::try_from(col) + dx;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:32:29
   |
32 |                     let x = col as i32 + dx;
   |                             ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:34:50
   |
34 |                     if y >= half_template && y < src.rows() as i32 - half_template
   |                                                  ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
34 -                     if y >= half_template && y < src.rows() as i32 - half_template
34 +                     if y >= half_template && y < i32::try_from(src.rows()) - half_template
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:34:50
   |
34 |                     if y >= half_template && y < src.rows() as i32 - half_template
   |                                                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:35:54
   |
35 |                         && x >= half_template && x < src.cols() as i32 - half_template
   |                                                      ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
35 -                         && x >= half_template && x < src.cols() as i32 - half_template
35 +                         && x >= half_template && x < i32::try_from(src.cols()) - half_template
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:35:54
   |
35 |                         && x >= half_template && x < src.cols() as i32 - half_template
   |                                                      ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:40:29
   |
40 | ...                   row as i32,
   |                       ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
40 -                             row as i32,
40 +                             i32::try_from(row),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:40:29
   |
40 | ...                   row as i32,
   |                       ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:41:29
   |
41 | ...                   col as i32,
   |                       ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
41 -                             col as i32,
41 +                             i32::try_from(col),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:41:29
   |
41 | ...                   col as i32,
   |                       ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:49:47
   |
49 |                         let neighbor = src.at(y as usize, x as usize)?;
   |                                               ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:49:59
   |
49 |                         let neighbor = src.at(y as usize, x as usize)?;
   |                                                           ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/photo/denoising.rs:51:55
   |
51 | ...                   pixel_sum[ch] += weight * neighbor[ch] as f32;
   |                                                 ^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
51 -                             pixel_sum[ch] += weight * neighbor[ch] as f32;
51 +                             pixel_sum[ch] += weight * f32::from(neighbor[ch]);
   |

warning: casting `f32` to `u8` may truncate the value
  --> src/photo/denoising.rs:61:21
   |
61 |                     (pixel_sum[ch] / weight_sum) as u8
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
  --> src/photo/denoising.rs:61:21
   |
61 |                     (pixel_sum[ch] / weight_sum) as u8
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:90:32
   |
90 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
   |                                ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
90 -             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
90 +             if y1 >= 0 && y1 < i32::try_from(img.rows()) && x1 >= 0 && x1 < img.cols() as i32
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:90:32
   |
90 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
   |                                ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:90:69
   |
90 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
   |                                                                     ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
90 -             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
90 +             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < i32::try_from(img.cols())
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:90:69
   |
90 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
   |                                                                     ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:91:36
   |
91 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
   |                                    ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
91 -                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
91 +                 && y2 >= 0 && y2 < i32::try_from(img.rows()) && x2 >= 0 && x2 < img.cols() as i32
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:91:36
   |
91 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
   |                                    ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/denoising.rs:91:73
   |
91 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
   |                                                                         ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
91 -                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
91 +                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < i32::try_from(img.cols())
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/denoising.rs:91:73
   |
91 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
   |                                                                         ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:93:33
   |
93 |                 let p1 = img.at(y1 as usize, x1 as usize)?;
   |                                 ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:93:46
   |
93 |                 let p1 = img.at(y1 as usize, x1 as usize)?;
   |                                              ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:94:33
   |
94 |                 let p2 = img.at(y2 as usize, x2 as usize)?;
   |                                 ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/denoising.rs:94:46
   |
94 |                 let p2 = img.at(y2 as usize, x2 as usize)?;
   |                                              ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/photo/denoising.rs:97:32
   |
97 |                     let diff = p1[ch] as f32 - p2[ch] as f32;
   |                                ^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
97 -                     let diff = p1[ch] as f32 - p2[ch] as f32;
97 +                     let diff = f32::from(p1[ch]) - p2[ch] as f32;
   |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/photo/denoising.rs:97:48
   |
97 |                     let diff = p1[ch] as f32 - p2[ch] as f32;
   |                                                ^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
97 -                     let diff = p1[ch] as f32 - p2[ch] as f32;
97 +                     let diff = p1[ch] as f32 - f32::from(p2[ch]);
   |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:105:30
    |
105 |     Ok(if count > 0 { dist / count as f32 } else { 0.0 })
    |                              ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/denoising.rs:109:1
    |
109 | / pub fn bilateral_filter(
110 | |     src: &Mat,
111 | |     d: i32,
112 | |     sigma_color: f32,
113 | |     sigma_space: f32,
114 | | ) -> Result<Mat> {
    | |________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:120:47
    |
120 |     let mut space_weights = vec![vec![0.0f32; d as usize]; d as usize];
    |                                               ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:120:60
    |
120 |     let mut space_weights = vec![vec![0.0f32; d as usize]; d as usize];
    |                                                            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `i` is used to index `space_weights`
   --> src/photo/denoising.rs:121:14
    |
121 |     for i in 0..d as usize {
    |              ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
121 -     for i in 0..d as usize {
121 +     for (i, <item>) in space_weights.iter_mut().enumerate().take(d as usize) {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:121:17
    |
121 |     for i in 0..d as usize {
    |                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `j` is used to index `space_weights`
   --> src/photo/denoising.rs:122:18
    |
122 |         for j in 0..d as usize {
    |                  ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
122 -         for j in 0..d as usize {
122 +         for (j, <item>) in space_weights.iter_mut().enumerate().take(d as usize) {
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:122:21
    |
122 |         for j in 0..d as usize {
    |                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:123:22
    |
123 |             let dx = i as f32 - radius as f32;
    |                      ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:123:33
    |
123 |             let dx = i as f32 - radius as f32;
    |                                 ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:124:22
    |
124 |             let dy = j as f32 - radius as f32;
    |                      ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:124:33
    |
124 |             let dy = j as f32 - radius as f32;
    |                                 ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:132:34
    |
132 |                 let center_val = src.at(row, col)?[ch] as f32;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
132 -                 let center_val = src.at(row, col)?[ch] as f32;
132 +                 let center_val = f32::from(src.at(row, col)?[ch]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:138:33
    |
138 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:138:34
    |
138 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
138 -                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
138 +                         let y = (i32::try_from(row) + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:138:34
    |
138 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:138:60
    |
138 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
138 -                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
138 +                         let y = (row as i32 + dy).clamp(0, i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:138:60
    |
138 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:139:33
    |
139 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:139:34
    |
139 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
139 -                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
139 +                         let x = (i32::try_from(col) + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:139:34
    |
139 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:139:60
    |
139 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
139 -                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
139 +                         let x = (col as i32 + dx).clamp(0, i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:139:60
    |
139 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:141:44
    |
141 |                         let neighbor_val = src.at(y, x)?[ch] as f32;
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
141 -                         let neighbor_val = src.at(y, x)?[ch] as f32;
141 +                         let neighbor_val = f32::from(src.at(y, x)?[ch]);
    |

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:145:58
    |
145 |                         let space_weight = space_weights[(dy + radius) as usize][(dx + radius) as usize];
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:145:82
    |
145 |                         let space_weight = space_weights[(dy + radius) as usize][(dx + radius) as usize];
    |                                                                                  ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/denoising.rs:153:48
    |
153 |                 result.at_mut(row, col)?[ch] = (sum / weight_sum) as u8;
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/denoising.rs:153:48
    |
153 |                 result.at_mut(row, col)?[ch] = (sum / weight_sum) as u8;
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/denoising.rs:162:1
    |
162 | / pub fn anisotropic_diffusion(
163 | |     src: &Mat,
164 | |     iterations: usize,
165 | |     kappa: f32,
166 | |     lambda: f32,
167 | | ) -> Result<Mat> {
    | |________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:181:30
    |
181 |                 let center = result.at(row, col)?[0] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
181 -                 let center = result.at(row, col)?[0] as f32;
181 +                 let center = f32::from(result.at(row, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:184:29
    |
184 |                 let north = result.at(row - 1, col)?[0] as f32 - center;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
184 -                 let north = result.at(row - 1, col)?[0] as f32 - center;
184 +                 let north = f32::from(result.at(row - 1, col)?[0]) - center;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:185:29
    |
185 |                 let south = result.at(row + 1, col)?[0] as f32 - center;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
185 -                 let south = result.at(row + 1, col)?[0] as f32 - center;
185 +                 let south = f32::from(result.at(row + 1, col)?[0]) - center;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:186:28
    |
186 |                 let east = result.at(row, col + 1)?[0] as f32 - center;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
186 -                 let east = result.at(row, col + 1)?[0] as f32 - center;
186 +                 let east = f32::from(result.at(row, col + 1)?[0]) - center;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:187:28
    |
187 |                 let west = result.at(row, col - 1)?[0] as f32 - center;
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
187 -                 let west = result.at(row, col - 1)?[0] as f32 - center;
187 +                 let west = f32::from(result.at(row, col - 1)?[0]) - center;
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/denoising.rs:199:45
    |
199 |                 next.at_mut(row, col)?[0] = new_val as u8;
    |                                             ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/denoising.rs:199:45
    |
199 |                 next.at_mut(row, col)?[0] = new_val as u8;
    |                                             ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/denoising.rs:210:1
    |
210 | pub fn median_filter(src: &Mat, kernel_size: usize) -> Result<Mat> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: manual implementation of `.is_multiple_of()`
   --> src/photo/denoising.rs:211:8
    |
211 |     if kernel_size % 2 == 0 {
    |        ^^^^^^^^^^^^^^^^^^^^ help: replace with: `kernel_size.is_multiple_of(2)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_is_multiple_of
    = note: `#[warn(clippy::manual_is_multiple_of)]` on by default

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:226:28
    |
226 |                 for dy in -(radius as i32)..=(radius as i32) {
    |                            ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
226 -                 for dy in -(radius as i32)..=(radius as i32) {
226 +                 for dy in -i32::try_from(radius)..=(radius as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:226:28
    |
226 |                 for dy in -(radius as i32)..=(radius as i32) {
    |                            ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:226:46
    |
226 |                 for dy in -(radius as i32)..=(radius as i32) {
    |                                              ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
226 -                 for dy in -(radius as i32)..=(radius as i32) {
226 +                 for dy in -(radius as i32)..=i32::try_from(radius) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:226:46
    |
226 |                 for dy in -(radius as i32)..=(radius as i32) {
    |                                              ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:227:32
    |
227 |                     for dx in -(radius as i32)..=(radius as i32) {
    |                                ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
227 -                     for dx in -(radius as i32)..=(radius as i32) {
227 +                     for dx in -i32::try_from(radius)..=(radius as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:227:32
    |
227 |                     for dx in -(radius as i32)..=(radius as i32) {
    |                                ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:227:50
    |
227 |                     for dx in -(radius as i32)..=(radius as i32) {
    |                                                  ^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
227 -                     for dx in -(radius as i32)..=(radius as i32) {
227 +                     for dx in -(radius as i32)..=i32::try_from(radius) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:227:50
    |
227 |                     for dx in -(radius as i32)..=(radius as i32) {
    |                                                  ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:228:33
    |
228 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:228:34
    |
228 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
228 -                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
228 +                         let y = (i32::try_from(row) + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:228:34
    |
228 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:228:60
    |
228 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
228 -                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
228 +                         let y = (row as i32 + dy).clamp(0, i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:228:60
    |
228 |                         let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:229:33
    |
229 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:229:34
    |
229 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
229 +                         let x = (i32::try_from(col) + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:229:34
    |
229 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:229:60
    |
229 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
229 +                         let x = (col as i32 + dx).clamp(0, i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:229:60
    |
229 |                         let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/denoising.rs:244:1
    |
244 | pub fn wiener_filter(src: &Mat, noise_variance: f32) -> Result<Mat> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/photo/denoising.rs:262:24
    |
262 |             for dy in -(radius as i32)..=(radius as i32) {
    |                        ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/photo/denoising.rs:262:42
    |
262 |             for dy in -(radius as i32)..=(radius as i32) {
    |                                          ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/photo/denoising.rs:263:28
    |
263 |                 for dx in -(radius as i32)..=(radius as i32) {
    |                            ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/photo/denoising.rs:263:46
    |
263 |                 for dx in -(radius as i32)..=(radius as i32) {
    |                                              ^^^^^^^^^^^^^^^ help: try: `radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:264:29
    |
264 |                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:264:30
    |
264 |                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
264 -                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
264 +                     let y = (i32::try_from(row) + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:264:30
    |
264 |                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:264:56
    |
264 |                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
264 -                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
264 +                     let y = (row as i32 + dy).clamp(0, i32::try_from(src.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:264:56
    |
264 |                     let y = (row as i32 + dy).clamp(0, src.rows() as i32 - 1) as usize;
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/denoising.rs:265:29
    |
265 |                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:265:30
    |
265 |                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
265 -                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
265 +                     let x = (i32::try_from(col) + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:265:30
    |
265 |                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                              ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/denoising.rs:265:56
    |
265 |                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
265 -                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
265 +                     let x = (col as i32 + dx).clamp(0, i32::try_from(src.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/denoising.rs:265:56
    |
265 |                     let x = (col as i32 + dx).clamp(0, src.cols() as i32 - 1) as usize;
    |                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:266:31
    |
266 |                     let val = src.at(y, x)?[0] as f32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
266 -                     let val = src.at(y, x)?[0] as f32;
266 +                     let val = f32::from(src.at(y, x)?[0]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:273:30
    |
273 |             let mean = sum / count as f32;
    |                              ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/denoising.rs:274:38
    |
274 |             let variance = (sum_sq / count as f32) - (mean * mean);
    |                                      ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:277:26
    |
277 |             let center = src.at(row, col)?[0] as f32;
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
277 -             let center = src.at(row, col)?[0] as f32;
277 +             let center = f32::from(src.at(row, col)?[0]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/denoising.rs:284:43
    |
284 |             result.at_mut(row, col)?[0] = filtered.clamp(0.0, 255.0) as u8;
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/denoising.rs:284:43
    |
284 |             result.at_mut(row, col)?[0] = filtered.clamp(0.0, 255.0) as u8;
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/photo/denoising.rs:292:1
    |
292 | / pub fn total_variation_denoise(
293 | |     src: &Mat,
294 | |     lambda: f32,
295 | |     iterations: usize,
296 | | ) -> Result<Mat> {
    | |________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:310:30
    |
310 |                 let center = result.at(row, col)?[0] as f32;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
310 -                 let center = result.at(row, col)?[0] as f32;
310 +                 let center = f32::from(result.at(row, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:313:34
    |
313 |                 let dx_forward = result.at(row, col + 1)?[0] as f32 - center;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
313 -                 let dx_forward = result.at(row, col + 1)?[0] as f32 - center;
313 +                 let dx_forward = f32::from(result.at(row, col + 1)?[0]) - center;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:314:44
    |
314 |                 let dx_backward = center - result.at(row, col - 1)?[0] as f32;
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
314 -                 let dx_backward = center - result.at(row, col - 1)?[0] as f32;
314 +                 let dx_backward = center - f32::from(result.at(row, col - 1)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:315:34
    |
315 |                 let dy_forward = result.at(row + 1, col)?[0] as f32 - center;
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
315 -                 let dy_forward = result.at(row + 1, col)?[0] as f32 - center;
315 +                 let dy_forward = f32::from(result.at(row + 1, col)?[0]) - center;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:316:44
    |
316 |                 let dy_backward = center - result.at(row - 1, col)?[0] as f32;
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
316 -                 let dy_backward = center - result.at(row - 1, col)?[0] as f32;
316 +                 let dy_backward = center - f32::from(result.at(row - 1, col)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/denoising.rs:326:42
    |
326 |                 let data_term = center - src.at(row, col)?[0] as f32;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
326 -                 let data_term = center - src.at(row, col)?[0] as f32;
326 +                 let data_term = center - f32::from(src.at(row, col)?[0]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/denoising.rs:330:45
    |
330 |                 next.at_mut(row, col)?[0] = new_val as u8;
    |                                             ^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/denoising.rs:330:45
    |
330 |                 next.at_mut(row, col)?[0] = new_val as u8;
    |                                             ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/mod.rs:15:1
   |
15 | / pub fn inpaint(
16 | |     src: &Mat,
17 | |     inpaint_mask: &Mat,
18 | |     dst: &mut Mat,
19 | |     inpaint_radius: f64,
20 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `f64` to `i32` may truncate the value
  --> src/photo/mod.rs:35:18
   |
35 |     let radius = inpaint_radius as i32;
   |                  ^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/mod.rs:49:33
   |
49 |                         let y = row as i32 + dy;
   |                                 ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
49 -                         let y = row as i32 + dy;
49 +                         let y = i32::try_from(row) + dy;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/mod.rs:49:33
   |
49 |                         let y = row as i32 + dy;
   |                                 ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/mod.rs:50:33
   |
50 |                         let x = col as i32 + dx;
   |                                 ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
50 -                         let x = col as i32 + dx;
50 +                         let x = i32::try_from(col) + dx;
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/mod.rs:50:33
   |
50 |                         let x = col as i32 + dx;
   |                                 ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/mod.rs:52:42
   |
52 |                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
   |                                          ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
52 -                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
52 +                         if y >= 0 && y < i32::try_from(src.rows()) && x >= 0 && x < src.cols() as i32 {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/mod.rs:52:42
   |
52 |                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
   |                                          ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/photo/mod.rs:52:77
   |
52 |                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
   |                                                                             ^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
52 -                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
52 +                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < i32::try_from(src.cols()) {
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/photo/mod.rs:52:77
   |
52 |                         if y >= 0 && y < src.rows() as i32 && x >= 0 && x < src.cols() as i32 {
   |                                                                             ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/mod.rs:53:65
   |
53 | ...                   let neighbor_mask = inpaint_mask.at(y as usize, x as usize)?;
   |                                                           ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/mod.rs:53:77
   |
53 | ...                   let neighbor_mask = inpaint_mask.at(y as usize, x as usize)?;
   |                                                                       ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/mod.rs:57:61
   |
57 | ...                   let neighbor_pixel = src.at(y as usize, x as usize)?;
   |                                                   ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
  --> src/photo/mod.rs:57:73
   |
57 | ...                   let neighbor_pixel = src.at(y as usize, x as usize)?;
   |                                                               ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
  --> src/photo/mod.rs:60:49
   |
60 | ...                   sums[ch] += neighbor_pixel[ch] as f64;
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
60 -                                     sums[ch] += neighbor_pixel[ch] as f64;
60 +                                     sums[ch] += f64::from(neighbor_pixel[ch]);
   |

warning: casting `f64` to `u8` may truncate the value
  --> src/photo/mod.rs:73:41
   |
73 |                         dst_pixel[ch] = (sums[ch] / count as f64) as u8;
   |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `u8` may lose the sign of the value
  --> src/photo/mod.rs:73:41
   |
73 |                         dst_pixel[ch] = (sums[ch] / count as f64) as u8;
   |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/photo/mod.rs:73:53
   |
73 |                         dst_pixel[ch] = (sums[ch] / count as f64) as u8;
   |                                                     ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
73 -                         dst_pixel[ch] = (sums[ch] / count as f64) as u8;
73 +                         dst_pixel[ch] = (sums[ch] / f64::from(count)) as u8;
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/photo/mod.rs:84:1
   |
84 | / pub fn fast_nl_means_denoising(
85 | |     src: &Mat,
86 | |     dst: &mut Mat,
87 | |     h: f32,
88 | |     template_window_size: i32,
89 | |     search_window_size: i32,
90 | | ) -> Result<()> {
   | |_______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:110:29
    |
110 |                     let y = row as i32 + dy;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
110 -                     let y = row as i32 + dy;
110 +                     let y = i32::try_from(row) + dy;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:110:29
    |
110 |                     let y = row as i32 + dy;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:111:29
    |
111 |                     let x = col as i32 + dx;
    |                             ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
111 -                     let x = col as i32 + dx;
111 +                     let x = i32::try_from(col) + dx;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:111:29
    |
111 |                     let x = col as i32 + dx;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:113:50
    |
113 |                     if y >= half_template && y < src.rows() as i32 - half_template
    |                                                  ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
113 -                     if y >= half_template && y < src.rows() as i32 - half_template
113 +                     if y >= half_template && y < i32::try_from(src.rows()) - half_template
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:113:50
    |
113 |                     if y >= half_template && y < src.rows() as i32 - half_template
    |                                                  ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:114:54
    |
114 |                         && x >= half_template && x < src.cols() as i32 - half_template
    |                                                      ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
114 -                         && x >= half_template && x < src.cols() as i32 - half_template
114 +                         && x >= half_template && x < i32::try_from(src.cols()) - half_template
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:114:54
    |
114 |                         && x >= half_template && x < src.cols() as i32 - half_template
    |                                                      ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:119:29
    |
119 | ...                   row as i32,
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
119 -                             row as i32,
119 +                             i32::try_from(row),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:119:29
    |
119 | ...                   row as i32,
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:120:29
    |
120 | ...                   col as i32,
    |                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
120 -                             col as i32,
120 +                             i32::try_from(col),
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:120:29
    |
120 | ...                   col as i32,
    |                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:128:53
    |
128 |                         let neighbor_pixel = src.at(y as usize, x as usize)?;
    |                                                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:128:65
    |
128 |                         let neighbor_pixel = src.at(y as usize, x as usize)?;
    |                                                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/mod.rs:129:47
    |
129 |                         pixel_sum += weight * neighbor_pixel[0] as f32;
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
129 -                         pixel_sum += weight * neighbor_pixel[0] as f32;
129 +                         pixel_sum += weight * f32::from(neighbor_pixel[0]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/photo/mod.rs:137:17
    |
137 |                 (pixel_sum / weight_sum) as u8
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/photo/mod.rs:137:17
    |
137 |                 (pixel_sum / weight_sum) as u8
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:165:32
    |
165 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
165 -             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
165 +             if y1 >= 0 && y1 < i32::try_from(img.rows()) && x1 >= 0 && x1 < img.cols() as i32
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:165:32
    |
165 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:165:69
    |
165 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
165 -             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
165 +             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < i32::try_from(img.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:165:69
    |
165 |             if y1 >= 0 && y1 < img.rows() as i32 && x1 >= 0 && x1 < img.cols() as i32
    |                                                                     ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:166:36
    |
166 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
    |                                    ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
166 -                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
166 +                 && y2 >= 0 && y2 < i32::try_from(img.rows()) && x2 >= 0 && x2 < img.cols() as i32
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:166:36
    |
166 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
    |                                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/photo/mod.rs:166:73
    |
166 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
166 -                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
166 +                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < i32::try_from(img.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/photo/mod.rs:166:73
    |
166 |                 && y2 >= 0 && y2 < img.rows() as i32 && x2 >= 0 && x2 < img.cols() as i32
    |                                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:168:33
    |
168 |                 let p1 = img.at(y1 as usize, x1 as usize)?;
    |                                 ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:168:46
    |
168 |                 let p1 = img.at(y1 as usize, x1 as usize)?;
    |                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:169:33
    |
169 |                 let p2 = img.at(y2 as usize, x2 as usize)?;
    |                                 ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/photo/mod.rs:169:46
    |
169 |                 let p2 = img.at(y2 as usize, x2 as usize)?;
    |                                              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/mod.rs:171:28
    |
171 |                 let diff = p1[0] as f32 - p2[0] as f32;
    |                            ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
171 -                 let diff = p1[0] as f32 - p2[0] as f32;
171 +                 let diff = f32::from(p1[0]) - p2[0] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/photo/mod.rs:171:43
    |
171 |                 let diff = p1[0] as f32 - p2[0] as f32;
    |                                           ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
171 -                 let diff = p1[0] as f32 - p2[0] as f32;
171 +                 let diff = p1[0] as f32 - f32::from(p2[0]);
    |

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/photo/mod.rs:178:30
    |
178 |     Ok(if count > 0 { dist / count as f32 } else { 0.0 })
    |                              ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:18:12
   |
18 |     pub fn new(fx: f64, fy: f64, cx: f64, cy: f64) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
18 ~     #[must_use] 
19 ~     pub fn new(fx: f64, fy: f64, cx: f64, cy: f64) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:23:12
   |
23 |     pub fn from_matrix(data: &[[f64; 3]; 3]) -> Self {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
23 ~     #[must_use] 
24 ~     pub fn from_matrix(data: &[[f64; 3]; 3]) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:33:12
   |
33 |     pub fn to_matrix(&self) -> [[f64; 3]; 3] {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
33 ~     #[must_use] 
34 ~     pub fn to_matrix(&self) -> [[f64; 3]; 3] {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:42:12
   |
42 |     pub fn project(&self, point_3d: &Point3f) -> Point {
   |            ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
42 ~     #[must_use] 
43 ~     pub fn project(&self, point_3d: &Point3f) -> Point {
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:43:27
   |
43 |         let x = self.fx * point_3d.x as f64 / point_3d.z as f64 + self.cx;
   |                           ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
43 -         let x = self.fx * point_3d.x as f64 / point_3d.z as f64 + self.cx;
43 +         let x = self.fx * f64::from(point_3d.x) / point_3d.z as f64 + self.cx;
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:43:47
   |
43 |         let x = self.fx * point_3d.x as f64 / point_3d.z as f64 + self.cx;
   |                                               ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
43 -         let x = self.fx * point_3d.x as f64 / point_3d.z as f64 + self.cx;
43 +         let x = self.fx * point_3d.x as f64 / f64::from(point_3d.z) + self.cx;
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:44:27
   |
44 |         let y = self.fy * point_3d.y as f64 / point_3d.z as f64 + self.cy;
   |                           ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
44 -         let y = self.fy * point_3d.y as f64 / point_3d.z as f64 + self.cy;
44 +         let y = self.fy * f64::from(point_3d.y) / point_3d.z as f64 + self.cy;
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:44:47
   |
44 |         let y = self.fy * point_3d.y as f64 / point_3d.z as f64 + self.cy;
   |                                               ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
44 -         let y = self.fy * point_3d.y as f64 / point_3d.z as f64 + self.cy;
44 +         let y = self.fy * point_3d.y as f64 / f64::from(point_3d.z) + self.cy;
   |

warning: casting `f64` to `i32` may truncate the value
  --> src/calib3d/camera.rs:45:20
   |
45 |         Point::new(x as i32, y as i32)
   |                    ^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
  --> src/calib3d/camera.rs:45:30
   |
45 |         Point::new(x as i32, y as i32)
   |                              ^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:49:12
   |
49 |     pub fn unproject(&self, point_2d: &Point, depth: f64) -> Point3f {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
49 ~     #[must_use] 
50 ~     pub fn unproject(&self, point_2d: &Point, depth: f64) -> Point3f {
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:50:18
   |
50 |         let x = (point_2d.x as f64 - self.cx) * depth / self.fx;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
50 -         let x = (point_2d.x as f64 - self.cx) * depth / self.fx;
50 +         let x = (f64::from(point_2d.x) - self.cx) * depth / self.fx;
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/camera.rs:51:18
   |
51 |         let y = (point_2d.y as f64 - self.cy) * depth / self.fy;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
51 -         let y = (point_2d.y as f64 - self.cy) * depth / self.fy;
51 +         let y = (f64::from(point_2d.y) - self.cy) * depth / self.fy;
   |

warning: casting `f64` to `f32` may truncate the value
  --> src/calib3d/camera.rs:52:22
   |
52 |         Point3f::new(x as f32, y as f32, depth as f32)
   |                      ^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
  --> src/calib3d/camera.rs:52:32
   |
52 |         Point3f::new(x as f32, y as f32, depth as f32)
   |                                ^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
  --> src/calib3d/camera.rs:52:42
   |
52 |         Point3f::new(x as f32, y as f32, depth as f32)
   |                                          ^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:66:12
   |
66 |     pub fn new(k1: f64, k2: f64, k3: f64, p1: f64, p2: f64) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
66 ~     #[must_use] 
67 ~     pub fn new(k1: f64, k2: f64, k3: f64, p1: f64, p2: f64) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:73:12
   |
73 |     pub fn zero() -> Self {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
73 ~     #[must_use] 
74 ~     pub fn zero() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/camera.rs:81:12
   |
81 |     pub fn distort(&self, x: f64, y: f64) -> (f64, f64) {
   |            ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
81 ~     #[must_use] 
82 ~     pub fn distort(&self, x: f64, y: f64) -> (f64, f64) {
   |

warning: this method could have a `#[must_use]` attribute
   --> src/calib3d/camera.rs:100:12
    |
100 |     pub fn undistort(&self, x_dist: f64, y_dist: f64) -> (f64, f64) {
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
100 ~     #[must_use] 
101 ~     pub fn undistort(&self, x_dist: f64, y_dist: f64) -> (f64, f64) {
    |

warning: manual implementation of an assign operation
   --> src/calib3d/camera.rs:107:13
    |
107 |             x = x - (x_d - x_dist);
    |             ^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `x -= (x_d - x_dist)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#assign_op_pattern
    = note: `#[warn(clippy::assign_op_pattern)]` on by default

warning: manual implementation of an assign operation
   --> src/calib3d/camera.rs:108:13
    |
108 |             y = y - (y_d - y_dist);
    |             ^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `y -= (y_d - y_dist)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#assign_op_pattern

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/camera.rs:116:1
    |
116 | / pub fn calibrate_camera(
117 | |     object_points: &[Vec<Point3f>],
118 | |     image_points: &[Vec<Point>],
119 | |     image_size: (usize, usize),
120 | | ) -> Result<(CameraMatrix, DistortionCoefficients, f64)> {
    | |________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/camera.rs:135:14
    |
135 |     let cx = width as f64 / 2.0;
    |              ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/camera.rs:136:14
    |
136 |     let cy = height as f64 / 2.0;
    |              ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/camera.rs:137:13
    |
137 |     let f = (width.max(height)) as f64;
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: function or method calls as the initial value in zero-sized array initializers may cause side effects
   --> src/calib3d/camera.rs:151:9
    |
151 |         let jacobian = vec![vec![0.0; 9]; 0]; // 4 camera params + 5 distortion params
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `vec![0.0; 9]; let jacobian: std::vec::Vec<std::vec::Vec<f64>> = vec![];`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#zero_repeat_side_effects
    = note: `#[warn(clippy::zero_repeat_side_effects)]` on by default

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:166:26
    |
166 |                 let dx = projected.x as f64 - img_pt.x as f64;
    |                          ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
166 -                 let dx = projected.x as f64 - img_pt.x as f64;
166 +                 let dx = f64::from(projected.x) - img_pt.x as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:166:47
    |
166 |                 let dx = projected.x as f64 - img_pt.x as f64;
    |                                               ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
166 -                 let dx = projected.x as f64 - img_pt.x as f64;
166 +                 let dx = projected.x as f64 - f64::from(img_pt.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:167:26
    |
167 |                 let dy = projected.y as f64 - img_pt.y as f64;
    |                          ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
167 -                 let dy = projected.y as f64 - img_pt.y as f64;
167 +                 let dy = f64::from(projected.y) - img_pt.y as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:167:47
    |
167 |                 let dy = projected.y as f64 - img_pt.y as f64;
    |                                               ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
167 -                 let dy = projected.y as f64 - img_pt.y as f64;
167 +                 let dy = projected.y as f64 - f64::from(img_pt.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:177:40
    |
177 |         let rms_error = (total_error / num_points as f64).sqrt();
    |                                        ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
177 -         let rms_error = (total_error / num_points as f64).sqrt();
177 +         let rms_error = (total_error / f64::from(num_points)).sqrt();
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/camera.rs:191:37
    |
191 |     let final_error = (prev_error / object_points.len() as f64).sqrt();
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:227:27
    |
227 |     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |                           ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
227 -     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
227 +     let x = r_mat[0][0] * f64::from(point_3d.x) + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:227:61
    |
227 |     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
227 -     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
227 +     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * f64::from(point_3d.y) + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:227:95
    |
227 |     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
    |                                                                                               ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
227 -     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * point_3d.z as f64 + tvec[0];
227 +     let x = r_mat[0][0] * point_3d.x as f64 + r_mat[0][1] * point_3d.y as f64 + r_mat[0][2] * f64::from(point_3d.z) + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:228:27
    |
228 |     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |                           ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
228 -     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
228 +     let y = r_mat[1][0] * f64::from(point_3d.x) + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:228:61
    |
228 |     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
228 -     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
228 +     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * f64::from(point_3d.y) + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:228:95
    |
228 |     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
    |                                                                                               ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
228 -     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * point_3d.z as f64 + tvec[1];
228 +     let y = r_mat[1][0] * point_3d.x as f64 + r_mat[1][1] * point_3d.y as f64 + r_mat[1][2] * f64::from(point_3d.z) + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:229:27
    |
229 |     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |                           ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
229 -     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
229 +     let z = r_mat[2][0] * f64::from(point_3d.x) + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:229:61
    |
229 |     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |                                                             ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
229 -     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
229 +     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * f64::from(point_3d.y) + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/camera.rs:229:95
    |
229 |     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
    |                                                                                               ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
229 -     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * point_3d.z as f64 + tvec[2];
229 +     let z = r_mat[2][0] * point_3d.x as f64 + r_mat[2][1] * point_3d.y as f64 + r_mat[2][2] * f64::from(point_3d.z) + tvec[2];
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/camera.rs:242:16
    |
242 |     Point::new(u as i32, v as i32)
    |                ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/camera.rs:242:26
    |
242 |     Point::new(u as i32, v as i32)
    |                          ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this function could have a `#[must_use]` attribute
   --> src/calib3d/camera.rs:246:8
    |
246 | pub fn rodrigues(rvec: &[f64; 3]) -> [[f64; 3]; 3] {
    |        ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
246 + #[must_use] 
247 | pub fn rodrigues(rvec: &[f64; 3]) -> [[f64; 3]; 3] {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/calib3d/stereo.rs:20:1
   |
20 | / pub fn stereo_calibrate(
21 | |     object_points: &[Vec<Point3f>],
22 | |     image_points_left: &[Vec<Point>],
23 | |     image_points_right: &[Vec<Point>],
24 | |     image_size: (usize, usize),
25 | | ) -> Result<StereoParameters> {
   | |_____________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> src/calib3d/stereo.rs:34:5
   |
34 |     use crate::calib3d::camera::calibrate_camera;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: this function's return value is unnecessarily wrapped by `Result`
  --> src/calib3d/stereo.rs:73:1
   |
73 | / fn estimate_stereo_transform(
74 | |     _object_points: &[Vec<Point3f>],
75 | |     _image_points_left: &[Vec<Point>],
76 | |     _image_points_right: &[Vec<Point>],
77 | |     _camera_left: &CameraMatrix,
78 | |     _camera_right: &CameraMatrix,
79 | | ) -> Result<([[f64; 3]; 3], [f64; 3])> {
   | |______________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
   |
79 - ) -> Result<([[f64; 3]; 3], [f64; 3])> {
79 + ) -> ([[f64; 3]; 3], [f64; 3]) {
   |
help: ...and then remove the surrounding `Ok()` from returning expressions
   |
83 -     Ok((rotation, translation))
83 +     (rotation, translation)
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/stereo.rs:114:1
    |
114 | / pub fn compute_stereo_disparity(
115 | |     left: &Mat,
116 | |     right: &Mat,
117 | |     min_disparity: i32,
118 | |     max_disparity: i32,
119 | |     block_size: usize,
120 | | ) -> Result<Mat> {
    | |________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:144:33
    |
144 |                 let right_col = col as i32 - d;
    |                                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
144 -                 let right_col = col as i32 - d;
144 +                 let right_col = i32::try_from(col) - d;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:144:33
    |
144 |                 let right_col = col as i32 - d;
    |                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:146:32
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
146 -                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
146 +                 if right_col < i32::try_from(half_block) || right_col >= right.cols() as i32 - half_block as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:146:32
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:146:66
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                                                  ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
146 -                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
146 +                 if right_col < half_block as i32 || right_col >= i32::try_from(right.cols()) - half_block as i32 {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:146:66
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                                                  ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:146:88
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
146 -                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
146 +                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - i32::try_from(half_block) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:146:88
    |
146 |                 if right_col < half_block as i32 || right_col >= right.cols() as i32 - half_block as i32 {
    |                                                                                        ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:153:28
    |
153 |                 for dy in -(half_block as i32)..=(half_block as i32) {
    |                            ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
153 -                 for dy in -(half_block as i32)..=(half_block as i32) {
153 +                 for dy in -i32::try_from(half_block)..=(half_block as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:153:28
    |
153 |                 for dy in -(half_block as i32)..=(half_block as i32) {
    |                            ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:153:50
    |
153 |                 for dy in -(half_block as i32)..=(half_block as i32) {
    |                                                  ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
153 -                 for dy in -(half_block as i32)..=(half_block as i32) {
153 +                 for dy in -(half_block as i32)..=i32::try_from(half_block) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:153:50
    |
153 |                 for dy in -(half_block as i32)..=(half_block as i32) {
    |                                                  ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:154:32
    |
154 |                     for dx in -(half_block as i32)..=(half_block as i32) {
    |                                ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
154 -                     for dx in -(half_block as i32)..=(half_block as i32) {
154 +                     for dx in -i32::try_from(half_block)..=(half_block as i32) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:154:32
    |
154 |                     for dx in -(half_block as i32)..=(half_block as i32) {
    |                                ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:154:54
    |
154 |                     for dx in -(half_block as i32)..=(half_block as i32) {
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
154 -                     for dx in -(half_block as i32)..=(half_block as i32) {
154 +                     for dx in -(half_block as i32)..=i32::try_from(half_block) {
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:154:54
    |
154 |                     for dx in -(half_block as i32)..=(half_block as i32) {
    |                                                      ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/calib3d/stereo.rs:155:33
    |
155 |                         let y = (row as i32 + dy) as usize;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:155:34
    |
155 |                         let y = (row as i32 + dy) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
155 -                         let y = (row as i32 + dy) as usize;
155 +                         let y = (i32::try_from(row) + dy) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:155:34
    |
155 |                         let y = (row as i32 + dy) as usize;
    |                                  ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/calib3d/stereo.rs:156:38
    |
156 |                         let x_left = (col as i32 + dx) as usize;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/stereo.rs:156:39
    |
156 |                         let x_left = (col as i32 + dx) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
156 -                         let x_left = (col as i32 + dx) as usize;
156 +                         let x_left = (i32::try_from(col) + dx) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/stereo.rs:156:39
    |
156 |                         let x_left = (col as i32 + dx) as usize;
    |                                       ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/calib3d/stereo.rs:157:39
    |
157 |                         let x_right = (right_col + dx) as usize;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:159:40
    |
159 |                         let val_left = left.at(y, x_left)?[0] as f32;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
159 -                         let val_left = left.at(y, x_left)?[0] as f32;
159 +                         let val_left = f32::from(left.at(y, x_left)?[0]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:160:41
    |
160 |                         let val_right = right.at(y, x_right)?[0] as f32;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
160 -                         let val_right = right.at(y, x_right)?[0] as f32;
160 +                         let val_right = f32::from(right.at(y, x_right)?[0]);
    |

warning: casting `i32` to `u8` may truncate the value
   --> src/calib3d/stereo.rs:173:24
    |
173 |             pixel[0] = best_disparity.abs().min(255) as u8;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
173 -             pixel[0] = best_disparity.abs().min(255) as u8;
173 +             pixel[0] = u8::try_from(best_disparity.abs().min(255));
    |

warning: casting `i32` to `u8` may lose the sign of the value
   --> src/calib3d/stereo.rs:173:24
    |
173 |             pixel[0] = best_disparity.abs().min(255) as u8;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/stereo.rs:181:1
    |
181 | / pub fn triangulate_point(
182 | |     point_left: Point,
183 | |     point_right: Point,
184 | |     stereo_params: &StereoParameters,
185 | | ) -> Result<Point3f> {
    | |____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:187:15
    |
187 |     let x1 = (point_left.x as f64 - stereo_params.camera_matrix_left.cx) / stereo_params.camera_matrix_left.fx;
    |               ^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
187 -     let x1 = (point_left.x as f64 - stereo_params.camera_matrix_left.cx) / stereo_params.camera_matrix_left.fx;
187 +     let x1 = (f64::from(point_left.x) - stereo_params.camera_matrix_left.cx) / stereo_params.camera_matrix_left.fx;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:188:15
    |
188 |     let y1 = (point_left.y as f64 - stereo_params.camera_matrix_left.cy) / stereo_params.camera_matrix_left.fy;
    |               ^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
188 -     let y1 = (point_left.y as f64 - stereo_params.camera_matrix_left.cy) / stereo_params.camera_matrix_left.fy;
188 +     let y1 = (f64::from(point_left.y) - stereo_params.camera_matrix_left.cy) / stereo_params.camera_matrix_left.fy;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:190:15
    |
190 |     let x2 = (point_right.x as f64 - stereo_params.camera_matrix_right.cx) / stereo_params.camera_matrix_right.fx;
    |               ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
190 -     let x2 = (point_right.x as f64 - stereo_params.camera_matrix_right.cx) / stereo_params.camera_matrix_right.fx;
190 +     let x2 = (f64::from(point_right.x) - stereo_params.camera_matrix_right.cx) / stereo_params.camera_matrix_right.fx;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/stereo.rs:191:15
    |
191 |     let y2 = (point_right.y as f64 - stereo_params.camera_matrix_right.cy) / stereo_params.camera_matrix_right.fy;
    |               ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
191 -     let y2 = (point_right.y as f64 - stereo_params.camera_matrix_right.cy) / stereo_params.camera_matrix_right.fy;
191 +     let y2 = (f64::from(point_right.y) - stereo_params.camera_matrix_right.cy) / stereo_params.camera_matrix_right.fy;
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/stereo.rs:214:21
    |
214 |     Ok(Point3f::new(x as f32, y as f32, z as f32))
    |                     ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/stereo.rs:214:31
    |
214 |     Ok(Point3f::new(x as f32, y as f32, z as f32))
    |                               ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/stereo.rs:214:41
    |
214 |     Ok(Point3f::new(x as f32, y as f32, z as f32))
    |                                         ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/stereo.rs:218:1
    |
218 | / pub fn stereo_rectify(
219 | |     stereo_params: &StereoParameters,
220 | |     image_size: (usize, usize),
221 | | ) -> Result<(CameraMatrix, CameraMatrix, [[f64; 3]; 3], [[f64; 3]; 3])> {
    | |_______________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/calib3d/stereo.rs:221:6
    |
221 | ) -> Result<(CameraMatrix, CameraMatrix, [[f64; 3]; 3], [[f64; 3]; 3])> {
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/stereo.rs:234:26
    |
234 |     new_camera_left.cy = height as f64 / 2.0;
    |                          ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/stereo.rs:235:27
    |
235 |     new_camera_right.cy = height as f64 / 2.0;
    |                           ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function returning `Result` missing `# Errors` section
  --> src/calib3d/pnp.rs:7:1
   |
 7 | / pub fn solve_pnp(
 8 | |     object_points: &[Point3f],
 9 | |     image_points: &[Point],
10 | |     camera_matrix: &CameraMatrix,
11 | |     method: PnPMethod,
12 | | ) -> Result<([f64; 3], [f64; 3])> {
   | |_________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: item in documentation is missing backticks
  --> src/calib3d/pnp.rs:47:15
   |
47 | /// Iterative PnP using Levenberg-Marquardt
   |               ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
   |
47 - /// Iterative PnP using Levenberg-Marquardt
47 + /// Iterative `PnP` using Levenberg-Marquardt
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:101:18
    |
101 |         let x = (pt.x as f64 - camera_matrix.cx) / camera_matrix.fx;
    |                  ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
101 -         let x = (pt.x as f64 - camera_matrix.cx) / camera_matrix.fx;
101 +         let x = (f64::from(pt.x) - camera_matrix.cx) / camera_matrix.fx;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:102:18
    |
102 |         let y = (pt.y as f64 - camera_matrix.cy) / camera_matrix.fy;
    |                  ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
102 -         let y = (pt.y as f64 - camera_matrix.cy) / camera_matrix.fy;
102 +         let y = (f64::from(pt.y) - camera_matrix.cy) / camera_matrix.fy;
    |

warning: item in documentation is missing backticks
   --> src/calib3d/pnp.rs:148:5
    |
148 | /// EPnP (Efficient Perspective-n-Point)
    |     ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
148 - /// EPnP (Efficient Perspective-n-Point)
148 + /// `EPnP` (Efficient Perspective-n-Point)
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:172:18
    |
172 |         let u = (img_pt.x as f64 - camera_matrix.cx) / camera_matrix.fx;
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
172 -         let u = (img_pt.x as f64 - camera_matrix.cx) / camera_matrix.fx;
172 +         let u = (f64::from(img_pt.x) - camera_matrix.cx) / camera_matrix.fx;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:173:18
    |
173 |         let v = (img_pt.y as f64 - camera_matrix.cy) / camera_matrix.fy;
    |                  ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
173 -         let v = (img_pt.y as f64 - camera_matrix.cy) / camera_matrix.fy;
173 +         let v = (f64::from(img_pt.y) - camera_matrix.cy) / camera_matrix.fy;
    |

warning: using `clone` on type `[[f64; 3]; 4]` which implements the `Copy` trait
   --> src/calib3d/pnp.rs:185:33
    |
185 |     let camera_control_points = control_points.clone();
    |                                 ^^^^^^^^^^^^^^^^^^^^^^ help: try removing the `clone` call: `control_points`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#clone_on_copy
    = note: `#[warn(clippy::clone_on_copy)]` on by default

warning: item in documentation is missing backticks
   --> src/calib3d/pnp.rs:196:26
    |
196 | /// Direct Least Squares PnP
    |                          ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#doc_markdown
help: try
    |
196 - /// Direct Least Squares PnP
196 + /// Direct Least Squares `PnP`
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/pnp.rs:197:1
    |
197 | / fn solve_pnp_dls(
198 | |     object_points: &[Point3f],
199 | |     image_points: &[Point],
200 | |     camera_matrix: &CameraMatrix,
201 | | ) -> Result<([f64; 3], [f64; 3])> {
    | |_________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
201 - ) -> Result<([f64; 3], [f64; 3])> {
201 + ) -> ([f64; 3], [f64; 3]) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
244 -     Ok((rvec, tvec))
244 +     (rvec, tvec)
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:208:17
    |
208 |         let u = img_pt.x as f64;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
208 -         let u = img_pt.x as f64;
208 +         let u = f64::from(img_pt.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:209:17
    |
209 |         let v = img_pt.y as f64;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
209 -         let v = img_pt.y as f64;
209 +         let v = f64::from(img_pt.y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:211:17
    |
211 |         let x = obj_pt.x as f64;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
211 -         let x = obj_pt.x as f64;
211 +         let x = f64::from(obj_pt.x);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:212:17
    |
212 |         let y = obj_pt.y as f64;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
212 -         let y = obj_pt.y as f64;
212 +         let y = f64::from(obj_pt.y);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:213:17
    |
213 |         let z = obj_pt.z as f64;
    |                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
213 -         let z = obj_pt.z as f64;
213 +         let z = f64::from(obj_pt.z);
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:251:16
    |
251 |     [0.0, 0.0, (centroid.z * 2.0) as f64]
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
251 -     [0.0, 0.0, (centroid.z * 2.0) as f64]
251 +     [0.0, 0.0, f64::from(centroid.z * 2.0)]
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/calib3d/pnp.rs:265:13
    |
265 |     let n = points.len() as f32;
    |             ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/pnp.rs:269:1
    |
269 | / fn compute_jacobian_and_residuals(
270 | |     object_points: &[Point3f],
271 | |     image_points: &[Point],
272 | |     camera_matrix: &CameraMatrix,
273 | |     rvec: &[f64; 3],
274 | |     tvec: &[f64; 3],
275 | | ) -> Result<(Vec<Vec<f64>>, Vec<f64>)> {
    | |______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
275 - ) -> Result<(Vec<Vec<f64>>, Vec<f64>)> {
275 + ) -> (std::vec::Vec<std::vec::Vec<f64>>, std::vec::Vec<f64>) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
307 -     Ok((jacobian, residuals))
307 +     (jacobian, residuals)
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:285:28
    |
285 |         residuals[2 * i] = projected.x as f64 - img_pt.x as f64;
    |                            ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
285 -         residuals[2 * i] = projected.x as f64 - img_pt.x as f64;
285 +         residuals[2 * i] = f64::from(projected.x) - img_pt.x as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:285:49
    |
285 |         residuals[2 * i] = projected.x as f64 - img_pt.x as f64;
    |                                                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
285 -         residuals[2 * i] = projected.x as f64 - img_pt.x as f64;
285 +         residuals[2 * i] = projected.x as f64 - f64::from(img_pt.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:286:32
    |
286 |         residuals[2 * i + 1] = projected.y as f64 - img_pt.y as f64;
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
286 -         residuals[2 * i + 1] = projected.y as f64 - img_pt.y as f64;
286 +         residuals[2 * i + 1] = f64::from(projected.y) - img_pt.y as f64;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:286:53
    |
286 |         residuals[2 * i + 1] = projected.y as f64 - img_pt.y as f64;
    |                                                     ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
286 -         residuals[2 * i + 1] = projected.y as f64 - img_pt.y as f64;
286 +         residuals[2 * i + 1] = projected.y as f64 - f64::from(img_pt.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:302:35
    |
302 |             jacobian[2 * i][j] = (projected_plus.x as f64 - projected.x as f64) / eps;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
302 -             jacobian[2 * i][j] = (projected_plus.x as f64 - projected.x as f64) / eps;
302 +             jacobian[2 * i][j] = (f64::from(projected_plus.x) - projected.x as f64) / eps;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:302:61
    |
302 |             jacobian[2 * i][j] = (projected_plus.x as f64 - projected.x as f64) / eps;
    |                                                             ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
302 -             jacobian[2 * i][j] = (projected_plus.x as f64 - projected.x as f64) / eps;
302 +             jacobian[2 * i][j] = (projected_plus.x as f64 - f64::from(projected.x)) / eps;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:303:39
    |
303 |             jacobian[2 * i + 1][j] = (projected_plus.y as f64 - projected.y as f64) / eps;
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
303 -             jacobian[2 * i + 1][j] = (projected_plus.y as f64 - projected.y as f64) / eps;
303 +             jacobian[2 * i + 1][j] = (f64::from(projected_plus.y) - projected.y as f64) / eps;
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:303:65
    |
303 |             jacobian[2 * i + 1][j] = (projected_plus.y as f64 - projected.y as f64) / eps;
    |                                                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
303 -             jacobian[2 * i + 1][j] = (projected_plus.y as f64 - projected.y as f64) / eps;
303 +             jacobian[2 * i + 1][j] = (projected_plus.y as f64 - f64::from(projected.y)) / eps;
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:320:27
    |
320 |     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
    |                           ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
320 +     let x = r_mat[0][0] * f64::from(point.x) + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:320:58
    |
320 |     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
    |                                                          ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
320 +     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * f64::from(point.y) + r_mat[0][2] * point.z as f64 + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:320:89
    |
320 |     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
    |                                                                                         ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * point.z as f64 + tvec[0];
320 +     let x = r_mat[0][0] * point.x as f64 + r_mat[0][1] * point.y as f64 + r_mat[0][2] * f64::from(point.z) + tvec[0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:321:27
    |
321 |     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
    |                           ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
321 +     let y = r_mat[1][0] * f64::from(point.x) + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:321:58
    |
321 |     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
    |                                                          ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
321 +     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * f64::from(point.y) + r_mat[1][2] * point.z as f64 + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:321:89
    |
321 |     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
    |                                                                                         ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * point.z as f64 + tvec[1];
321 +     let y = r_mat[1][0] * point.x as f64 + r_mat[1][1] * point.y as f64 + r_mat[1][2] * f64::from(point.z) + tvec[1];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:322:27
    |
322 |     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
    |                           ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
322 +     let z = r_mat[2][0] * f64::from(point.x) + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:322:58
    |
322 |     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
    |                                                          ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
322 +     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * f64::from(point.y) + r_mat[2][2] * point.z as f64 + tvec[2];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:322:89
    |
322 |     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
    |                                                                                         ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * point.z as f64 + tvec[2];
322 +     let z = r_mat[2][0] * point.x as f64 + r_mat[2][1] * point.y as f64 + r_mat[2][2] * f64::from(point.z) + tvec[2];
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/pnp.rs:327:16
    |
327 |     Point::new(u as i32, v as i32)
    |                ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/pnp.rs:327:26
    |
327 |     Point::new(u as i32, v as i32)
    |                          ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/pnp.rs:356:1
    |
356 | fn solve_6x6_system(a: &[[f64; 6]; 6], b: &[f64; 6], lambda: f64) -> Result<[f64; 6]> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
356 - fn solve_6x6_system(a: &[[f64; 6]; 6], b: &[f64; 6], lambda: f64) -> Result<[f64; 6]> {
356 + fn solve_6x6_system(a: &[[f64; 6]; 6], b: &[f64; 6], lambda: f64) -> [f64; 6] {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
369 -     Ok(x)
369 +     x
    |

warning: the loop variable `i` is used to index `a_damped`
   --> src/calib3d/pnp.rs:359:14
    |
359 |     for i in 0..6 {
    |              ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
359 -     for i in 0..6 {
359 +     for (i, <item>) in a_damped.iter_mut().enumerate() {
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:376:5
    |
376 |     ((dx * dx + dy * dy + dz * dz) as f64).sqrt()
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
376 -     ((dx * dx + dy * dy + dz * dz) as f64).sqrt()
376 +     f64::from(dx * dx + dy * dy + dz * dz).sqrt()
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:387:19
    |
387 |     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
    |                   ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
387 -     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
387 +     control[0] = [f64::from(centroid.x), centroid.y as f64, centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:387:38
    |
387 |     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
387 -     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
387 +     control[0] = [centroid.x as f64, f64::from(centroid.y), centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:387:57
    |
387 |     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
    |                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
387 -     control[0] = [centroid.x as f64, centroid.y as f64, centroid.z as f64];
387 +     control[0] = [centroid.x as f64, centroid.y as f64, f64::from(centroid.z)];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:390:19
    |
390 |     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
    |                   ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
390 -     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
390 +     control[1] = [f64::from(centroid.x) + 1.0, centroid.y as f64, centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:390:44
    |
390 |     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
    |                                            ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
390 -     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
390 +     control[1] = [centroid.x as f64 + 1.0, f64::from(centroid.y), centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:390:63
    |
390 |     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
    |                                                               ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
390 -     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, centroid.z as f64];
390 +     control[1] = [centroid.x as f64 + 1.0, centroid.y as f64, f64::from(centroid.z)];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:391:19
    |
391 |     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
    |                   ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
391 -     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
391 +     control[2] = [f64::from(centroid.x), centroid.y as f64 + 1.0, centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:391:38
    |
391 |     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
391 -     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
391 +     control[2] = [centroid.x as f64, f64::from(centroid.y) + 1.0, centroid.z as f64];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:391:63
    |
391 |     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
    |                                                               ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
391 -     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, centroid.z as f64];
391 +     control[2] = [centroid.x as f64, centroid.y as f64 + 1.0, f64::from(centroid.z)];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:392:19
    |
392 |     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
    |                   ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
392 -     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
392 +     control[3] = [f64::from(centroid.x), centroid.y as f64, centroid.z as f64 + 1.0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:392:38
    |
392 |     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
    |                                      ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
392 -     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
392 +     control[3] = [centroid.x as f64, f64::from(centroid.y), centroid.z as f64 + 1.0];
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/pnp.rs:392:57
    |
392 |     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
    |                                                         ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
392 -     control[3] = [centroid.x as f64, centroid.y as f64, centroid.z as f64 + 1.0];
392 +     control[3] = [centroid.x as f64, centroid.y as f64, f64::from(centroid.z) + 1.0];
    |

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/pnp.rs:402:1
    |
402 | / fn compute_transformation_from_points(
403 | |     _src_points: &[Point3f],
404 | |     _dst_points: &[[f64; 3]],
405 | | ) -> Result<([f64; 3], [f64; 3])> {
    | |_________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
405 - ) -> Result<([f64; 3], [f64; 3])> {
405 + ) -> ([f64; 3], [f64; 3]) {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
409 -     Ok((rvec, tvec))
409 +     (rvec, tvec)
    |

warning: docs for function returning `Result` missing `# Errors` section
 --> src/calib3d/homography.rs:5:1
  |
5 | / pub fn find_homography(
6 | |     src_points: &[Point],
7 | |     dst_points: &[Point],
8 | |     method: HomographyMethod,
9 | | ) -> Result<[[f64; 3]; 3]> {
  | |__________________________^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/homography.rs:44:17
   |
44 |         let x = src.x as f64;
   |                 ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
44 -         let x = src.x as f64;
44 +         let x = f64::from(src.x);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/homography.rs:45:17
   |
45 |         let y = src.y as f64;
   |                 ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
45 -         let y = src.y as f64;
45 +         let y = f64::from(src.y);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/homography.rs:46:18
   |
46 |         let xp = dst.x as f64;
   |                  ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
46 -         let xp = dst.x as f64;
46 +         let xp = f64::from(dst.x);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/homography.rs:47:18
   |
47 |         let yp = dst.y as f64;
   |                  ^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
47 -         let yp = dst.y as f64;
47 +         let yp = f64::from(dst.y);
   |

warning: adding items after statements is confusing, since items exist from the start of the scope
  --> src/calib3d/homography.rs:94:5
   |
94 |     use std::collections::HashSet;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: attempt to mutate range bound within loop
   --> src/calib3d/homography.rs:134:13
    |
134 |             max_iterations = compute_ransac_iterations(confidence, inlier_ratio, sample_size).min(max_iterations);
    |             ^^^^^^^^^^^^^^
    |
    = note: the range of the loop is unchanged
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#mut_range_bound
    = note: `#[warn(clippy::mut_range_bound)]` on by default

warning: casting `f64` to `usize` may truncate the value
   --> src/calib3d/homography.rs:102:23
    |
102 |             let idx = (rand_f64() * n as f64) as usize % n;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/calib3d/homography.rs:102:23
    |
102 |             let idx = (rand_f64() * n as f64) as usize % n;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/homography.rs:102:37
    |
102 |             let idx = (rand_f64() * n as f64) as usize % n;
    |                                     ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this could be rewritten as `let...else`
   --> src/calib3d/homography.rs:113:9
    |
113 | /         let h = match find_homography_dlt(&sample_src, &sample_dst) {
114 | |             Ok(h) => h,
115 | |             Err(_) => continue,
116 | |         };
    | |__________^ help: consider writing: `let Ok(h) = find_homography_dlt(&sample_src, &sample_dst) else { continue };`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_let_else

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/homography.rs:133:32
    |
133 |             let inlier_ratio = inliers as f64 / n as f64;
    |                                ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
133 -             let inlier_ratio = inliers as f64 / n as f64;
133 +             let inlier_ratio = f64::from(inliers) / n as f64;
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/homography.rs:133:49
    |
133 |             let inlier_ratio = inliers as f64 / n as f64;
    |                                                 ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/homography.rs:161:1
    |
161 | fn find_homography_lmeds(src_points: &[Point], dst_points: &[Point]) -> Result<[[f64; 3]; 3]> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
161 - fn find_homography_lmeds(src_points: &[Point], dst_points: &[Point]) -> Result<[[f64; 3]; 3]> {
161 + fn find_homography_lmeds(src_points: &[Point], dst_points: &[Point]) -> [[f64; 3]; 3] {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
201 -     Ok(best_homography)
201 +     best_homography
    |

warning: casting `f64` to `usize` may truncate the value
   --> src/calib3d/homography.rs:173:26
    |
173 |             indices.push((rand_f64() * n as f64) as usize % n);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/calib3d/homography.rs:173:26
    |
173 |             indices.push((rand_f64() * n as f64) as usize % n);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/homography.rs:173:40
    |
173 |             indices.push((rand_f64() * n as f64) as usize % n);
    |                                        ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this could be rewritten as `let...else`
   --> src/calib3d/homography.rs:179:9
    |
179 | /         let h = match find_homography_dlt(&sample_src, &sample_dst) {
180 | |             Ok(h) => h,
181 | |             Err(_) => continue,
182 | |         };
    | |__________^ help: consider writing: `let Ok(h) = find_homography_dlt(&sample_src, &sample_dst) else { continue };`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_let_else

warning: this function could have a `#[must_use]` attribute
   --> src/calib3d/homography.rs:205:8
    |
205 | pub fn apply_homography(h: &[[f64; 3]; 3], point: &Point) -> Point {
    |        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
205 + #[must_use] 
206 | pub fn apply_homography(h: &[[f64; 3]; 3], point: &Point) -> Point {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/homography.rs:206:13
    |
206 |     let x = point.x as f64;
    |             ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
206 -     let x = point.x as f64;
206 +     let x = f64::from(point.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/homography.rs:207:13
    |
207 |     let y = point.y as f64;
    |             ^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
207 -     let y = point.y as f64;
207 +     let y = f64::from(point.y);
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/homography.rs:213:16
    |
213 |     Point::new((xp / wp) as i32, (yp / wp) as i32)
    |                ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/calib3d/homography.rs:213:34
    |
213 |     Point::new((xp / wp) as i32, (yp / wp) as i32)
    |                                  ^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/homography.rs:217:1
    |
217 | / pub fn warp_perspective(
218 | |     src: &crate::core::Mat,
219 | |     dst: &mut crate::core::Mat,
220 | |     homography: &[[f64; 3]; 3],
221 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/homography.rs:231:37
    |
231 |             let dst_pt = Point::new(col as i32, row as i32);
    |                                     ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
231 -             let dst_pt = Point::new(col as i32, row as i32);
231 +             let dst_pt = Point::new(i32::try_from(col), row as i32);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/homography.rs:231:37
    |
231 |             let dst_pt = Point::new(col as i32, row as i32);
    |                                     ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/homography.rs:231:49
    |
231 |             let dst_pt = Point::new(col as i32, row as i32);
    |                                                 ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
231 -             let dst_pt = Point::new(col as i32, row as i32);
231 +             let dst_pt = Point::new(col as i32, i32::try_from(row));
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/homography.rs:231:49
    |
231 |             let dst_pt = Point::new(col as i32, row as i32);
    |                                                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/calib3d/homography.rs:234:25
    |
234 |             let src_x = src_pt.x as usize;
    |                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/calib3d/homography.rs:235:25
    |
235 |             let src_y = src_pt.y as usize;
    |                         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: it looks like you're manually copying between slices
   --> src/calib3d/homography.rs:242:17
    |
242 | /                 for ch in 0..num_channels {
243 | |                     dst_pixel[ch] = src_pixel[ch];
244 | |                 }
    | |_________________^ help: try replacing the loop by: `dst_pixel[..num_channels].copy_from_slice(&src_pixel[..num_channels]);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_memcpy

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/homography.rs:253:1
    |
253 | / pub fn decompose_homography(
254 | |     h: &[[f64; 3]; 3],
255 | |     camera_matrix: &crate::calib3d::camera::CameraMatrix,
256 | | ) -> Result<Vec<([ f64; 3], [f64; 3], [f64; 3])>> {
    | |_________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/calib3d/homography.rs:256:6
    |
256 | ) -> Result<Vec<([ f64; 3], [f64; 3], [f64; 3])>> {
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/homography.rs:279:1
    |
279 | fn solve_dlt_system(a_matrix: &[Vec<f64>]) -> Result<[f64; 9]> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
279 - fn solve_dlt_system(a_matrix: &[Vec<f64>]) -> Result<[f64; 9]> {
279 + fn solve_dlt_system(a_matrix: &[Vec<f64>]) -> [f64; 9] {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
289 -     Ok(h)
289 +     h
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/calib3d/homography.rs:297:77
    |
297 |     let num_iterations = (1.0 - confidence).ln() / (1.0 - inlier_ratio.powi(sample_size as i32)).ln();
    |                                                                             ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
297 -     let num_iterations = (1.0 - confidence).ln() / (1.0 - inlier_ratio.powi(sample_size as i32)).ln();
297 +     let num_iterations = (1.0 - confidence).ln() / (1.0 - inlier_ratio.powi(i32::try_from(sample_size))).ln();
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/calib3d/homography.rs:297:77
    |
297 |     let num_iterations = (1.0 - confidence).ln() / (1.0 - inlier_ratio.powi(sample_size as i32)).ln();
    |                                                                             ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `f64` to `usize` may truncate the value
   --> src/calib3d/homography.rs:298:5
    |
298 |     num_iterations.ceil() as usize
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/calib3d/homography.rs:298:5
    |
298 |     num_iterations.ceil() as usize
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/calib3d/homography.rs:301:24
    |
301 | fn distance_points(p1: &Point, p2: &Point) -> f64 {
    |                        ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref
    = note: `-W clippy::trivially-copy-pass-by-ref` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::trivially_copy_pass_by_ref)]`

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/calib3d/homography.rs:301:36
    |
301 | fn distance_points(p1: &Point, p2: &Point) -> f64 {
    |                                    ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/homography.rs:304:5
    |
304 |     ((dx * dx + dy * dy) as f64).sqrt()
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
304 -     ((dx * dx + dy * dy) as f64).sqrt()
304 +     f64::from(dx * dx + dy * dy).sqrt()
    |

warning: casting `u64` to `f64` causes a loss of precision (`u64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/homography.rs:361:9
    |
361 |         (RAND_STATE >> 16) as f64 / 65536.0
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `FisheyeDistortion`
  --> src/calib3d/fisheye.rs:30:5
   |
30 | /     pub fn new() -> Self {
31 | |         Self {
32 | |             k1: 0.0,
33 | |             k2: 0.0,
...  |
37 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
29 + impl Default for FisheyeDistortion {
30 +     fn default() -> Self {
31 +         Self::new()
32 +     }
33 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/fisheye.rs:30:12
   |
30 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
30 ~     #[must_use] 
31 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/fisheye.rs:39:12
   |
39 |     pub fn from_array(coeffs: &[f64; 4]) -> Self {
   |            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
39 ~     #[must_use] 
40 ~     pub fn from_array(coeffs: &[f64; 4]) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/fisheye.rs:48:12
   |
48 |     pub fn to_array(&self) -> [f64; 4] {
   |            ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
48 ~     #[must_use] 
49 ~     pub fn to_array(&self) -> [f64; 4] {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/fisheye.rs:63:12
   |
63 |     pub fn new(fx: f64, fy: f64, cx: f64, cy: f64) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
63 ~     #[must_use] 
64 ~     pub fn new(fx: f64, fy: f64, cx: f64, cy: f64) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/calib3d/fisheye.rs:67:12
   |
67 |     pub fn to_matrix(&self) -> [[f64; 3]; 3] {
   |            ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
67 ~     #[must_use] 
68 ~     pub fn to_matrix(&self) -> [[f64; 3]; 3] {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/calib3d/fisheye.rs:77:1
   |
77 | / pub fn fisheye_project_points(
78 | |     object_points: &[Point3f],
79 | |     camera_matrix: &FisheyeCameraMatrix,
80 | |     distortion: &FisheyeDistortion,
81 | |     rvec: &[f64; 3],
82 | |     tvec: &[f64; 3],
83 | | ) -> Result<Vec<Point2f>> {
   | |_________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/fisheye.rs:97:45
   |
97 |             cam_point[i] = r_matrix[i][0] * point.x as f64
   |                                             ^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
97 -             cam_point[i] = r_matrix[i][0] * point.x as f64
97 +             cam_point[i] = r_matrix[i][0] * f64::from(point.x)
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/fisheye.rs:98:36
   |
98 |                 + r_matrix[i][1] * point.y as f64
   |                                    ^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
98 -                 + r_matrix[i][1] * point.y as f64
98 +                 + r_matrix[i][1] * f64::from(point.y)
   |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
  --> src/calib3d/fisheye.rs:99:36
   |
99 |                 + r_matrix[i][2] * point.z as f64
   |                                    ^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
99 -                 + r_matrix[i][2] * point.z as f64
99 +                 + r_matrix[i][2] * f64::from(point.z)
   |

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/fisheye.rs:136:40
    |
136 |         image_points.push(Point2f::new(u as f32, v as f32));
    |                                        ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/fisheye.rs:136:50
    |
136 |         image_points.push(Point2f::new(u as f32, v as f32));
    |                                                  ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/fisheye.rs:143:1
    |
143 | / pub fn fisheye_undistort_points(
144 | |     distorted_points: &[Point2f],
145 | |     camera_matrix: &FisheyeCameraMatrix,
146 | |     distortion: &FisheyeDistortion,
147 | | ) -> Result<Vec<Point2f>> {
    | |_________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/fisheye.rs:156:20
    |
156 |         let x_d = ((point.x as f64) - camera_matrix.cx) / camera_matrix.fx;
    |                    ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
156 -         let x_d = ((point.x as f64) - camera_matrix.cx) / camera_matrix.fx;
156 +         let x_d = (f64::from(point.x) - camera_matrix.cx) / camera_matrix.fx;
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/fisheye.rs:157:20
    |
157 |         let y_d = ((point.y as f64) - camera_matrix.cy) / camera_matrix.fy;
    |                    ^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
157 -         let y_d = ((point.y as f64) - camera_matrix.cy) / camera_matrix.fy;
157 +         let y_d = (f64::from(point.y) - camera_matrix.cy) / camera_matrix.fy;
    |

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/fisheye.rs:188:46
    |
188 |         undistorted_points.push(Point2f::new(x as f32, y as f32));
    |                                              ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `f32` may truncate the value
   --> src/calib3d/fisheye.rs:188:56
    |
188 |         undistorted_points.push(Point2f::new(x as f32, y as f32));
    |                                                        ^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/fisheye.rs:195:1
    |
195 | / pub fn fisheye_calibrate(
196 | |     object_points: &[Vec<Point3f>],
197 | |     image_points: &[Vec<Point2f>],
198 | |     image_size: (usize, usize),
199 | | ) -> Result<(FisheyeCameraMatrix, FisheyeDistortion, Vec<[f64; 3]>, Vec<[f64; 3]>)> {
    | |___________________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/calib3d/fisheye.rs:199:6
    |
199 | ) -> Result<(FisheyeCameraMatrix, FisheyeDistortion, Vec<[f64; 3]>, Vec<[f64; 3]>)> {
    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/fisheye.rs:211:14
    |
211 |     let cx = image_size.0 as f64 / 2.0;
    |              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/fisheye.rs:212:14
    |
212 |     let cy = image_size.1 as f64 / 2.0;
    |              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/fisheye.rs:213:13
    |
213 |     let f = (image_size.0 as f64).max(image_size.1 as f64);
    |             ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/calib3d/fisheye.rs:213:39
    |
213 |     let f = (image_size.0 as f64).max(image_size.1 as f64);
    |                                       ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/fisheye.rs:236:23
    |
236 |             let dx = (pt.x as f64 - cx).abs();
    |                       ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
236 -             let dx = (pt.x as f64 - cx).abs();
236 +             let dx = (f64::from(pt.x) - cx).abs();
    |

warning: casts from `f32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/fisheye.rs:237:23
    |
237 |             let dy = (pt.y as f64 - cy).abs();
    |                       ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
237 -             let dy = (pt.y as f64 - cy).abs();
237 +             let dy = (f64::from(pt.y) - cy).abs();
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/calib3d/fisheye.rs:244:41
    |
244 |         let avg_spread = total_spread / count as f64;
    |                                         ^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
244 -         let avg_spread = total_spread / count as f64;
244 +         let avg_spread = total_spread / f64::from(count);
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/calib3d/fisheye.rs:259:1
    |
259 | / pub fn fisheye_stereo_calibrate(
260 | |     object_points: &[Vec<Point3f>],
261 | |     image_points1: &[Vec<Point2f>],
262 | |     image_points2: &[Vec<Point2f>],
...   |
270 | |     [f64; 3],
271 | | )> {
    | |__^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: very complex type used. Consider factoring parts into `type` definitions
   --> src/calib3d/fisheye.rs:264:6
    |
264 |   ) -> Result<(
    |  ______^
265 | |     FisheyeCameraMatrix,
266 | |     FisheyeDistortion,
267 | |     FisheyeCameraMatrix,
...   |
270 | |     [f64; 3],
271 | | )> {
    | |__^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#type_complexity

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/calib3d/fisheye.rs:285:1
    |
285 | fn rodrigues_to_matrix(rvec: &[f64; 3]) -> Result<[[f64; 3]; 3]> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
285 - fn rodrigues_to_matrix(rvec: &[f64; 3]) -> Result<[[f64; 3]; 3]> {
285 + fn rodrigues_to_matrix(rvec: &[f64; 3]) -> [[f64; 3]; 3] {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
289 ~         return [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]];
290 |     }
...
317 |
318 ~     r
    |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/blob.rs:13:12
   |
13 |     pub fn new(shape: Vec<usize>) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
13 ~     #[must_use] 
14 ~     pub fn new(shape: Vec<usize>) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/blob.rs:22:5
   |
22 |     pub fn from_data(data: Vec<f32>, shape: Vec<usize>) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/blob.rs:34:5
   |
34 |     pub fn from_image(image: &crate::core::Mat) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
  --> src/dnn/blob.rs:46:31
   |
46 |                     data.push(pixel[c] as f32 / 255.0);
   |                               ^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
   |
46 -                     data.push(pixel[c] as f32 / 255.0);
46 +                     data.push(f32::from(pixel[c]) / 255.0);
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/blob.rs:58:12
   |
58 |     pub fn shape(&self) -> &[usize] {
   |            ^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
58 ~     #[must_use] 
59 ~     pub fn shape(&self) -> &[usize] {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/blob.rs:63:12
   |
63 |     pub fn total(&self) -> usize {
   |            ^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
63 ~     #[must_use] 
64 ~     pub fn total(&self) -> usize {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/blob.rs:68:12
   |
68 |     pub fn data(&self) -> &[f32] {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
68 ~     #[must_use] 
69 ~     pub fn data(&self) -> &[f32] {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/blob.rs:78:5
   |
78 |     pub fn reshape(&mut self, new_shape: Vec<usize>) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/blob.rs:91:5
   |
91 |     pub fn at(&self, indices: &[usize]) -> Result<f32> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/blob.rs:97:5
   |
97 |     pub fn set(&mut self, indices: &[usize], value: f32) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/blob.rs:127:12
    |
127 |     pub fn clone_blob(&self) -> Self {
    |            ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
127 ~     #[must_use] 
128 ~     pub fn clone_blob(&self) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/blob.rs:127:5
    |
127 | /     pub fn clone_blob(&self) -> Self {
128 | |         Self {
129 | |             data: self.data.clone(),
130 | |             shape: self.shape.clone(),
131 | |         }
132 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
   --> src/dnn/blob.rs:136:1
    |
136 | / pub fn blob_from_image(
137 | |     image: &crate::core::Mat,
138 | |     scale_factor: f32,
139 | |     mean: &[f32; 3],
140 | |     swap_rb: bool,
141 | | ) -> Result<Blob> {
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `c` is used to index `mean`
   --> src/dnn/blob.rs:149:14
    |
149 |     for c in 0..channels {
    |              ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
149 -     for c in 0..channels {
149 +     for (c, <item>) in mean.iter().enumerate().take(channels) {
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/dnn/blob.rs:161:30
    |
161 |                 let value = (pixel[channel_idx] as f32 * scale_factor) - mean[c];
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
161 -                 let value = (pixel[channel_idx] as f32 * scale_factor) - mean[c];
161 +                 let value = (f32::from(pixel[channel_idx]) * scale_factor) - mean[c];
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/dnn/blob.rs:174:1
    |
174 | / pub fn blob_from_images(
175 | |     images: &[&crate::core::Mat],
176 | |     scale_factor: f32,
177 | |     mean: &[f32; 3],
178 | |     swap_rb: bool,
179 | | ) -> Result<Blob> {
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: the loop variable `c` is used to index `mean`
   --> src/dnn/blob.rs:199:18
    |
199 |         for c in 0..channels {
    |                  ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
199 -         for c in 0..channels {
199 +         for (c, <item>) in mean.iter().enumerate().take(channels) {
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/dnn/blob.rs:210:34
    |
210 |                     let value = (pixel[channel_idx] as f32 * scale_factor) - mean[c];
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
210 -                     let value = (pixel[channel_idx] as f32 * scale_factor) - mean[c];
210 +                     let value = (f32::from(pixel[channel_idx]) * scale_factor) - mean[c];
    |

warning: docs for function returning `Result` missing `# Errors` section
 --> src/dnn/layers.rs:7:5
  |
7 |     fn forward(&self, input: &Blob) -> Result<Blob>;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/layers.rs:40:12
   |
40 |     pub fn new(
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
40 ~     #[must_use] 
41 ~     pub fn new(
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/layers.rs:61:12
   |
61 |     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
   |            ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
61 ~     #[must_use] 
62 ~     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/dnn/layers.rs:61:5
   |
61 | /     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
62 | |         self.weights = weights;
63 | |         self.bias = bias;
64 | |         self
65 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: binding to `_` prefixed variable with no side-effect
  --> src/dnn/layers.rs:78:13
   |
78 |         let _in_channels = input_shape[1];
   |             ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#no_effect_underscore_binding
   = note: `-W clippy::no-effect-underscore-binding` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::no_effect_underscore_binding)]`

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:156:12
    |
156 |     pub fn new(
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
156 ~     #[must_use] 
157 ~     pub fn new(
    |

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/dnn/layers.rs:215:39
    |
215 | ...                   sum / (self.kernel_size.0 * self.kernel_size.1) as f32
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:252:12
    |
252 |     pub fn new(name: String, activation: ActivationType) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
252 ~     #[must_use] 
253 ~     pub fn new(name: String, activation: ActivationType) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:306:12
    |
306 |     pub fn new(name: String, num_inputs: usize, num_outputs: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
306 ~     #[must_use] 
307 ~     pub fn new(name: String, num_inputs: usize, num_outputs: usize) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:317:12
    |
317 |     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
    |            ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
317 ~     #[must_use] 
318 ~     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/layers.rs:317:5
    |
317 | /     pub fn with_weights(mut self, weights: Blob, bias: Option<Blob>) -> Self {
318 | |         self.weights = weights;
319 | |         self.bias = bias;
320 | |         self
321 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:368:12
    |
368 |     pub fn new(name: String) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
368 ~     #[must_use] 
369 ~     pub fn new(name: String) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/layers.rs:400:12
    |
400 |     pub fn new(name: String) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
400 ~     #[must_use] 
401 ~     pub fn new(name: String) -> Self {
    |

warning: usage of wildcard import
 --> src/dnn/network.rs:2:5
  |
2 | use crate::dnn::layers::*;
  |     ^^^^^^^^^^^^^^^^^^^^^ help: try: `crate::dnn::layers::{Layer, ConvolutionLayer, PoolType, PoolingLayer, ActivationType, ActivationLayer, FullyConnectedLayer, FlattenLayer, SoftmaxLayer}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#wildcard_imports
  = note: `-W clippy::wildcard-imports` implied by `-W clippy::pedantic`
  = help: to override `-W clippy::pedantic` add `#[allow(clippy::wildcard_imports)]`

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/network.rs:15:12
   |
15 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
15 ~     #[must_use] 
16 ~     pub fn new() -> Self {
   |

warning: docs for function which may panic missing `# Panics` section
  --> src/dnn/network.rs:37:5
   |
37 |     pub fn forward(&self) -> Result<Blob> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/dnn/network.rs:44:27
   |
44 |         let mut current = self.input_blob.as_ref().unwrap().clone_blob();
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/network.rs:37:5
   |
37 |     pub fn forward(&self) -> Result<Blob> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
  --> src/dnn/network.rs:54:5
   |
54 |     pub fn forward_to_layer(&self, layer_name: &str) -> Result<Blob> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/dnn/network.rs:66:27
   |
66 |         let mut current = self.input_blob.as_ref().unwrap().clone_blob();
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/network.rs:54:5
   |
54 |     pub fn forward_to_layer(&self, layer_name: &str) -> Result<Blob> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: variables can be used directly in the `format!` string
  --> src/dnn/network.rs:63:17
   |
63 |                 format!("Layer '{}' not found", layer_name)
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#uninlined_format_args
help: change this to
   |
63 -                 format!("Layer '{}' not found", layer_name)
63 +                 format!("Layer '{layer_name}' not found")
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/network.rs:79:12
   |
79 |     pub fn num_layers(&self) -> usize {
   |            ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
79 ~     #[must_use] 
80 ~     pub fn num_layers(&self) -> usize {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/dnn/network.rs:84:12
   |
84 |     pub fn get_layer_names(&self) -> Vec<String> {
   |            ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
84 ~     #[must_use] 
85 ~     pub fn get_layer_names(&self) -> Vec<String> {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/dnn/network.rs:96:1
   |
96 | / pub fn read_net_from_caffe(
97 | |     _proto_file: &str,
98 | |     _model_file: &str,
99 | | ) -> Result<Network> {
   | |____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/dnn/network.rs:106:1
    |
106 | / pub fn read_net_from_tensorflow(
107 | |     _model_file: &str,
108 | | ) -> Result<Network> {
    | |____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/dnn/network.rs:114:1
    |
114 | / pub fn read_net_from_onnx(
115 | |     _model_file: &str,
116 | | ) -> Result<Network> {
    | |____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/dnn/network.rs:122:1
    |
122 | / pub fn read_net_from_torch(
123 | |     _model_file: &str,
124 | | ) -> Result<Network> {
    | |____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:135:12
    |
135 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
135 ~     #[must_use] 
136 ~     pub fn new() -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:141:12
    |
141 |     pub fn add_conv(
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
141 ~     #[must_use] 
142 ~     pub fn add_conv(
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:141:5
    |
141 | /     pub fn add_conv(
142 | |         mut self,
143 | |         name: &str,
144 | |         num_filters: usize,
...   |
157 | |         self
158 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:160:12
    |
160 |     pub fn add_pool(
    |            ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
160 ~     #[must_use] 
161 ~     pub fn add_pool(
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:160:5
    |
160 | /     pub fn add_pool(
161 | |         mut self,
162 | |         name: &str,
163 | |         pool_type: PoolType,
...   |
174 | |         self
175 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:177:12
    |
177 |     pub fn add_activation(
    |            ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
177 ~     #[must_use] 
178 ~     pub fn add_activation(
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:177:5
    |
177 | /     pub fn add_activation(
178 | |         mut self,
179 | |         name: &str,
180 | |         activation: ActivationType,
...   |
184 | |         self
185 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:187:12
    |
187 |     pub fn add_fc(
    |            ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
187 ~     #[must_use] 
188 ~     pub fn add_fc(
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:187:5
    |
187 | /     pub fn add_fc(
188 | |         mut self,
189 | |         name: &str,
190 | |         num_inputs: usize,
...   |
199 | |         self
200 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:202:12
    |
202 |     pub fn add_flatten(mut self, name: &str) -> Self {
    |            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
202 ~     #[must_use] 
203 ~     pub fn add_flatten(mut self, name: &str) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:202:5
    |
202 | /     pub fn add_flatten(mut self, name: &str) -> Self {
203 | |         let layer = FlattenLayer::new(name.to_string());
204 | |         self.network.add_layer(Box::new(layer));
205 | |         self
206 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:208:12
    |
208 |     pub fn add_softmax(mut self, name: &str) -> Self {
    |            ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
208 ~     #[must_use] 
209 ~     pub fn add_softmax(mut self, name: &str) -> Self {
    |

warning: missing `#[must_use]` attribute on a method returning `Self`
   --> src/dnn/network.rs:208:5
    |
208 | /     pub fn add_softmax(mut self, name: &str) -> Self {
209 | |         let layer = SoftmaxLayer::new(name.to_string());
210 | |         self.network.add_layer(Box::new(layer));
211 | |         self
212 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
   --> src/dnn/network.rs:214:12
    |
214 |     pub fn build(self) -> Network {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
214 ~     #[must_use] 
215 ~     pub fn build(self) -> Network {
    |

warning: usage of wildcard import
   --> src/dnn/network.rs:227:9
    |
227 |     use super::*;
    |         ^^^^^^^^ help: try: `super::{Network, NetworkBuilder, ActivationType, PoolType}`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#wildcard_imports

warning: this function could have a `#[must_use]` attribute
   --> src/dnn/network.rs:230:12
    |
230 |     pub fn lenet() -> Network {
    |            ^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
230 ~     #[must_use] 
231 ~     pub fn lenet() -> Network {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/dnn/network.rs:249:12
    |
249 |     pub fn alexnet() -> Network {
    |            ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
249 ~     #[must_use] 
250 ~     pub fn alexnet() -> Network {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/kdtree.rs:20:5
   |
20 |     pub fn build(data: &[Vec<f64>]) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/flann/kdtree.rs:104:5
    |
104 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/flann/kdtree.rs:122:29
    |
122 |         heap.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/flann/kdtree.rs:104:5
    |
104 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/flann/kdtree.rs:173:5
    |
173 |     pub fn radius_search(&self, query: &[f64], radius: f64) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/flann/kdtree.rs:187:32
    |
187 |         results.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/flann/kdtree.rs:173:5
    |
173 |     pub fn radius_search(&self, query: &[f64], radius: f64) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/flann/lsh.rs:16:12
   |
16 |     pub fn new(dimension: usize, num_tables: usize, num_bits: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
16 ~     #[must_use] 
17 ~     pub fn new(dimension: usize, num_tables: usize, num_bits: usize) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/lsh.rs:28:5
   |
28 |     pub fn add(&mut self, data: &[Vec<f64>]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: use of `or_insert_with` to construct default value
  --> src/flann/lsh.rs:55:22
   |
55 |                     .or_insert_with(Vec::new)
   |                      ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `or_default()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unwrap_or_default
   = note: `#[warn(clippy::unwrap_or_default)]` on by default

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/flann/lsh.rs:76:32
   |
76 |                     let seed = (table_idx * 1000 + bit_idx * 100 + dim_idx) as f64;
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: docs for function which may panic missing `# Panics` section
   --> src/flann/lsh.rs:113:5
    |
113 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/flann/lsh.rs:143:34
    |
143 |         distances.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/flann/lsh.rs:113:5
    |
113 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/flann/lsh.rs:150:5
    |
150 |     pub fn radius_search(&self, query: &[f64], radius: f64) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/flann/lsh.rs:187:12
    |
187 |     pub fn size(&self) -> usize {
    |            ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
187 ~     #[must_use] 
188 ~     pub fn size(&self) -> usize {
    |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:14:5
   |
14 |     pub fn new_kdtree(data: &[Vec<f64>]) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
  --> src/flann/index.rs:19:12
   |
19 |     pub fn new_lsh(dimension: usize, num_tables: usize, num_bits: usize) -> Self {
   |            ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
19 ~     #[must_use] 
20 ~     pub fn new_lsh(dimension: usize, num_tables: usize, num_bits: usize) -> Self {
   |

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:24:5
   |
24 |     pub fn new_linear(data: &[Vec<f64>]) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:29:5
   |
29 |     pub fn add(&mut self, data: &[Vec<f64>]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:40:5
   |
40 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:49:5
   |
49 |     pub fn radius_search(&self, query: &[f64], radius: f64) -> Result<Vec<(usize, f64)>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:65:5
   |
65 |     pub fn new(data: &[Vec<f64>]) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:86:5
   |
86 |     pub fn add(&mut self, data: &[Vec<f64>]) -> Result<()> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function which may panic missing `# Panics` section
   --> src/flann/index.rs:99:5
    |
 99 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
note: first possible panic found here
   --> src/flann/index.rs:115:34
    |
115 |         distances.sort_by(|a, b| a.1.partial_cmp(&b.1).unwrap());
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/flann/index.rs:99:5
   |
99 |     pub fn knn_search(&self, query: &[f64], k: usize) -> Result<Vec<(usize, f64)>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: docs for function returning `Result` missing `# Errors` section
   --> src/flann/index.rs:121:5
    |
121 |     pub fn radius_search(&self, query: &[f64], radius: f64) -> Result<Vec<(usize, f64)>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: this method could have a `#[must_use]` attribute
   --> src/flann/index.rs:209:12
    |
209 |     pub fn kdtree(trees: usize) -> Self {
    |            ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
209 ~     #[must_use] 
210 ~     pub fn kdtree(trees: usize) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/flann/index.rs:217:12
    |
217 |     pub fn lsh(table_number: usize, key_size: usize, multi_probe_level: usize) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
217 ~     #[must_use] 
218 ~     pub fn lsh(table_number: usize, key_size: usize, multi_probe_level: usize) -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/flann/index.rs:227:12
    |
227 |     pub fn linear() -> Self {
    |            ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
227 ~     #[must_use] 
228 ~     pub fn linear() -> Self {
    |

warning: you should consider adding a `Default` implementation for `PanoramaStitcher`
  --> src/stitching/panorama.rs:21:5
   |
21 | /     pub fn new() -> Self {
22 | |         Self {
23 | |             confidence_threshold: 1.0,
24 | |             blend_strength: 5.0,
...  |
27 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
20 + impl Default for PanoramaStitcher {
21 +     fn default() -> Self {
22 +         Self::new()
23 +     }
24 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/panorama.rs:21:12
   |
21 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
21 ~     #[must_use] 
22 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/panorama.rs:29:12
   |
29 |     pub fn with_confidence(mut self, threshold: f32) -> Self {
   |            ^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
29 ~     #[must_use] 
30 ~     pub fn with_confidence(mut self, threshold: f32) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/stitching/panorama.rs:29:5
   |
29 | /     pub fn with_confidence(mut self, threshold: f32) -> Self {
30 | |         self.confidence_threshold = threshold;
31 | |         self
32 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/panorama.rs:34:12
   |
34 |     pub fn with_warp_type(mut self, warp_type: WarpType) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
34 ~     #[must_use] 
35 ~     pub fn with_warp_type(mut self, warp_type: WarpType) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/stitching/panorama.rs:34:5
   |
34 | /     pub fn with_warp_type(mut self, warp_type: WarpType) -> Self {
35 | |         self.warper_type = warp_type;
36 | |         self
37 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function returning `Result` missing `# Errors` section
  --> src/stitching/panorama.rs:40:5
   |
40 |     pub fn stitch(&self, images: &[Mat]) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/stitching/panorama.rs:92:36
   |
92 |                     pt: Point::new(col as i32, row as i32),
   |                                    ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
92 -                     pt: Point::new(col as i32, row as i32),
92 +                     pt: Point::new(i32::try_from(col), row as i32),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/stitching/panorama.rs:92:36
   |
92 |                     pt: Point::new(col as i32, row as i32),
   |                                    ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/stitching/panorama.rs:92:48
   |
92 |                     pt: Point::new(col as i32, row as i32),
   |                                                ^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
92 -                     pt: Point::new(col as i32, row as i32),
92 +                     pt: Point::new(col as i32, i32::try_from(row)),
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/stitching/panorama.rs:92:48
   |
92 |                     pt: Point::new(col as i32, row as i32),
   |                                                ^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/panorama.rs:105:37
    |
105 | ...                   let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:105:38
    |
105 | ...                   let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
105 -                             let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
105 +                             let y = (i32::try_from(row) + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:105:38
    |
105 | ...                   let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:105:64
    |
105 | ...                   let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
105 -                             let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
105 +                             let y = (row as i32 + dy).clamp(0, i32::try_from(gray.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:105:64
    |
105 | ...                   let y = (row as i32 + dy).clamp(0, gray.rows() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/panorama.rs:106:37
    |
106 | ...                   let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:106:38
    |
106 | ...                   let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
106 -                             let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
106 +                             let x = (i32::try_from(col) + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:106:38
    |
106 | ...                   let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:106:64
    |
106 | ...                   let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
106 -                             let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
106 +                             let x = (col as i32 + dx).clamp(0, i32::try_from(gray.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:106:64
    |
106 | ...                   let x = (col as i32 + dx).clamp(0, gray.cols() as i32 - 1) as usize;
    |                                                          ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: unused `self` argument
   --> src/stitching/panorama.rs:119:20
    |
119 |     fn rgb_to_gray(&self, image: &Mat) -> Result<Mat> {
    |                    ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `f32` to `u8` may truncate the value
   --> src/stitching/panorama.rs:125:32
    |
125 |                   let gray_val = (0.299 * pixel[0] as f32
    |  ________________________________^
126 | |                               + 0.587 * pixel[1] as f32
127 | |                               + 0.114 * pixel[2] as f32) as u8;
    | |______________________________________________________________^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/stitching/panorama.rs:125:32
    |
125 |                   let gray_val = (0.299 * pixel[0] as f32
    |  ________________________________^
126 | |                               + 0.587 * pixel[1] as f32
127 | |                               + 0.114 * pixel[2] as f32) as u8;
    | |______________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:125:41
    |
125 |                 let gray_val = (0.299 * pixel[0] as f32
    |                                         ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
125 -                 let gray_val = (0.299 * pixel[0] as f32
125 +                 let gray_val = (0.299 * f32::from(pixel[0])
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:126:41
    |
126 | ...                   + 0.587 * pixel[1] as f32
    |                                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
126 -                               + 0.587 * pixel[1] as f32
126 +                               + 0.587 * f32::from(pixel[1])
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:127:41
    |
127 | ...                   + 0.114 * pixel[2] as f32) as u8;
    |                                 ^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
127 -                               + 0.114 * pixel[2] as f32) as u8;
127 +                               + 0.114 * f32::from(pixel[2])) as u8;
    |

warning: unused `self` argument
   --> src/stitching/panorama.rs:135:21
    |
135 |     fn match_images(&self, all_descriptors: &[Vec<Vec<u8>>]) -> Result<Vec<Vec<(usize, usize)>>> {
    |                     ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/stitching/panorama.rs:135:5
    |
135 |     fn match_images(&self, all_descriptors: &[Vec<Vec<u8>>]) -> Result<Vec<Vec<(usize, usize)>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
135 -     fn match_images(&self, all_descriptors: &[Vec<Vec<u8>>]) -> Result<Vec<Vec<(usize, usize)>>> {
135 +     fn match_images(&self, all_descriptors: &[Vec<Vec<u8>>]) -> std::vec::Vec<std::vec::Vec<(usize, usize)>> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
167 -         Ok(matches)
167 +         matches
    |

warning: unused `self` argument
   --> src/stitching/panorama.rs:217:9
    |
217 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/stitching/panorama.rs:216:5
    |
216 | /     fn estimate_simple_homography(
217 | |         &self,
218 | |         src: &[Point],
219 | |         dst: &[Point],
220 | |     ) -> Result<[[f64; 3]; 3]> {
    | |______________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
220 -     ) -> Result<[[f64; 3]; 3]> {
220 +     ) -> [[f64; 3]; 3] {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
234 ~         [
235 +             [1.0, 0.0, tx],
236 +             [0.0, 1.0, ty],
237 +             [0.0, 0.0, 1.0],
238 +         ]
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:227:19
    |
227 |             tx += (dst[i].x - src[i].x) as f64;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
227 -             tx += (dst[i].x - src[i].x) as f64;
227 +             tx += f64::from(dst[i].x - src[i].x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:228:19
    |
228 |             ty += (dst[i].y - src[i].y) as f64;
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
228 -             ty += (dst[i].y - src[i].y) as f64;
228 +             ty += f64::from(dst[i].y - src[i].y);
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/stitching/panorama.rs:231:15
    |
231 |         tx /= count as f64;
    |               ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/stitching/panorama.rs:232:15
    |
232 |         ty /= count as f64;
    |               ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: redundant closure
   --> src/stitching/panorama.rs:249:43
    |
249 |         let max_width = images.iter().map(|img| img.cols()).max().unwrap_or(0);
    |                                           ^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `super::super::core::mat::Mat::cols`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#redundant_closure_for_method_calls
    = note: `-W clippy::redundant-closure-for-method-calls` implied by `-W clippy::pedantic`
    = help: to override `-W clippy::pedantic` add `#[allow(clippy::redundant_closure_for_method_calls)]`

warning: redundant closure
   --> src/stitching/panorama.rs:250:44
    |
250 |         let max_height = images.iter().map(|img| img.rows()).max().unwrap_or(0);
    |                                            ^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `super::super::core::mat::Mat::rows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#redundant_closure_for_method_calls

warning: unused `self` argument
   --> src/stitching/panorama.rs:264:9
    |
264 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/stitching/panorama.rs:275:25
    |
275 |                 let x = col as f64;
    |                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/stitching/panorama.rs:276:25
    |
276 |                 let y = row as f64;
    |                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `i32` may truncate the value
   --> src/stitching/panorama.rs:286:31
    |
286 |                 let src_col = src_x as i32;
    |                               ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/stitching/panorama.rs:287:31
    |
287 |                 let src_row = src_y as i32;
    |                               ^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:289:46
    |
289 |                 if src_row >= 0 && src_row < src.rows() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
289 -                 if src_row >= 0 && src_row < src.rows() as i32
289 +                 if src_row >= 0 && src_row < i32::try_from(src.rows())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:289:46
    |
289 |                 if src_row >= 0 && src_row < src.rows() as i32
    |                                              ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/panorama.rs:290:50
    |
290 |                     && src_col >= 0 && src_col < src.cols() as i32
    |                                                  ^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
290 -                     && src_col >= 0 && src_col < src.cols() as i32
290 +                     && src_col >= 0 && src_col < i32::try_from(src.cols())
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/panorama.rs:290:50
    |
290 |                     && src_col >= 0 && src_col < src.cols() as i32
    |                                                  ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/panorama.rs:293:60
    |
293 |                         dst.at_mut(row, col)?[ch] = src.at(src_row as usize, src_col as usize)?[ch];
    |                                                            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/panorama.rs:293:78
    |
293 |                         dst.at_mut(row, col)?[ch] = src.at(src_row as usize, src_col as usize)?[ch];
    |                                                                              ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: unused `self` argument
   --> src/stitching/panorama.rs:302:19
    |
302 |     fn find_seams(&self, images: &[Mat]) -> Result<Vec<Vec<usize>>> {
    |                   ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/stitching/panorama.rs:302:5
    |
302 |     fn find_seams(&self, images: &[Mat]) -> Result<Vec<Vec<usize>>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
302 -     fn find_seams(&self, images: &[Mat]) -> Result<Vec<Vec<usize>>> {
302 +     fn find_seams(&self, images: &[Mat]) -> std::vec::Vec<std::vec::Vec<usize>> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
318 -         Ok(seams)
318 +         seams
    |

warning: unused `self` argument
   --> src/stitching/panorama.rs:336:20
    |
336 |     fn alpha_blend(&self, img1: &Mat, img2: &Mat, alpha: f32) -> Result<Mat> {
    |                    ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:346:32
    |
346 |                     let val1 = img1.at(row, col)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
346 -                     let val1 = img1.at(row, col)?[ch] as f32;
346 +                     let val1 = f32::from(img1.at(row, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/panorama.rs:347:32
    |
347 |                     let val2 = img2.at(row, col)?[ch] as f32;
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
347 -                     let val2 = img2.at(row, col)?[ch] as f32;
347 +                     let val2 = f32::from(img2.at(row, col)?[ch]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/stitching/panorama.rs:348:35
    |
348 |                     let blended = (alpha * val1 + (1.0 - alpha) * val2) as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/stitching/panorama.rs:348:35
    |
348 |                     let blended = (alpha * val1 + (1.0 - alpha) * val2) as u8;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: docs for function returning `Result` missing `# Errors` section
 --> src/stitching/seam_finding.rs:6:5
  |
6 |     fn find(&self, images: &[Mat], corners: &[(i32, i32)]) -> Result<Vec<Mat>>;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: you should consider adding a `Default` implementation for `GraphCutSeamFinder`
  --> src/stitching/seam_finding.rs:23:5
   |
23 | /     pub fn new() -> Self {
24 | |         Self {
25 | |             cost_type: CostType::ColorGrad,
26 | |             terminal_cost: 10000.0,
...  |
29 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
22 + impl Default for GraphCutSeamFinder {
23 +     fn default() -> Self {
24 +         Self::new()
25 +     }
26 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/seam_finding.rs:23:12
   |
23 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
23 ~     #[must_use] 
24 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/seam_finding.rs:31:12
   |
31 |     pub fn with_cost_type(mut self, cost_type: CostType) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
31 ~     #[must_use] 
32 ~     pub fn with_cost_type(mut self, cost_type: CostType) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/stitching/seam_finding.rs:31:5
   |
31 | /     pub fn with_cost_type(mut self, cost_type: CostType) -> Self {
32 | |         self.cost_type = cost_type;
33 | |         self
34 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: unused `self` argument
  --> src/stitching/seam_finding.rs:79:9
   |
79 |         &self,
   |         ^^^^^
   |
   = help: consider refactoring to an associated function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
  --> src/stitching/seam_finding.rs:78:5
   |
78 | /     fn find_overlap(
79 | |         &self,
80 | |         img1: &Mat,
81 | |         img2: &Mat,
82 | |         corner1: (i32, i32),
83 | |         corner2: (i32, i32),
84 | |     ) -> Result<OverlapRegion> {
   | |______________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
   |
84 -     ) -> Result<OverlapRegion> {
84 +     ) -> stitching::seam_finding::OverlapRegion {
   |
help: ...and then remove the surrounding `Ok()` from returning expressions
   |
93 ~             return OverlapRegion {
94 +                 x: 0,
95 +                 y: 0,
96 +                 width: 0,
97 +                 height: 0,
98 ~             };
99 |         }
...
107|
108~         OverlapRegion {
109+             x: x1_start.max(x2_start),
110+             y: y1_start.max(y2_start),
111+             width: overlap_x.max(0) as usize,
112+             height: overlap_y.max(0) as usize,
113+         }
   |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/stitching/seam_finding.rs:86:33
   |
86 |         let x1_end = x1_start + img1.cols() as i32;
   |                                 ^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
86 -         let x1_end = x1_start + img1.cols() as i32;
86 +         let x1_end = x1_start + i32::try_from(img1.cols());
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/stitching/seam_finding.rs:86:33
   |
86 |         let x1_end = x1_start + img1.cols() as i32;
   |                                 ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
  --> src/stitching/seam_finding.rs:88:33
   |
88 |         let x2_end = x2_start + img2.cols() as i32;
   |                                 ^^^^^^^^^^^^^^^^^^
   |
   = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
   |
88 -         let x2_end = x2_start + img2.cols() as i32;
88 +         let x2_end = x2_start + i32::try_from(img2.cols());
   |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
  --> src/stitching/seam_finding.rs:88:33
   |
88 |         let x2_end = x2_start + img2.cols() as i32;
   |                                 ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/seam_finding.rs:102:33
    |
102 |         let y1_end = y1_start + img1.rows() as i32;
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
102 -         let y1_end = y1_start + img1.rows() as i32;
102 +         let y1_end = y1_start + i32::try_from(img1.rows());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/seam_finding.rs:102:33
    |
102 |         let y1_end = y1_start + img1.rows() as i32;
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/seam_finding.rs:104:33
    |
104 |         let y2_end = y2_start + img2.rows() as i32;
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
104 -         let y2_end = y2_start + img2.rows() as i32;
104 +         let y2_end = y2_start + i32::try_from(img2.rows());
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/seam_finding.rs:104:33
    |
104 |         let y2_end = y2_start + img2.rows() as i32;
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/seam_finding.rs:111:20
    |
111 |             width: overlap_x.max(0) as usize,
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/seam_finding.rs:112:21
    |
112 |             height: overlap_y.max(0) as usize,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: the loop variable `row` is used to index `costs`
   --> src/stitching/seam_finding.rs:141:20
    |
141 |         for row in 0..overlap.height {
    |                    ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
141 -         for row in 0..overlap.height {
141 +         for (row, <item>) in costs.iter_mut().enumerate().take(overlap.height) {
    |

warning: the loop variable `col` is used to index `costs`
   --> src/stitching/seam_finding.rs:142:24
    |
142 |             for col in 0..overlap.width {
    |                        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
142 -             for col in 0..overlap.width {
142 +             for (col, <item>) in costs.iter_mut().enumerate().take(overlap.width) {
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:176:24
    |
176 |             let val1 = img1.at(row, col)?[ch] as f32;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
176 -             let val1 = img1.at(row, col)?[ch] as f32;
176 +             let val1 = f32::from(img1.at(row, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:177:24
    |
177 |             let val2 = img2.at(row, col)?[ch] as f32;
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
177 -             let val2 = img2.at(row, col)?[ch] as f32;
177 +             let val2 = f32::from(img2.at(row, col)?[ch]);
    |

warning: unused `self` argument
   --> src/stitching/seam_finding.rs:185:9
    |
185 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:200:23
    |
200 |             let dx1 = img1.at(row, col + 1)?[ch] as f32 - img1.at(row, col - 1)?[ch] as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
200 -             let dx1 = img1.at(row, col + 1)?[ch] as f32 - img1.at(row, col - 1)?[ch] as f32;
200 +             let dx1 = f32::from(img1.at(row, col + 1)?[ch]) - img1.at(row, col - 1)?[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:200:59
    |
200 |             let dx1 = img1.at(row, col + 1)?[ch] as f32 - img1.at(row, col - 1)?[ch] as f32;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
200 -             let dx1 = img1.at(row, col + 1)?[ch] as f32 - img1.at(row, col - 1)?[ch] as f32;
200 +             let dx1 = img1.at(row, col + 1)?[ch] as f32 - f32::from(img1.at(row, col - 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:201:23
    |
201 |             let dy1 = img1.at(row + 1, col)?[ch] as f32 - img1.at(row - 1, col)?[ch] as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
201 -             let dy1 = img1.at(row + 1, col)?[ch] as f32 - img1.at(row - 1, col)?[ch] as f32;
201 +             let dy1 = f32::from(img1.at(row + 1, col)?[ch]) - img1.at(row - 1, col)?[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:201:59
    |
201 |             let dy1 = img1.at(row + 1, col)?[ch] as f32 - img1.at(row - 1, col)?[ch] as f32;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
201 -             let dy1 = img1.at(row + 1, col)?[ch] as f32 - img1.at(row - 1, col)?[ch] as f32;
201 +             let dy1 = img1.at(row + 1, col)?[ch] as f32 - f32::from(img1.at(row - 1, col)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:205:23
    |
205 |             let dx2 = img2.at(row, col + 1)?[ch] as f32 - img2.at(row, col - 1)?[ch] as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
205 -             let dx2 = img2.at(row, col + 1)?[ch] as f32 - img2.at(row, col - 1)?[ch] as f32;
205 +             let dx2 = f32::from(img2.at(row, col + 1)?[ch]) - img2.at(row, col - 1)?[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:205:59
    |
205 |             let dx2 = img2.at(row, col + 1)?[ch] as f32 - img2.at(row, col - 1)?[ch] as f32;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
205 -             let dx2 = img2.at(row, col + 1)?[ch] as f32 - img2.at(row, col - 1)?[ch] as f32;
205 +             let dx2 = img2.at(row, col + 1)?[ch] as f32 - f32::from(img2.at(row, col - 1)?[ch]);
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:206:23
    |
206 |             let dy2 = img2.at(row + 1, col)?[ch] as f32 - img2.at(row - 1, col)?[ch] as f32;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
206 -             let dy2 = img2.at(row + 1, col)?[ch] as f32 - img2.at(row - 1, col)?[ch] as f32;
206 +             let dy2 = f32::from(img2.at(row + 1, col)?[ch]) - img2.at(row - 1, col)?[ch] as f32;
    |

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/seam_finding.rs:206:59
    |
206 |             let dy2 = img2.at(row + 1, col)?[ch] as f32 - img2.at(row - 1, col)?[ch] as f32;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
206 -             let dy2 = img2.at(row + 1, col)?[ch] as f32 - img2.at(row - 1, col)?[ch] as f32;
206 +             let dy2 = img2.at(row + 1, col)?[ch] as f32 - f32::from(img2.at(row - 1, col)?[ch]);
    |

warning: unused `self` argument
   --> src/stitching/seam_finding.rs:215:27
    |
215 |     fn find_min_cost_seam(&self, costs: &[Vec<f32>]) -> Result<Vec<usize>> {
    |                           ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: this function's return value is unnecessarily wrapped by `Result`
   --> src/stitching/seam_finding.rs:215:5
    |
215 |     fn find_min_cost_seam(&self, costs: &[Vec<f32>]) -> Result<Vec<usize>> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_wraps
help: remove `Result` from the return type...
    |
215 -     fn find_min_cost_seam(&self, costs: &[Vec<f32>]) -> Result<Vec<usize>> {
215 +     fn find_min_cost_seam(&self, costs: &[Vec<f32>]) -> std::vec::Vec<usize> {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
218 ~             return Vec::new();
219 |         }
...
222 |         if width == 0 {
223 ~             return Vec::new();
224 |         }
...
271 |
272 ~         seam
    |

warning: the loop variable `prev_col` is used to index `dp`
   --> src/stitching/seam_finding.rs:241:33
    |
241 |                 for prev_col in col.saturating_sub(1)..=(col + 1).min(width - 1) {
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
241 -                 for prev_col in col.saturating_sub(1)..=(col + 1).min(width - 1) {
241 +                 for (prev_col, <item>) in dp.iter().enumerate().take((col + 1).min(width - 1) + 1).skip(col.saturating_sub(1)) {
    |

warning: the loop variable `col` is used to index `dp`
   --> src/stitching/seam_finding.rs:257:20
    |
257 |         for col in 1..width {
    |                    ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator and enumerate()
    |
257 -         for col in 1..width {
257 +         for (col, <item>) in dp.iter().enumerate().take(width).skip(1) {
    |

warning: unused `self` argument
   --> src/stitching/seam_finding.rs:276:9
    |
276 |         &self,
    |         ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/seam_finding.rs:283:23
    |
283 |             let row = overlap.y as usize + row_offset;
    |                       ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: you should consider adding a `Default` implementation for `VoronoiSeamFinder`
   --> src/stitching/seam_finding.rs:308:5
    |
308 | /     pub fn new() -> Self {
309 | |         Self
310 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
307 + impl Default for VoronoiSeamFinder {
308 +     fn default() -> Self {
309 +         Self::new()
310 +     }
311 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/stitching/seam_finding.rs:308:12
    |
308 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
308 ~     #[must_use] 
309 ~     pub fn new() -> Self {
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/seam_finding.rs:331:47
    |
331 |                 let center_x = corners[i].0 + images[i].cols() as i32 / 2;
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
331 -                 let center_x = corners[i].0 + images[i].cols() as i32 / 2;
331 +                 let center_x = corners[i].0 + i32::try_from(images[i].cols()) / 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/seam_finding.rs:331:47
    |
331 |                 let center_x = corners[i].0 + images[i].cols() as i32 / 2;
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/seam_finding.rs:335:54
    |
335 |                         let pixel_x = corners[i].0 + col as i32;
    |                                                      ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
335 -                         let pixel_x = corners[i].0 + col as i32;
335 +                         let pixel_x = corners[i].0 + i32::try_from(col);
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/seam_finding.rs:335:54
    |
335 |                         let pixel_x = corners[i].0 + col as i32;
    |                                                      ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/seam_finding.rs:340:69
    |
340 | ...                   let other_center_x = corners[j].0 + images[j].cols() as i32 / 2;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
340 -                                 let other_center_x = corners[j].0 + images[j].cols() as i32 / 2;
340 +                                 let other_center_x = corners[j].0 + i32::try_from(images[j].cols()) / 2;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/seam_finding.rs:340:69
    |
340 | ...                   let other_center_x = corners[j].0 + images[j].cols() as i32 / 2;
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/blending.rs:11:12
   |
11 |     pub fn new(num_bands: usize) -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
11 ~     #[must_use] 
12 ~     pub fn new(num_bands: usize) -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/stitching/blending.rs:18:12
   |
18 |     pub fn with_sharpness(mut self, sharpness: f32) -> Self {
   |            ^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
18 ~     #[must_use] 
19 ~     pub fn with_sharpness(mut self, sharpness: f32) -> Self {
   |

warning: missing `#[must_use]` attribute on a method returning `Self`
  --> src/stitching/blending.rs:18:5
   |
18 | /     pub fn with_sharpness(mut self, sharpness: f32) -> Self {
19 | |         self.sharpness = sharpness;
20 | |         self
21 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#return_self_not_must_use

warning: docs for function which may panic missing `# Panics` section
  --> src/stitching/blending.rs:23:5
   |
23 |     pub fn blend(&self, images: &[Mat], masks: &[Mat]) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/stitching/blending.rs:35:20
   |
35 |         let rows = images.iter().map(|img| img.rows()).max().unwrap();
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: docs for function returning `Result` missing `# Errors` section
  --> src/stitching/blending.rs:23:5
   |
23 |     pub fn blend(&self, images: &[Mat], masks: &[Mat]) -> Result<Mat> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: redundant closure
  --> src/stitching/blending.rs:35:38
   |
35 |         let rows = images.iter().map(|img| img.rows()).max().unwrap();
   |                                      ^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `super::super::core::mat::Mat::rows`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#redundant_closure_for_method_calls

warning: redundant closure
  --> src/stitching/blending.rs:36:38
   |
36 |         let cols = images.iter().map(|img| img.cols()).max().unwrap();
   |                                      ^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `super::super::core::mat::Mat::cols`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#redundant_closure_for_method_calls

warning: casting `f32` to `u8` may truncate the value
   --> src/stitching/blending.rs:109:52
    |
109 |                     output.at_mut(row, col)?[ch] = val as u8;
    |                                                    ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/stitching/blending.rs:109:52
    |
109 |                     output.at_mut(row, col)?[ch] = val as u8;
    |                                                    ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/blending.rs:157:31
    |
157 |                     let val = image.at(row, col)?[ch] as f32;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
157 -                     let val = image.at(row, col)?[ch] as f32;
157 +                     let val = f32::from(image.at(row, col)?[ch]);
    |

warning: unused `self` argument
   --> src/stitching/blending.rs:178:19
    |
178 |     fn downsample(&self, image: &Mat) -> Result<Mat> {
    |                   ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: unused `self` argument
   --> src/stitching/blending.rs:198:17
    |
198 |     fn upsample(&self, image: &Mat, target_rows: usize, target_cols: usize) -> Result<Mat> {
    |                 ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:201:25
    |
201 |         let row_scale = image.rows() as f32 / target_rows as f32;
    |                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:201:47
    |
201 |         let row_scale = image.rows() as f32 / target_rows as f32;
    |                                               ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:202:25
    |
202 |         let col_scale = image.cols() as f32 / target_cols as f32;
    |                         ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:202:47
    |
202 |         let col_scale = image.cols() as f32 / target_cols as f32;
    |                                               ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/stitching/blending.rs:206:31
    |
206 |                 let src_row = (row as f32 * row_scale).min(image.rows() as f32 - 1.0) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/stitching/blending.rs:206:31
    |
206 |                 let src_row = (row as f32 * row_scale).min(image.rows() as f32 - 1.0) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:206:32
    |
206 |                 let src_row = (row as f32 * row_scale).min(image.rows() as f32 - 1.0) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:206:60
    |
206 |                 let src_row = (row as f32 * row_scale).min(image.rows() as f32 - 1.0) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f32` to `usize` may truncate the value
   --> src/stitching/blending.rs:207:31
    |
207 |                 let src_col = (col as f32 * col_scale).min(image.cols() as f32 - 1.0) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `usize` may lose the sign of the value
   --> src/stitching/blending.rs:207:31
    |
207 |                 let src_col = (col as f32 * col_scale).min(image.cols() as f32 - 1.0) as usize;
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:207:32
    |
207 |                 let src_col = (col as f32 * col_scale).min(image.cols() as f32 - 1.0) as usize;
    |                                ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f32` causes a loss of precision (`usize` is 32 or 64 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:207:60
    |
207 |                 let src_col = (col as f32 * col_scale).min(image.cols() as f32 - 1.0) as usize;
    |                                                            ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
   --> src/stitching/blending.rs:254:12
    |
254 |     pub fn new(sharpness: f32) -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
254 ~     #[must_use] 
255 ~     pub fn new(sharpness: f32) -> Self {
    |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/stitching/blending.rs:258:5
    |
258 |     pub fn blend(&self, images: &[Mat], masks: &[Mat]) -> Result<Mat> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f32` can be expressed infallibly using `From`
   --> src/stitching/blending.rs:282:41
    |
282 | ...                   let pixel = images[i].at(row, col)?[ch] as f32;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f32::from` instead
    |
282 -                             let pixel = images[i].at(row, col)?[ch] as f32;
282 +                             let pixel = f32::from(images[i].at(row, col)?[ch]);
    |

warning: casting `f32` to `u8` may truncate the value
   --> src/stitching/blending.rs:290:25
    |
290 |                         (weighted_sum / weight_sum) as u8
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f32` to `u8` may lose the sign of the value
   --> src/stitching/blending.rs:290:25
    |
290 |                         (weighted_sum / weight_sum) as u8
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: unused `self` argument
   --> src/stitching/blending.rs:326:29
    |
326 |     fn distance_to_boundary(&self, mask: &Mat, row: usize, col: usize) -> Result<f32> {
    |                             ^^^^^
    |
    = help: consider refactoring to an associated function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_self

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/stitching/blending.rs:332:20
    |
332 |         for dy in -(search_radius as i32)..=(search_radius as i32) {
    |                    ^^^^^^^^^^^^^^^^^^^^^^ help: try: `search_radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/stitching/blending.rs:332:45
    |
332 |         for dy in -(search_radius as i32)..=(search_radius as i32) {
    |                                             ^^^^^^^^^^^^^^^^^^^^^^ help: try: `search_radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/stitching/blending.rs:333:24
    |
333 |             for dx in -(search_radius as i32)..=(search_radius as i32) {
    |                        ^^^^^^^^^^^^^^^^^^^^^^ help: try: `search_radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting to the same type is unnecessary (`i32` -> `i32`)
   --> src/stitching/blending.rs:333:49
    |
333 |             for dx in -(search_radius as i32)..=(search_radius as i32) {
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^ help: try: `search_radius`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unnecessary_cast

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/blending.rs:334:25
    |
334 |                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/blending.rs:334:26
    |
334 |                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
334 -                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
334 +                 let y = (i32::try_from(row) + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/blending.rs:334:26
    |
334 |                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/blending.rs:334:54
    |
334 |                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
334 -                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
334 +                 let y = (row as i32 + dy).max(0).min(i32::try_from(mask.rows()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/blending.rs:334:54
    |
334 |                 let y = (row as i32 + dy).max(0).min(mask.rows() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `usize` may lose the sign of the value
   --> src/stitching/blending.rs:335:25
    |
335 |                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/blending.rs:335:26
    |
335 |                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
335 -                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
335 +                 let x = (i32::try_from(col) + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/blending.rs:335:26
    |
335 |                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |                          ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/stitching/blending.rs:335:54
    |
335 |                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
335 -                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
335 +                 let x = (col as i32 + dx).max(0).min(i32::try_from(mask.cols()) - 1) as usize;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/stitching/blending.rs:335:54
    |
335 |                 let x = (col as i32 + dx).max(0).min(mask.cols() as i32 - 1) as usize;
    |                                                      ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/stitching/blending.rs:338:32
    |
338 |                     let dist = ((dx * dx + dy * dy) as f32).sqrt();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: you should consider adding a `Default` implementation for `Moments`
  --> src/shape/moments.rs:40:5
   |
40 | /     pub fn new() -> Self {
41 | |         Self {
42 | |             m00: 0.0,
43 | |             m10: 0.0,
...  |
67 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
   |
39 + impl Default for Moments {
40 +     fn default() -> Self {
41 +         Self::new()
42 +     }
43 + }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/shape/moments.rs:40:12
   |
40 |     pub fn new() -> Self {
   |            ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
40 ~     #[must_use] 
41 ~     pub fn new() -> Self {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/shape/moments.rs:70:12
   |
70 |     pub fn centroid(&self) -> (f64, f64) {
   |            ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
70 ~     #[must_use] 
71 ~     pub fn centroid(&self) -> (f64, f64) {
   |

warning: unnecessary `!=` operation
  --> src/shape/moments.rs:71:9
   |
71 | /         if self.m00 != 0.0 {
72 | |             (self.m10 / self.m00, self.m01 / self.m00)
73 | |         } else {
74 | |             (0.0, 0.0)
75 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#if_not_else
help: try
   |
71 ~         if self.m00 == 0.0 {
72 +             (0.0, 0.0)
73 +         } else {
74 +             (self.m10 / self.m00, self.m01 / self.m00)
75 +         }
   |

warning: this method could have a `#[must_use]` attribute
  --> src/shape/moments.rs:79:12
   |
79 |     pub fn area(&self) -> f64 {
   |            ^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
79 ~     #[must_use] 
80 ~     pub fn area(&self) -> f64 {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/shape/moments.rs:84:12
   |
84 |     pub fn orientation(&self) -> f64 {
   |            ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
84 ~     #[must_use] 
85 ~     pub fn orientation(&self) -> f64 {
   |

warning: this method could have a `#[must_use]` attribute
  --> src/shape/moments.rs:93:12
   |
93 |     pub fn eccentricity(&self) -> f64 {
   |            ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
93 ~     #[must_use] 
94 ~     pub fn eccentricity(&self) -> f64 {
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/shape/moments.rs:109:1
    |
109 | pub fn compute_moments(image: &Mat) -> Result<Moments> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:121:29
    |
121 |             let intensity = image.at(row, col)?[0] as f64;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
121 -             let intensity = image.at(row, col)?[0] as f64;
121 +             let intensity = f64::from(image.at(row, col)?[0]);
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/moments.rs:124:25
    |
124 |                 let x = col as f64;
    |                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/moments.rs:125:25
    |
125 |                 let y = row as f64;
    |                         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `u8` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:149:33
    |
149 |                 let intensity = image.at(row, col)?[0] as f64;
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
149 -                 let intensity = image.at(row, col)?[0] as f64;
149 +                 let intensity = f64::from(image.at(row, col)?[0]);
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/moments.rs:152:29
    |
152 |                     let x = col as f64 - x_bar;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/moments.rs:153:29
    |
153 |                     let y = row as f64 - y_bar;
    |                             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function could have a `#[must_use]` attribute
   --> src/shape/moments.rs:184:8
    |
184 | pub fn hu_moments(moments: &Moments) -> [f64; 7] {
    |        ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
184 + #[must_use] 
185 | pub fn hu_moments(moments: &Moments) -> [f64; 7] {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/shape/moments.rs:219:8
    |
219 | pub fn contour_moments(contour: &[Point]) -> Moments {
    |        ^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
219 + #[must_use] 
220 | pub fn contour_moments(contour: &[Point]) -> Moments {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:232:18
    |
232 |         let xi = curr.x as f64;
    |                  ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
232 -         let xi = curr.x as f64;
232 +         let xi = f64::from(curr.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:233:18
    |
233 |         let yi = curr.y as f64;
    |                  ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
233 -         let yi = curr.y as f64;
233 +         let yi = f64::from(curr.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:234:19
    |
234 |         let xi1 = next.x as f64;
    |                   ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
234 -         let xi1 = next.x as f64;
234 +         let xi1 = f64::from(next.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/moments.rs:235:19
    |
235 |         let yi1 = next.y as f64;
    |                   ^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
235 -         let yi1 = next.y as f64;
235 +         let yi1 = f64::from(next.y);
    |

warning: this function could have a `#[must_use]` attribute
  --> src/shape/matching.rs:14:8
   |
14 | pub fn match_shapes(
   |        ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
14 + #[must_use] 
15 | pub fn match_shapes(
   |

warning: this function could have a `#[must_use]` attribute
  --> src/shape/matching.rs:71:8
   |
71 | pub fn hausdorff_distance(contour1: &[Point], contour2: &[Point]) -> f64 {
   |        ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
71 + #[must_use] 
72 | pub fn hausdorff_distance(contour1: &[Point], contour2: &[Point]) -> f64 {
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/matching.rs:89:22
   |
89 |             let dx = (p1.x - p2.x) as f64;
   |                      ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
89 -             let dx = (p1.x - p2.x) as f64;
89 +             let dx = f64::from(p1.x - p2.x);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/matching.rs:90:22
   |
90 |             let dy = (p1.y - p2.y) as f64;
   |                      ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
90 -             let dy = (p1.y - p2.y) as f64;
90 +             let dy = f64::from(p1.y - p2.y);
   |

warning: docs for function returning `Result` missing `# Errors` section
   --> src/shape/matching.rs:103:1
    |
103 | pub fn frechet_distance(curve1: &[Point], curve2: &[Point]) -> Result<f64> {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_errors_doc

warning: adding items after statements is confusing, since items exist from the start of the scope
   --> src/shape/matching.rs:114:5
    |
114 | /     fn compute_ca(
115 | |         i: usize,
116 | |         j: usize,
117 | |         curve1: &[Point],
...   |
141 | |         ca[i][j]
142 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#items_after_statements

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/matching.rs:147:23
    |
147 | fn point_distance(p1: &Point, p2: &Point) -> f64 {
    |                       ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/matching.rs:147:35
    |
147 | fn point_distance(p1: &Point, p2: &Point) -> f64 {
    |                                   ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/matching.rs:148:14
    |
148 |     let dx = (p1.x - p2.x) as f64;
    |              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
148 -     let dx = (p1.x - p2.x) as f64;
148 +     let dx = f64::from(p1.x - p2.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/matching.rs:149:14
    |
149 |     let dy = (p1.y - p2.y) as f64;
    |              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
149 -     let dy = (p1.y - p2.y) as f64;
149 +     let dy = f64::from(p1.y - p2.y);
    |

warning: you should consider adding a `Default` implementation for `ShapeContext`
   --> src/shape/matching.rs:162:5
    |
162 | /     pub fn new() -> Self {
163 | |         Self {
164 | |             bins_r: 5,
165 | |             bins_theta: 12,
...   |
169 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#new_without_default
help: try adding this
    |
161 + impl Default for ShapeContext {
162 +     fn default() -> Self {
163 +         Self::new()
164 +     }
165 + }
    |

warning: this method could have a `#[must_use]` attribute
   --> src/shape/matching.rs:162:12
    |
162 |     pub fn new() -> Self {
    |            ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
162 ~     #[must_use] 
163 ~     pub fn new() -> Self {
    |

warning: this method could have a `#[must_use]` attribute
   --> src/shape/matching.rs:172:12
    |
172 |     pub fn compute(&self, contour: &[Point], point_idx: usize) -> Vec<usize> {
    |            ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
172 ~     #[must_use] 
173 ~     pub fn compute(&self, contour: &[Point], point_idx: usize) -> Vec<usize> {
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/matching.rs:185:22
    |
185 |         mean_dist /= contour.len() as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/matching.rs:193:22
    |
193 |             let dx = (p.x - point.x) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
193 -             let dx = (p.x - point.x) as f64;
193 +             let dx = f64::from(p.x - point.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/matching.rs:194:22
    |
194 |             let dy = (p.y - point.y) as f64;
    |                      ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
194 -             let dy = (p.y - point.y) as f64;
194 +             let dy = f64::from(p.y - point.y);
    |

warning: casting `f64` to `usize` may truncate the value
   --> src/shape/matching.rs:208:17
    |
208 |                 ((log_r / log_r_outer) * (self.bins_r as f64)) as usize
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/shape/matching.rs:208:17
    |
208 |                 ((log_r / log_r_outer) * (self.bins_r as f64)) as usize
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/matching.rs:208:42
    |
208 |                 ((log_r / log_r_outer) * (self.bins_r as f64)) as usize
    |                                          ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `f64` to `usize` may truncate the value
   --> src/shape/matching.rs:213:29
    |
213 |             let theta_bin = (theta_normalized * self.bins_theta as f64) as usize % self.bins_theta;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `usize` may lose the sign of the value
   --> src/shape/matching.rs:213:29
    |
213 |             let theta_bin = (theta_normalized * self.bins_theta as f64) as usize % self.bins_theta;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_sign_loss

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/matching.rs:213:49
    |
213 |             let theta_bin = (theta_normalized * self.bins_theta as f64) as usize % self.bins_theta;
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this method could have a `#[must_use]` attribute
   --> src/shape/matching.rs:223:12
    |
223 |     pub fn chi_square_distance(&self, hist1: &[usize], hist2: &[usize]) -> f64 {
    |            ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
223 ~     #[must_use] 
224 ~     pub fn chi_square_distance(&self, hist1: &[usize], hist2: &[usize]) -> f64 {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/matching.rs:231:23
    |
231 |             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
231 -             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
231 +             let num = f64::from((h1 as i32 - h2 as i32).pow(2));
    |

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/shape/matching.rs:231:24
    |
231 |             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
    |                        ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
231 -             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
231 +             let num = (i32::try_from(h1) - h2 as i32).pow(2) as f64;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/shape/matching.rs:231:24
    |
231 |             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
    |                        ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers
   --> src/shape/matching.rs:231:36
    |
231 |             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
    |                                    ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
231 -             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
231 +             let num = (h1 as i32 - i32::try_from(h2)).pow(2) as f64;
    |

warning: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers
   --> src/shape/matching.rs:231:36
    |
231 |             let num = (h1 as i32 - h2 as i32).pow(2) as f64;
    |                                    ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_wrap

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/matching.rs:232:25
    |
232 |             let denom = (h1 + h2) as f64;
    |                         ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function could have a `#[must_use]` attribute
   --> src/shape/matching.rs:244:8
    |
244 | pub fn chamfer_distance(contour1: &[Point], contour2: &[Point]) -> f64 {
    |        ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
244 + #[must_use] 
245 | pub fn chamfer_distance(contour1: &[Point], contour2: &[Point]) -> f64 {
    |

warning: casting `usize` to `f64` causes a loss of precision on targets with 64-bit wide pointers (`usize` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/shape/matching.rs:262:11
    |
262 |     sum / contour1.len() as f64
    |           ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this function could have a `#[must_use]` attribute
 --> src/shape/descriptors.rs:4:8
  |
4 | pub fn arc_length(contour: &[Point], closed: bool) -> f64 {
  |        ^^^^^^^^^^
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
  |
4 + #[must_use] 
5 | pub fn arc_length(contour: &[Point], closed: bool) -> f64 {
  |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:21:18
   |
21 |         let dx = (p2.x - p1.x) as f64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
21 -         let dx = (p2.x - p1.x) as f64;
21 +         let dx = f64::from(p2.x - p1.x);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:22:18
   |
22 |         let dy = (p2.y - p1.y) as f64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
22 -         let dy = (p2.y - p1.y) as f64;
22 +         let dy = f64::from(p2.y - p1.y);
   |

warning: this function could have a `#[must_use]` attribute
  --> src/shape/descriptors.rs:31:8
   |
31 | pub fn contour_area(contour: &[Point]) -> f64 {
   |        ^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
31 + #[must_use] 
32 | pub fn contour_area(contour: &[Point]) -> f64 {
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:40:17
   |
40 |         area += (contour[i].x * contour[j].y) as f64;
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
40 -         area += (contour[i].x * contour[j].y) as f64;
40 +         area += f64::from(contour[i].x * contour[j].y);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:41:17
   |
41 |         area -= (contour[j].x * contour[i].y) as f64;
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
41 -         area -= (contour[j].x * contour[i].y) as f64;
41 +         area -= f64::from(contour[j].x * contour[i].y);
   |

warning: this function could have a `#[must_use]` attribute
  --> src/shape/descriptors.rs:48:8
   |
48 | pub fn circularity(contour: &[Point]) -> f64 {
   |        ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
48 + #[must_use] 
49 | pub fn circularity(contour: &[Point]) -> f64 {
   |

warning: this function could have a `#[must_use]` attribute
  --> src/shape/descriptors.rs:60:8
   |
60 | pub fn convexity(contour: &[Point]) -> f64 {
   |        ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
60 + #[must_use] 
61 | pub fn convexity(contour: &[Point]) -> f64 {
   |

warning: docs for function which may panic missing `# Panics` section
  --> src/shape/descriptors.rs:74:1
   |
74 | pub fn convex_hull(points: &[Point]) -> Vec<Point> {
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
note: first possible panic found here
  --> src/shape/descriptors.rs:97:9
   |
97 |         angle_a.partial_cmp(&angle_b).unwrap()
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#missing_panics_doc

warning: this function could have a `#[must_use]` attribute
  --> src/shape/descriptors.rs:74:8
   |
74 | pub fn convex_hull(points: &[Point]) -> Vec<Point> {
   |        ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
   |
74 + #[must_use] 
75 | pub fn convex_hull(points: &[Point]) -> Vec<Point> {
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:94:23
   |
94 |         let angle_a = ((a.y - anchor.y) as f64).atan2((a.x - anchor.x) as f64);
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
94 -         let angle_a = ((a.y - anchor.y) as f64).atan2((a.x - anchor.x) as f64);
94 +         let angle_a = f64::from(a.y - anchor.y).atan2((a.x - anchor.x) as f64);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:94:55
   |
94 |         let angle_a = ((a.y - anchor.y) as f64).atan2((a.x - anchor.x) as f64);
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
94 -         let angle_a = ((a.y - anchor.y) as f64).atan2((a.x - anchor.x) as f64);
94 +         let angle_a = ((a.y - anchor.y) as f64).atan2(f64::from(a.x - anchor.x));
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:95:23
   |
95 |         let angle_b = ((b.y - anchor.y) as f64).atan2((b.x - anchor.x) as f64);
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
95 -         let angle_b = ((b.y - anchor.y) as f64).atan2((b.x - anchor.x) as f64);
95 +         let angle_b = f64::from(b.y - anchor.y).atan2((b.x - anchor.x) as f64);
   |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/shape/descriptors.rs:95:55
   |
95 |         let angle_b = ((b.y - anchor.y) as f64).atan2((b.x - anchor.x) as f64);
   |                                                       ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
   |
95 -         let angle_b = ((b.y - anchor.y) as f64).atan2((b.x - anchor.x) as f64);
95 +         let angle_b = ((b.y - anchor.y) as f64).atan2(f64::from(b.x - anchor.x));
   |

warning: the loop variable `i` is only used to index `pts`
   --> src/shape/descriptors.rs:104:14
    |
104 |     for i in 2..pts.len() {
    |              ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#needless_range_loop
help: consider using an iterator
    |
104 -     for i in 2..pts.len() {
104 +     for <item> in pts.iter().skip(2) {
    |

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:114:12
    |
114 | fn ccw(p1: &Point, p2: &Point, p3: &Point) -> f64 {
    |            ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:114:24
    |
114 | fn ccw(p1: &Point, p2: &Point, p3: &Point) -> f64 {
    |                        ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:114:36
    |
114 | fn ccw(p1: &Point, p2: &Point, p3: &Point) -> f64 {
    |                                    ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:115:5
    |
115 |     ((p2.x - p1.x) * (p3.y - p1.y) - (p2.y - p1.y) * (p3.x - p1.x)) as f64
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
115 -     ((p2.x - p1.x) * (p3.y - p1.y) - (p2.y - p1.y) * (p3.x - p1.x)) as f64
115 +     f64::from((p2.x - p1.x) * (p3.y - p1.y) - (p2.y - p1.y) * (p3.x - p1.x))
    |

warning: this function could have a `#[must_use]` attribute
   --> src/shape/descriptors.rs:119:8
    |
119 | pub fn min_enclosing_circle(points: &[Point]) -> (Point, f32) {
    |        ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
119 + #[must_use] 
120 | pub fn min_enclosing_circle(points: &[Point]) -> (Point, f32) {
    |

warning: these match arms have identical bodies
   --> src/shape/descriptors.rs:141:13
    |
141 |             0 => (Point::new(0, 0), 0.0),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
144 |             _ => (Point::new(0, 0), 0.0),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the wildcard arm
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#match_same_arms
help: otherwise remove the non-wildcard arm
    |
141 -             0 => (Point::new(0, 0), 0.0),
    |

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:164:29
    |
164 | fn circle_from_2_points(p1: &Point, p2: &Point) -> (Point, f32) {
    |                             ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:164:41
    |
164 | fn circle_from_2_points(p1: &Point, p2: &Point) -> (Point, f32) {
    |                                         ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: manual implementation of `midpoint` which can overflow
   --> src/shape/descriptors.rs:165:14
    |
165 |     let cx = (p1.x + p2.x) / 2;
    |              ^^^^^^^^^^^^^^^^^ help: use `i32::midpoint` instead: `i32::midpoint(p1.x, p2.x)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: manual implementation of `midpoint` which can overflow
   --> src/shape/descriptors.rs:166:14
    |
166 |     let cy = (p1.y + p2.y) / 2;
    |              ^^^^^^^^^^^^^^^^^ help: use `i32::midpoint` instead: `i32::midpoint(p1.y, p2.y)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#manual_midpoint

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:172:29
    |
172 | fn circle_from_3_points(p1: &Point, p2: &Point, p3: &Point) -> (Point, f32) {
    |                             ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:172:41
    |
172 | fn circle_from_3_points(p1: &Point, p2: &Point, p3: &Point) -> (Point, f32) {
    |                                         ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:172:53
    |
172 | fn circle_from_3_points(p1: &Point, p2: &Point, p3: &Point) -> (Point, f32) {
    |                                                     ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:173:14
    |
173 |     let ax = p1.x as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
173 -     let ax = p1.x as f64;
173 +     let ax = f64::from(p1.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:174:14
    |
174 |     let ay = p1.y as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
174 -     let ay = p1.y as f64;
174 +     let ay = f64::from(p1.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:175:14
    |
175 |     let bx = p2.x as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
175 -     let bx = p2.x as f64;
175 +     let bx = f64::from(p2.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:176:14
    |
176 |     let by = p2.y as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
176 -     let by = p2.y as f64;
176 +     let by = f64::from(p2.y);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:177:14
    |
177 |     let cx = p3.x as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
177 -     let cx = p3.x as f64;
177 +     let cx = f64::from(p3.x);
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:178:14
    |
178 |     let cy = p3.y as f64;
    |              ^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
178 -     let cy = p3.y as f64;
178 +     let cy = f64::from(p3.y);
    |

warning: casting `f64` to `i32` may truncate the value
   --> src/shape/descriptors.rs:190:29
    |
190 |     let center = Point::new(ux as i32, uy as i32);
    |                             ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: casting `f64` to `i32` may truncate the value
   --> src/shape/descriptors.rs:190:40
    |
190 |     let center = Point::new(ux as i32, uy as i32);
    |                                        ^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_possible_truncation

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:196:17
    |
196 | fn distance(p1: &Point, p2: &Point) -> f32 {
    |                 ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:196:29
    |
196 | fn distance(p1: &Point, p2: &Point) -> f32 {
    |                             ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/shape/descriptors.rs:197:14
    |
197 |     let dx = (p2.x - p1.x) as f32;
    |              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: casting `i32` to `f32` causes a loss of precision (`i32` is 32 bits wide, but `f32`'s mantissa is only 23 bits wide)
   --> src/shape/descriptors.rs:198:14
    |
198 |     let dy = (p2.y - p1.y) as f32;
    |              ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_precision_loss

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:202:17
    |
202 | fn is_inside(p: &Point, center: &Point, radius: f32) -> bool {
    |                 ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this argument (8 byte) is passed by reference, but would be more efficient if passed by value (limit: 8 byte)
   --> src/shape/descriptors.rs:202:33
    |
202 | fn is_inside(p: &Point, center: &Point, radius: f32) -> bool {
    |                                 ^^^^^^ help: consider passing by value instead: `Point`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#trivially_copy_pass_by_ref

warning: this function could have a `#[must_use]` attribute
   --> src/shape/descriptors.rs:207:8
    |
207 | pub fn bounding_rect(points: &[Point]) -> Rect {
    |        ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
207 + #[must_use] 
208 | pub fn bounding_rect(points: &[Point]) -> Rect {
    |

warning: this function could have a `#[must_use]` attribute
   --> src/shape/descriptors.rs:228:8
    |
228 | pub fn aspect_ratio(contour: &[Point]) -> f64 {
    |        ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
228 + #[must_use] 
229 | pub fn aspect_ratio(contour: &[Point]) -> f64 {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:235:5
    |
235 |     rect.width as f64 / rect.height as f64
    |     ^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
235 -     rect.width as f64 / rect.height as f64
235 +     f64::from(rect.width) / rect.height as f64
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:235:25
    |
235 |     rect.width as f64 / rect.height as f64
    |                         ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
235 -     rect.width as f64 / rect.height as f64
235 +     rect.width as f64 / f64::from(rect.height)
    |

warning: this function could have a `#[must_use]` attribute
   --> src/shape/descriptors.rs:239:8
    |
239 | pub fn extent(contour: &[Point]) -> f64 {
    |        ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
239 + #[must_use] 
240 | pub fn extent(contour: &[Point]) -> f64 {
    |

warning: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/shape/descriptors.rs:242:21
    |
242 |     let rect_area = (rect.width * rect.height) as f64;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#cast_lossless
help: use `f64::from` instead
    |
242 -     let rect_area = (rect.width * rect.height) as f64;
242 +     let rect_area = f64::from(rect.width * rect.height);
    |

warning: this function could have a `#[must_use]` attribute
   --> src/shape/descriptors.rs:252:8
    |
252 | pub fn solidity(contour: &[Point]) -> f64 {
    |        ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#must_use_candidate
help: add the attribute
    |
252 + #[must_use] 
253 | pub fn solidity(contour: &[Point]) -> f64 {
    |

warning: unused `async` for function with no await statements
  --> src/imgproc/color.rs:6:1
   |
 6 | / pub async fn cvt_color_async(
 7 | |     src: &Mat,
 8 | |     dst: &mut Mat,
 9 | |     code: ColorConversionCode,
...  |
43 | |     cvt_color(src, dst, code)
44 | | }
   | |_^
   |
   = help: consider removing the `async` from this function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async
   = note: `-W clippy::unused-async` implied by `-W clippy::pedantic`
   = help: to override `-W clippy::pedantic` add `#[allow(clippy::unused_async)]`

warning: unused `async` for function with no await statements
  --> src/imgproc/filter.rs:44:1
   |
44 | / pub async fn blur_async(src: &Mat, dst: &mut Mat, ksize: Size, use_gpu: bool) -> Result<()> {
45 | |     // Try GPU if requested and available
46 | |     if use_gpu && ksize.width == ksize.height {
47 | |         #[cfg(feature = "gpu")]
...  |
60 | |     blur(src, dst, ksize)
61 | | }
   | |_^
   |
   = help: consider removing the `async` from this function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/geometric.rs:177:1
    |
177 | / pub async fn flip_async(src: &Mat, dst: &mut Mat, flip_code: i32, use_gpu: bool) -> Result<()> {
178 | |     // Try GPU if requested and available
179 | |     if use_gpu {
180 | |         #[cfg(feature = "gpu")]
...   |
193 | |     flip(src, dst, flip_code)
194 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/geometric.rs:361:1
    |
361 | / pub async fn rotate_async(
362 | |     src: &Mat,
363 | |     dst: &mut Mat,
364 | |     rotate_code: RotateCode,
...   |
387 | |     rotate(src, dst, rotate_code)
388 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
  --> src/imgproc/threshold.rs:71:1
   |
71 | / pub async fn adaptive_threshold_async(
72 | |     src: &Mat,
73 | |     dst: &mut Mat,
74 | |     maxval: f64,
...  |
96 | |     adaptive_threshold(src, dst, maxval, method, thresh_type, block_size, c)
97 | | }
   | |_^
   |
   = help: consider removing the `async` from this function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/morphology.rs:260:1
    |
260 | / pub async fn erode_async(
261 | |     src: &Mat,
262 | |     dst: &mut Mat,
263 | |     kernel: &[Vec<bool>],
...   |
285 | |     erode(src, dst, kernel)
286 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/morphology.rs:290:1
    |
290 | / pub async fn dilate_async(
291 | |     src: &Mat,
292 | |     dst: &mut Mat,
293 | |     kernel: &[Vec<bool>],
...   |
315 | |     dilate(src, dst, kernel)
316 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
  --> src/imgproc/edge.rs:8:1
   |
 8 | / pub async fn sobel_async(
 9 | |     src: &Mat,
10 | |     dst: &mut Mat,
11 | |     dx: i32,
...  |
31 | |     sobel(src, dst, dx, dy, ksize)
32 | | }
   | |_^
   |
   = help: consider removing the `async` from this function
   = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/edge.rs:121:1
    |
121 | / pub async fn laplacian_async(
122 | |     src: &Mat,
123 | |     dst: &mut Mat,
124 | |     ksize: i32,
...   |
142 | |     laplacian(src, dst, ksize)
143 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: unused `async` for function with no await statements
   --> src/imgproc/edge.rs:340:1
    |
340 | / pub async fn scharr_async(
341 | |     src: &Mat,
342 | |     dst: &mut Mat,
343 | |     dx: i32,
...   |
362 | |     scharr(src, dst, dx, dy)
363 | | }
    | |_^
    |
    = help: consider removing the `async` from this function
    = help: for further information visit https://rust-lang.github.io/rust-clippy/rust-1.91.0/index.html#unused_async

warning: `opencv-rust` (lib) generated 2978 warnings (run `cargo clippy --fix --lib -p opencv-rust` to apply 803 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.06s
